<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Web Map Service Implementation Specification</title><link rel="stylesheet" href="files/ogc.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="en"><div class="titlepage"><div class="ogc_docinfo1"><p><span class="corpauthor">Open GIS Consortium Inc.</span></p><p>Date: 2002-01-16</p><p>Reference number of this OpenGIS&reg; project document: <span class="bibliomisc">OGC 01-068r3</span></p><p>Version: 1.1.1</p><p>Category: <span class="bibliomisc"><span class="trademark">OpenGIS</span>&reg; Implementation Specification</span></p><p>Status: <span class="bibliomisc">Adopted Specification</span></p><p>Editor: Jeff de La Beaujardiere</p></div><div class="ogc_doctitle"><h1>Web Map Service Implementation Specification</h1></div><div class="ogc_docinfo2"><table border="0" summary="document info"><tr><td><b>Document type:</b></td><td><b><span class="bibliomisc"><span class="trademark">OpenGIS</span>&reg; Publicly Available Standard</span></b></td></tr><tr><td><b>Document stage:</b></td><td><b><span class="bibliomisc">Adopted Specification</span></b></td></tr><tr><td><b>Document language:</b></td><td><b><span class="bibliomisc">English</span></b></td></tr></table><br></div><div class="ogc_revision_warning"><table border="1"><tr><td><div class="legalnotice"><p><span class="emphasis"><em>WARNING: The Open GIS Consortium (OGC) releases this specification
      to the public without warranty. It is subject to change without notice.
      This specification is currently under active revision by the OGC
      Technical Committee.</em></span></p><p><span class="emphasis"><em>Requests for clarification and/or revision can be made by
      contacting the OGC at <tt class="email">&lt;<a href="mailto:revisions@opengis.org">revisions@opengis.org</a>&gt;</tt>.</em></span></p></div></td></tr></table><br></div><div class="ogc_copyright"><p class="copyright">Copyright &copy; 1999, 2000, 2001 BBN Technologies</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 Cadcorp Ltd.</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 CubeWerx Inc.</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 IONIC Software s.a.</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 Laser-Scan Limited</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 SICAD Geomatics GmbH &amp; Co. oHG</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 Social Change Online Pty Ltd</p><p class="copyright">Copyright &copy; 1999, 2000, 2001 US Army Engineer Research and Development Center</p><div class="legalnotice"><p>The companies listed above have granted the Open GIS Consortium,
      Inc. (OGC) a nonexclusive, royalty-free, paid up, worldwide
      license to copy and distribute this document and to modify this document
      and distribute copies of the modified version.</p><p>This document does not represent a commitment to implement
      any portion of this specification in any company's products.</p><p>OGC's Legal, IPR and Copyright Statements are found at
      <a href="http://www.opengis.org/legal/ipr.htm" target="_top">http://www.opengis.org/legal/ipr.htm</a></p></div></div><div class="ogc_legalnotice"><div class="legalnotice"><p class="legalnotice-title"><b>NOTICE</b></p><p>Permission to use, copy, and distribute this document in any
      medium for any purpose and without fee or royalty is hereby granted,
      provided that you include the above list of copyright holders and the
      entire text of this NOTICE.</p><p>We request that authorship attribution be provided in any
      software, documents, or other items or products that you create pursuant
      to the implementation of the contents of this document, or any portion
      thereof.</p><p>No right to create modifications or derivatives of OGC documents
      is granted pursuant to this license. However, if additional requirements
      (as documented in the Copyright FAQ at
      <a href="http://www.opengis.org/legal/ipr_faq.htm" target="_top">http://www.opengis.org/legal/ipr_faq.htm</a>) are satisfied, the right to
      create modifications or derivatives is sometimes granted by the OGC to
      individuals complying with those requirements.</p><p>THIS DOCUMENT IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS
      MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING,
      BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
      PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THE
      DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF
      SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS,
      TRADEMARKS OR OTHER RIGHTS.</p><p>COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT,
      SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE DOCUMENT
      OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.</p><p>The name and trademarks of copyright holders may NOT be used in
      advertising or publicity pertaining to this document or its contents
      without specific, written prior permission. Title to copyright in this
      document will at all times remain with copyright holders.</p><p>RESTRICTED RIGHTS LEGEND. Use, duplication, or disclosure by
      government is subject to restrictions as set forth in subdivision
      (c)(1)(ii) of the Right in Technical Data and Computer Software Clause
      at DFARS 252.227.7013</p><p><span class="trademark">OpenGIS</span>&reg; is a trademark
      or registered trademark of Open GIS Consortium, Inc. in the United
      States and in other countries.</p></div></div></div><hr><div class="toc"><p><b>Table of Contents</b></p><dl><dt>i. <a href="#preface">Preface</a></dt><dt>ii. <a href="#submitting_orgs">Submitting Organizations</a></dt><dt>iii. <a href="#contacts">Submission Contact Points</a></dt><dt>vi. <a href="#revhistory">Revision History</a></dt><dt>v. <a href="#changes_to_as">Changes to the OpenGIS Abstract Specification</a></dt><dt><a href="#foreword">Foreword</a></dt><dd><dl><dt><a href="#foreword.changes_from_1_1_0">Summary of Changes from Version 1.1.0</a></dt><dt><a href="#foreword.normative_annexes">Normative Annexes</a></dt></dl></dd><dt><a href="#intro">Introduction</a></dt><dt>1. <a href="#scope">Scope</a></dt><dd><dl><dt>1.1. <a href="#scope.cascading_map_servers">Cascading Map Servers</a></dt><dt>1.2. <a href="#scope.slds">Styled Layer Descriptors</a></dt><dt>1.3. <a href="#scope.relation_to_other_services">Relation to other OGC Web Services</a></dt><dt>1.4. <a href="#scope.examples">Web Mapping Examples</a></dt></dl></dd><dt>2. <a href="#conformance">Conformance</a></dt><dt>3. <a href="#references">Normative References</a></dt><dt>4. <a href="#definitions">Terms and Definitions</a></dt><dd><dl><dt>4.1. <a href="#definitions.operation">operation</a></dt><dt>4.2. <a href="#definitions.interface">interface</a></dt><dt>4.3. <a href="#definitions.service">service</a></dt><dt>4.4. <a href="#definitions.sis">service instance server</a></dt><dt>4.5. <a href="#definitions.client">client</a></dt><dt>4.6. <a href="#definitions.request">request</a></dt><dt>4.7. <a href="#definitions.response">response</a></dt><dt>4.8. <a href="#definitions.map">map</a></dt><dt>4.9. <a href="#definitions.srs">spatial reference system</a></dt><dt>4.10. <a href="#definitions.capabilities_xml">capabilities XML</a></dt></dl></dd><dt>5. <a href="#conventions">Conventions</a></dt><dd><dl><dt>5.1. <a href="#conventions.normative_verbs">Normative verbs</a></dt><dt>5.2. <a href="#conventions.abbreviated_terms">Abbreviated Terms</a></dt></dl></dd><dt>6. <a href="#basic_elements">Basic Service Elements</a></dt><dd><dl><dt>6.1. <a href="#basic_elements.version">Version Numbering and Negotiation</a></dt><dd><dl><dt>6.1.1. <a href="#basic_elements.version.form">Version Number Form</a></dt><dt>6.1.2. <a href="#basic_elements.version.changes">Version Changes</a></dt><dt>6.1.3. <a href="#basic_elements.version.appearances">Appearance in Requests and in Service Metadata</a></dt><dt>6.1.4. <a href="#basic_elements.version.negotiation">Version Number Negotiation</a></dt></dl></dd><dt>6.2. <a href="#basic_elements.request_rules">General HTTP Request Rules</a></dt><dd><dl><dt>6.2.1. <a href="#basic_elements.request_rules.reserved_chars">Reserved characters in HTTP GET URLs</a></dt><dt>6.2.2. <a href="#basic_elements.request_rules.get">HTTP GET</a></dt><dt>6.2.3. <a href="#basic_elements.request_rules.post">HTTP POST</a></dt></dl></dd><dt>6.3. <a href="#basic_elements.response_rules">General HTTP Response Rules</a></dt><dt>6.4. <a href="#basic_elements.param_rules">Request Parameter Rules</a></dt><dd><dl><dt>6.4.1. <a href="#basic_elements.param_rules.order_and_case">Parameter Ordering and Case</a></dt><dt>6.4.2. <a href="#basic_elements.param_rules.lists">Parameter Lists</a></dt></dl></dd><dt>6.5. <a href="#basic_elements.params">Common Request Parameters</a></dt><dd><dl><dt>6.5.1. <a href="#basic_elements.params.version">VERSION</a></dt><dt>6.5.2. <a href="#basic_elements.params.request">REQUEST</a></dt><dt>6.5.3. <a href="#basic_elements.params.format">FORMAT</a></dt><dt>6.5.4. <a href="#basic_elements.params.exceptions">EXCEPTIONS</a></dt><dt>6.5.5. <a href="#basic_elements.params.srs">Spatial Reference System</a></dt><dt>6.5.6. <a href="#basic_elements.params.bbox">Bounding Box</a></dt><dt>6.5.7. <a href="#basic_elements.params.time">Time Dimension</a></dt><dt>6.5.8. <a href="#basic_elements.params.elevation">Elevation Dimension</a></dt><dt>6.5.9. <a href="#basic_elements.params.dims">Other Sample Dimensions</a></dt><dt>6.5.10. <a href="#basic_elements.params.additional">Additional Request Parameters</a></dt><dt>6.5.11. <a href="#basic_elements.params.vsps">Vendor-Specific Parameters</a></dt></dl></dd><dt>6.6. <a href="#basic_elements.result">Service Result</a></dt><dt>6.7. <a href="#basic_elements.exceptions">Service Exceptions</a></dt></dl></dd><dt>7. <a href="#wmsops">Web Map Service Operations</a></dt><dd><dl><dt>7.1. <a href="#wmsops.getcapabilities">GetCapabilities (required)</a></dt><dd><dl><dt>7.1.1. <a href="#wmsops.getcapabilities.general">General</a></dt><dt>7.1.2. <a href="#wmsops.getcapabilities.overview">GetCapabilities Request Overview</a></dt><dt>7.1.3. <a href="#wmsops.getcapabilities.params">Request Parameters</a></dt><dt>7.1.4. <a href="#wmsops.getcapabilities.response">GetCapabilities Response</a></dt><dt>7.1.5. <a href="#wmsops.getcapabilities.output_formats">Output Formats</a></dt></dl></dd><dt>7.2. <a href="#wmsops.getmap">GetMap (required)</a></dt><dd><dl><dt>7.2.1. <a href="#wmsops.getmap.general">General</a></dt><dt>7.2.2. <a href="#wmsops.getmap.overview">GetMap Request Overview</a></dt><dt>7.2.3. <a href="#wmsops.getmap.params">Request Parameters</a></dt><dt>7.2.4. <a href="#wmsops.getmap.vsps">Vendor-Specific Parameters</a></dt><dt>7.2.5. <a href="#wmsops.getmap.response">GetMap Response</a></dt></dl></dd><dt>7.3. <a href="#wmsops.getfeatureinfo">GetFeatureInfo (optional)</a></dt><dd><dl><dt>7.3.1. <a href="#wmsops.getfeatureinfo.general">General</a></dt><dt>7.3.2. <a href="#wmsops.getfeatureinfo.overview">GetFeatureInfo Request Overview</a></dt><dt>7.3.3. <a href="#wmsops.getfeatureinfo.params">Request Parameters</a></dt><dt>7.3.4. <a href="#wmsops.getfeatureinfo.response">GetFeatureInfo Response</a></dt></dl></dd><dt>7.4. <a href="#wmsops.describelayer">DescribeLayer (SLD WMS only)</a></dt><dt>7.5. <a href="#wmsops.getlegendgraphic">GetLegendGraphic (SLD WMS only)</a></dt><dt>7.6. <a href="#wmsops.getstyles">GetStyles (SLD WMS only)</a></dt><dt>7.7. <a href="#wmsops.putstyles">PutStyles (SLD WMS only)</a></dt></dl></dd><dt>A. <a href="#xml_dtds">XML Document Type Definitions (normative)</a></dt><dd><dl><dt>A.1. <a href="#xml_dtds.wms_capabilities_dtd">WMS Capabilities DTD (Normative)</a></dt><dt>A.2. <a href="#xml_dtds.wms_capabilities_xml">Sample WMS Capabilities XML (Informative)</a></dt><dt>A.3. <a href="#xml_dtds.service_exception_dtd">Service Exception DTD (Normative)</a></dt><dt>A.4. <a href="#xml_dtds.service_exception_xml">Sample Service Exception XML (Informative)</a></dt></dl></dd><dt>B. <a href="#date_time">Formatting Dates and Times (normative)</a></dt><dd><dl><dt>B.1. <a href="#date_time.overview">Overview</a></dt><dt>B.2. <a href="#date_time.time">Time Format Details</a></dt><dd><dl><dt>B.2.1. <a href="#date_time.time.basic_syntax">Basic Syntax</a></dt><dt>B.2.2. <a href="#date_time.time.bce">Extension for years B.C.E.</a></dt><dt>B.2.3. <a href="#date_time.time.geologic">Extension for geologic datasets</a></dt></dl></dd><dt>B.3. <a href="#date_time.period">Period Format</a></dt><dt>B.4. <a href="#date_time.lists_and_ranges">Time Lists and Ranges</a></dt><dt>B.5. <a href="#date_time.date_fragments">Date Fragments</a></dt><dd><dl><dt>B.5.1. <a href="#date_time.date_fragments.truncated">Truncated representation</a></dt><dt>B.5.2. <a href="#date_time.date_fragments.days_of_week">Days of the week</a></dt></dl></dd><dt>B.6. <a href="#date_time.examples">Examples</a></dt><dd><dl><dt>B.6.1. <a href="#date_time.examples.complete">Complete dates and times</a></dt><dt>B.6.2. <a href="#date_time.examples.fragments">Date and time fragments</a></dt></dl></dd></dl></dd><dt>C. <a href="#dims">Handling Multi-Dimensional Data (normative)</a></dt><dd><dl><dt>C.1. <a href="#dims.overview">Overview</a></dt><dt>C.2. <a href="#dims.declaring">Declaring Dimensions</a></dt><dt>C.3. <a href="#dims.extents">Specifying Dimensional Extents</a></dt><dt>C.4. <a href="#dims.requests">Including Dimensional Values in a Request</a></dt><dd><dl><dt>C.4.1. <a href="#dims.requests.elevation_and_time">Elevation and Time Values in Requests</a></dt><dt>C.4.2. <a href="#dims.requests.other">Sample Dimension Values in Requests</a></dt><dt>C.4.3. <a href="#dims.requests.single_vs_multiple">Single- and Multiple-Valued Requests</a></dt><dt>C.4.4. <a href="#dims.requests.applicability">Applicability to Multiple Data Objects</a></dt><dt>C.4.5. <a href="#dims.requests.examples">Example requests</a></dt></dl></dd><dt>C.5. <a href="#dims.responses">Server Responses</a></dt><dd><dl><dt>C.5.1. <a href="#dims.responses.incorrect">Incorrect Values</a></dt><dt>C.5.1. <a href="#dims.responses.default">Default Values</a></dt><dt>C.5.2. <a href="#dims.responses.nearest">Nearest Values</a></dt></dl></dd></dl></dd><dt>D. <a href="#conformance_tests">Conformance Tests (normative)</a></dt><dt>E. <a href="#auto_projections">Automatic Projections (normative)</a></dt><dd><dl><dt>E.1. <a href="#auto_projections.42001">Auto Universal Transverse Mercator (AUTO:42001)</a></dt><dt>E.2. <a href="#auto_projections.42002">Auto Transverse Mercator (AUTO:42002)</a></dt><dt>E.3. <a href="#auto_projections.42003">Auto Orthographic (AUTO:42003)</a></dt><dt>E.4. <a href="#auto_projections.42004">Auto Equirectangular (AUTO:42004)</a></dt></dl></dd><dt>F. <a href="#future">Future Work (informative)</a></dt><dd><dl><dt>F.1. <a href="#future.uml_model">UML Model</a></dt><dt>F.2. <a href="#future.http_post">Support for HTTP Post</a></dt><dt>F.3. <a href="#future.xml_schema">Use of XML Schema</a></dt><dt>F.4. <a href="#future.layer_identification">Layer Identification Mechanism</a></dt><dt>F.5. <a href="#future.iso_8601">Adoption of Revised ISO 8601 Standard</a></dt></dl></dd><dt><a href="#bibliography">Bibliography</a></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="preface"></a>i.&nbsp;Preface</h2></div></div><div></div></div><p>This document is primarily a correction and clarification of the
    OpenGIS Web Map Service Interface Implementation Specification version
    1.1.0 [<a href="#bibliography.ogc_document_01-047r2">4</a>], hereinafter "WMS 1.1.0." Substantive differences
    between the present specification and its predecessor are summarized in
    the Foreword and are called out in the text where appropriate.</p><p>Web Mapping within the OGC was first described in "WWW Mapping
    Framework" [<a href="#bibliography.ogc_document_97-009">5</a>]. The first OGC consensus position of the WWW Mapping
    Special Interest Group, a core task force of the OGC, is described in
    "User Interaction with Geospatial Data" [<a href="#bibliography.ogc_document_98-060">2</a>]. From these documents,
    as well as from "A Web Mapping Scenario" [<a href="#bibliography.ogc_document_98-068">7</a>], an OGC-sponsored
    initiative was begun. That initiative, known as the Web Mapping Testbed
    (WMT), was first described in a Request For Technology (RFT) [<a href="#bibliography.wmt_rft">10</a>] and then
    in a Request for Quotation (RFQ) [<a href="#bibliography.wmt_rfq">11</a>].</p><p>The WMT Phase I process culminated in the OpenGIS Web Map Service
    Interface Implementation Specification version 1.0.0 [<a href="#bibliography.ogc_document_00-028">6</a>], hereinafter
    "WMS 1.0.0." That first version supported basic interoperability
    of simple map servers and clients, but did not fully address access to
    Simple Features, Coverages, data with temporal or other dimensions, and
    other types of geoprocessing services. Many of these elements were
    addressed in the follow-on Web Mapping Testbed phase 2 (WMT2) and the
    Geospatial Fusion Services Testbed. WMS 1.1.0 was a result of WMT2.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="submitting_orgs"></a>ii.&nbsp;Submitting Organizations</h2></div></div><div></div></div><p>The OGC Web Map Service Revision Working Group submits this
    Implementation Specification to the OGC Technical Committee as a Revision
    to Web Map Service Interface Implementation Specification version 1.1.0</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="contacts"></a>iii.&nbsp;Submission Contact Points</h2></div></div><div></div></div><p>All questions regarding this submission should be directed to the
    Editor or to the WWW Mapping SIG chair:</p><div class="literallayout"><p>Jeff&nbsp;de&nbsp;La&nbsp;Beaujardiere&nbsp;(Editor)<br>
NASA&nbsp;Goddard&nbsp;Space&nbsp;Flight&nbsp;Center<br>
Code&nbsp;933<br>
Greenbelt,&nbsp;MD&nbsp;20771&nbsp;USA<br>
+1&nbsp;301&nbsp;286&nbsp;1569<br>
<tt class="email">&lt;<a href="mailto:delabeau@iniki.gsfc.nasa.gov">delabeau@iniki.gsfc.nasa.gov</a>&gt;</tt></p></div><div class="literallayout"><p>Allan&nbsp;Doyle&nbsp;(WWW&nbsp;Mapping&nbsp;Sig&nbsp;Chair)<br>
International&nbsp;Interfaces,&nbsp;Inc.<br>
948&nbsp;Great&nbsp;Plain&nbsp;Ave.&nbsp;182<br>
Needham,&nbsp;MA&nbsp;02492&nbsp;USA<br>
+1&nbsp;781&nbsp;433&nbsp;2695<br>
<tt class="email">&lt;<a href="mailto:adoyle@intl-interfaces.com">adoyle@intl-interfaces.com</a>&gt;</tt></p></div><p><b>Additional Contributors.&nbsp;</b></p><div class="literallayout"><p>Craig&nbsp;Bruce&nbsp;<br>
Cubewerx<br>
<tt class="email">&lt;<a href="mailto:csbruce@cubewerx.com">csbruce@cubewerx.com</a>&gt;</tt></p></div><div class="literallayout"><p>Adrian&nbsp;Cuthbert&nbsp;<br>
<tt class="email">&lt;<a href="mailto:adrian.cuthbert@bigfoot.com">adrian.cuthbert@bigfoot.com</a>&gt;</tt></p></div><div class="literallayout"><p>John&nbsp;Evans&nbsp;<br>
GST,&nbsp;Inc./NASA&nbsp;GSFC<br>
<tt class="email">&lt;<a href="mailto:john.evans@gsfc.nasa.gov">john.evans@gsfc.nasa.gov</a>&gt;</tt></p></div><div class="literallayout"><p>George&nbsp;Percivall&nbsp;<br>
GST,&nbsp;Inc./NASA&nbsp;GSFC<br>
<tt class="email">&lt;<a href="mailto:percivall@gsfc.nasa.gov">percivall@gsfc.nasa.gov</a>&gt;</tt></p></div><div class="literallayout"><p>Arliss&nbsp;Whiteside&nbsp;<br>
BAE&nbsp;Systems&nbsp;Mission&nbsp;Solutions<br>
<tt class="email">&lt;<a href="mailto:Arliss.Whiteside@baesystems.com">Arliss.Whiteside@baesystems.com</a>&gt;</tt></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="revhistory"></a>vi.&nbsp;Revision History</h2></div></div><div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th valign="top"><p>Date</p></th><th valign="top"><p>Release</p></th><th valign="top"><p>Editor</p></th><th valign="top"><p>Description</p></th></tr></thead><tbody><tr><td valign="top">2001-12-12</td><td valign="top">1.1.1</td><td valign="top">JdLB</td><td valign="top">Minor revision (OGC document #01-068r3)</td></tr><tr><td valign="top">2001-06-21</td><td valign="top">1.1.0</td><td valign="top">JdLB</td><td valign="top">Revised edition (OGC document #01-047r2)</td></tr><tr><td valign="top">2000-04-19</td><td valign="top">1.0.0</td><td valign="top">AD</td><td valign="top">First WMS Implementation Specification (OGC document #00-028)</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="changes_to_as"></a>v.&nbsp;Changes to the OpenGIS Abstract Specification</h2></div></div><div></div></div><p>The <span class="trademark">OpenGIS</span>&copy; Abstract
    Specification requires the following change to accommodate this <span class="trademark">OpenGIS</span>&copy; standard:</p><p>- The brief description of the Web Map Service presently found in
    Abstract Specification Topic 12, "Service Architecture," should be
    augmented.</p><p>The needed material is expected to emerge in part from the
    Architecture thread of the OGC Web Services testbed.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="foreword"></a>Foreword</h2></div></div><div></div></div><p>Attention is drawn to the possibility that some of the elements of
    this part of OGC 01-068r3 may be the subject of patent rights. Open GIS
    Consortium Inc. shall not be held responsible for identifying any or all
    such patent rights.</p><p>This edition cancels and replaces the previous edition
      (<a href="http://www.opengis.org/techno/specs/01-047r2.pdf" target="_top">OGC 01-047r2</a>), which has been technically revised.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="foreword.changes_from_1_1_0"></a>Summary of Changes from Version 1.1.0</h3></div></div><div></div></div><div class="orderedlist"><ol type="1"><li><p>The text in Section 6.5.5.1 regarding the EPSG:4326 spatial
        reference system has been revised in response to concerns raised by
        the OGC Coordinate Transformation working group using new text
        provided by that group. In that Section and elsewhere the phrase
        &#8220;<span class="quote">coordinate system</span>&#8221; has been replaced with
        &#8220;<span class="quote">coordinate reference system</span>&#8221; in keeping with the usage
        in other OGC documents.</p></li><li><p>An optional and recommended change has been made to the use of
        SRS elements in Capabilities XML. WMS 1.1.0 allowed a
        whitespace-separated list of Spatial Reference System identifiers
        inside a single SRS element. This revision allows a sequence of SRS
        elements, each containing a single identifier, and deprecates the
        whitespace-separated list encoding.</p></li><li><p>The use of the suffix &#8220;<span class="quote">Z</span>&#8221; in ISO 8601:1988(E) time
        strings in UTC has been made mandatory instead of recommended. Annex B
        now more clearly states where it has extended ISO 8601.</p></li><li><p>Section 6.5.5.1 has been clarified regarding the order of values
        in the BBOX request parameter.</p></li><li><p>The former Section 7.1.5 has been renumbered 7.1.4. Section
        7.1.4.4 ("Layers and Styles") has been rewritten for clarity.
        A new Section 7.1.4.5 ("Layer Properties") has been added.
        Some informative material that was previously found only the
        Capabilities DTD has been copied into this specification document.</p></li><li><p>Table 7, "Inheritance of Layer Properties," has been
        substantially revised for clarity. Text has been added, and material
        previously in the Comments column has been moved to appropriate
        subsections in Section 7.1.4.5.</p></li><li><p>For the use of the Styled Layer Descriptor specification, three
        new optional operations are named, but not otherwise specified, in
        this document (GetLegendGraphic, GetStyles, PutStyles).</p></li><li><p>The use of reserved characters in HTTP GET URLs has been
        clarified. This change inserts a new Section 6.2.1 and Table 1,
        renumbering later portions accordingly.</p></li><li><p>The implicit permission for servers to reference private copy of
        DTD in the Capabilities XML has been made explicit (Section 7.1.4).</p></li><li><p>Text has been added to 7.2.3.7 ("FORMAT") regarding
        acceptable and recommended output formats for GetMap requests. This
        section has also been moved to appear before the section on output
        width and height.</p></li><li><p>The fact that the XML format for reporting exceptions is
        required has been clarified. (Section 7.2.3.11).</p></li><li><p>Exception Codes defined by this document are now summarized in
        Appendix A.3.</p></li><li><p>Mention of the optional test layer WMT_GRATICULE (former Section
        7.1.4.7) has been deleted, as it was found in practice that it was
        error-prone and of little use in diagnosing alignment errors in other
        layers.</p></li><li><p>The discussion regarding maps that span the anti-meridian and
        whose X axis is longitude has been made more permissive (Section
        6.5.6).</p></li><li><p>The sample GetMap request using a default style has been
        corrected. (Introduction). An error regarding the list of styles in a
        GetMap request has been corrected (Section 7.2.3.4).</p></li><li><p>The role of each GetMap request parameter has been clarified in
        Section 7.2.3, and the name of each sub-clause therein has been
        shortened. The role of each GetFeatureInfo request parameter has been
        clarified in Section 7.3.3.</p></li><li><p>Text in Section 7.3.3.7 concerning the default value of
        FEATURE_COUNT which contradicted the information in Table 8 has been
        corrected to match Table 8, clearly making the default value be 1
        rather than arbitrary.</p></li><li><p>In Section 6.4.1 ("Parameter Ordering and Case"), the
        text about unknown parameters in requests has been loosened (from
        "shall ignore" to "shall not require").</p></li><li><p>Text has been added to Section v concerning UML and the OGC
        Abstract Specification.</p></li><li><p>Annex E ("Automatic Projections") has been added.</p></li><li><p>Annex F ("Future Work") has been added for informational
        purposes.</p></li><li><p>Text has been added to Annex D concerning the OGC Conformance
        Testing Program. Mention of ISO 19105 has been removed from Clause 2.</p></li><li><p>The list of terms and definitions (Section 4) has been
        augmented, and has been reformatted according to ISO practice.</p></li><li><p>The material previously in the Introduction has been moved to
        the Scope clause, and the Introduction has been shortened to less than
        one page to conform to ISO practice.</p></li><li><p>The list of Contributors to this document has been augmented and
        moved to Section iii ("Submission Contact Points").</p></li><li><p>The declaration and citing of normative references has been
        modified to better conform to ISO practice. The list of normative
        references has been augmented to reflect implicit mentions in the
        text. The names of authors of several references have been corrected.</p></li><li><p>The sample XML (informative) in Annex A.2 has been corrected to
        match the Service Name required by Section 7.5.1.2.</p></li><li><p>The normative verb "must" has been replaced by
        "shall" to conform to ISO practice ("shall" means
        something is required by the standard, "must" that something
        is required by law).</p></li></ol></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="foreword.normative_annexes"></a>Normative Annexes</h3></div></div><div></div></div><p>
            <a href="#xml_dtds">Annex A, XML Document Type Definitions</a>,
            <a href="#date_time">Annex B, Formatting Dates and Times</a>,
            <a href="#dims">Annex C, Handling Multi-Dimensional Data</a>,
            <a href="#conformance_tests">Annex D, Conformance Tests</a> and
            <a href="#auto_projections">Annex E, Automatic Projections</a> are normative, except that
            <a href="#xml_dtds.wms_capabilities_xml">Annex A.2, Sample WMS Capabilities XML</a> and
            <a href="#xml_dtds.service_exception_xml">Annex A.4, Sample Service Exception XML</a> are informative.
            <a href="#future">Annex F, Future Work</a> is informative.
         </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="intro"></a>Introduction</h2></div></div><div></div></div><p>A Web Map Service (WMS) produces maps of georeferenced data. We
    define a "map" as a visual representation of geodata; a map is not
    the data itself. This specification defines three WMS operations:
    GetCapabilities returns service-level metadata, which is a description of
    the service's information content and acceptable request parameters;
    GetMap returns a map image whose geospatial and dimensional parameters are
    well-defined; GetFeatureInfo (optional) returns information about
    particular features shown on a map.</p><p>This specification defines a syntax for World Wide Web (WWW) Uniform
    Resource Locators (URLs) that invoke each of these operations. Also, an
    Extensible Markup Language (XML) encoding is defined for service-level
    metadata.</p><p>When requesting a map, a client may specify the information to be
    shown on the map (one or more "Layers"), possibly the
    "Styles" of those Layers, what portion of the Earth is to be
    mapped (a "Bounding Box"), the projected or geographic coordinate
    reference system to be used (the "Spatial Reference System," or
    SRS), the desired output format, the output size (Width and Height), and
    background transparency and color.</p><p>When two or more maps are produced with the same Bounding Box,
    Spatial Reference System, and output size, the results can be accurately
    layered to produce a composite map. The use of image formats that support
    transparent backgrounds allows the lower Layers to be visible.
    Furthermore, individual map Layers can be requested from different
    Servers. The WMS specification thus enables the creation of a network of
    distributed Map Servers from which Clients can build customized maps.</p><p>A particular WMS provider in a distributed WMS network need only be
    the steward of its own data collection. This stands in contrast to
    vertically-integrated web mapping sites that gather in one place all of
    the data to be made accessible by their own private interface.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="scope"></a>1.&nbsp;Scope</h2></div></div><div></div></div><p>This <span class="trademark">OpenGIS</span>&reg; Standard
  specifies the behavior of a service that produces georeferenced maps. This
  standard specifies operations to retrieve a description of the maps offered
  by a service instance, to retrieve a map, and to query a server about
  features displayed on a map.</p><p>This <span class="trademark">OpenGIS</span>&reg; Standard is
  applicable to pictorial renderings of maps in a graphical format.
  This standard is <span class="emphasis"><em>not</em></span> applicable to retrieval of actual
  feature data or coverage data values.</p><p>A Web Map Service produces maps of georeferenced data. We define a
  "map" as a visual representation of geodata; a map is not the data
  itself. These maps are generally rendered in a pictorial format such as PNG,
  GIF or JPEG, or occasionally as vector-based graphical elements in Scalable
  Vector Graphics (SVG) or Web Computer Graphics Metafile (WebCGM) formats.
  This specification standardizes the way in which maps are requested by
  clients and the way that servers describe their data holdings. This document
  defines three operations, the first two of which are required of every WMS.</p><p>
			
         <span class="bold"><b>GetCapabilities</b></span> (required): Obtain
  service-level metadata, which is a machine-readable (and human-readable)
  description of the WMS's information content and acceptable request
  parameters.</p><p>
			
         <span class="bold"><b>GetMap </b></span>(required): Obtain a map
  image whose geospatial and dimensional parameters are well-defined.</p><p>
			
         <span class="bold"><b>GetFeatureInfo </b></span>(optional): Ask for
  information about particular features shown on a map.</p><p>A standard web browser can ask a Web Map Service to perform these
  operations simply by submitting requests in the form of Uniform Resource
  Locators (URLs) [<a href="#references.ietf_rfc_2396">IETF RFC 2396</a>]. The content of such URLs depends on which
  of the tasks is requested. All URLs include a specification version number
  and a request type parameter. In addition, when invoking GetMap a WMS Client
  can specify the information to be shown on the map (one or more
  "Layers"), possibly the "Styles" of those Layers, what
  portion of the Earth is to be mapped (a "Bounding Box"), the
  projected or geographic coordinate reference system to be used (the
  "Spatial Reference System," or SRS), the desired output format, the
  output size (Width and Height), and background transparency and color. When
  invoking GetFeatureInfo the Client indicates what map is being queried and
  which location on the map is of interest.</p><p>When two or more maps are produced with the same Bounding Box, Spatial
  Reference System, and output size, the results can be accurately layered to
  produce a composite map. The use of image formats that support transparent
  backgrounds (e.g., GIF or PNG) allows the lower Layers to be visible.
  Furthermore, individual map Layers can be requested from different Servers.
  The WMS GetMap operation thus enables the creation of a network of
  distributed Map Servers from which Clients can build customized maps.</p><p>A particular WMS provider in a distributed WMS network need only be
  the steward of its own data collection. This stands in contrast to
  vertically-integrated web mapping sites that gather in one place all of the
  data to be made accessible by their own private interface.</p><p>Because each WMS is independent, a WMS must be able to provide a
  machine-readable description of its capabilities. This "Service
  Metadata" enables Clients to formulate valid requests and enables the
  construction of searchable catalogs that can direct clients to particular
  WMSes.</p><p>A WMS may optionally allow the GetFeatureInfo operation. If it does,
  its maps are said to be "queryable," and a Client can request
  information about features on a map by adding to the map URL additional
  parameters specifying a location (as an X, Y offset from the upper left
  corner) and the number of nearby features about which to return information.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="scope.cascading_map_servers"></a>1.1.&nbsp;Cascading Map Servers</h3></div></div><div></div></div><p>A "Cascading Map Server" is a WMS that behaves like a client
  of other WMSes and behaves like a WMS to other clients. For example, a
  Cascading Map Server can aggregate the contents of several distinct map
  servers into one service. Furthermore, a Cascading Map Server can perform
  additional functions such as output format conversion or coordinate
  transformation on behalf of other servers.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="scope.slds"></a>1.2.&nbsp;Styled Layer Descriptors</h3></div></div><div></div></div><p>This specification applies to a Web Map Service that publishes its
  ability to produce maps rather than its ability to access specific data
  holdings. A basic WMS classifies its georeferenced information holdings into
  "Layers" and offers a finite number of predefined "Styles"
  in which to display those layers.</p><p>The behavior of a Web Map Service can be extended to allow
  user-defined symbolization of feature data instead of named Layers and
  Styles. The Styled Layer Descriptor (SLD) specification [<a href="#bibliography.ogc_document_01-028">3</a>] describes this
  extension. In brief, an SLD-enabled WMS retrieves features from a Web
  Feature Service [<a href="#bibliography.ogc_document_01-023">8</a>] and applies explicit styling information provided by the
  user in order to render a map.</p><p>An SLD WMS adds the following additional operations that are not
  available on a basic WMS:</p><div class="itemizedlist"><ul type="disc"><li><p>DescribeLayer</p></li><li><p>GetLegendGraphic</p></li><li><p>GetStyles</p></li><li><p>PutStyles</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="scope.relation_to_other_services"></a>1.3.&nbsp;Relation to other OGC Web Services</h3></div></div><div></div></div><p>The OGC Web Services (OWS) suite includes three principal types of
  georeferenced information access services: Web Map Server (WMS), Web
  Coverage Server (WCS), and Web Feature Server (WFS). In addition, there are
  services such as GeoParser and GeoCoder that return spatially referenced
  results. <a href="#figure.architecture" title="Figure&nbsp;1.&nbsp;OGC Web Services Architecture diagram">Figure&nbsp;1</a> is an architecture diagram showing conceptually how some
  of the OGC Web Services are related, and naming <span class="underline">some</span> (not all) of the
  operations they define.</p><div class="figure"><a name="figure.architecture"></a><p class="title"><b>Figure&nbsp;1.&nbsp;OGC Web Services Architecture diagram</b></p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="539"><tr style="height: 404px"><td><img src="files/architecture.png" height="404" alt="OGC Web Services Architecture diagram"></td></tr></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="scope.examples"></a>1.4.&nbsp;Web Mapping Examples</h3></div></div><div></div></div><p>We conclude this Introduction with some illustrative URLs and their
  resulting maps.</p><div class="example"><a name="d0e718"></a><p class="title"><b>Example&nbsp;1.&nbsp;One Server, One Layer, Default Style</b></p><p>The following hypothetical URL requests the US National Oceanographic
                  and Atmospheric Administration hurricane image shown in <a href="#figure.hurricane" title="Figure&nbsp;2.&nbsp;NOAA Hurricane Image of the Gulf of Mexico">Figure&nbsp;2</a>:</p><pre class="programlisting">http://a-map-co.com/mapserver.cgi?VERSION=1.1.0&amp;REQUEST=GetMap&amp;
SRS=EPSG:4326&amp;BBOX=-97.105,24.913,78.794,36.358&amp;
WIDTH=560&amp;HEIGHT=350&amp;LAYERS=AVHRR-09-27&amp;STYLES=&amp;
FORMAT=image/png&amp;BGCOLOR=0xFFFFFF&amp;TRANSPARENT=TRUE&amp;
EXCEPTIONS=application/vnd.ogc.se_inimage</pre></div><div class="figure"><a name="figure.hurricane"></a><p class="title"><b>Figure&nbsp;2.&nbsp;NOAA Hurricane Image of the Gulf of Mexico</b></p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="546"><tr style="height: 341px"><td><img src="files/hurricane.jpg" height="341" alt="NOAA Hurricane Image of the Gulf of Mexico"></td></tr></table></div></div><div class="example"><a name="d0e735"></a><p class="title"><b>Example&nbsp;2.&nbsp;One Server, Three Layers, Named Styles</b></p><p>The following hypothetical URL requests three layers--built-up areas,
  coastlines, and political boundaries --to produce the map shown in <a href="#figure.population" title="Figure&nbsp;3.&nbsp;Political, Coastline, and Populated Areas, Southeastern United States">Figure&nbsp;3</a>:</p><pre class="programlisting">http://b-maps.com/map.cgi?VERSION=1.1.0&amp;REQUEST=GetMap&amp;
SRS=EPSG:4326&amp;BBOX=-97.105,24.913,78.794,36.358&amp;
WIDTH=560&amp;HEIGHT=350&amp;LAYERS=BUILTUPA_1M,COASTL_1M,POLBNDL_1M&amp;
STYLES=0XFF8080,0X101040,BLACK&amp;FORMAT=image/png&amp;BGCOLOR=0xFFFFFF&amp;
TRANSPARENT=TRUE&amp;EXCEPTIONS=application/vnd.ogc.se_inimage</pre></div><div class="figure"><a name="figure.population"></a><p class="title"><b>Figure&nbsp;3.&nbsp;Political, Coastline, and Populated Areas, Southeastern United States</b></p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="546"><tr style="height: 341px"><td><img src="files/population.jpg" height="341" alt="Political, Coastline, and Populated Areas, Southeastern United States"></td></tr></table></div></div><p>Notice that in both of these URLs the spatial information is identical:</p><pre class="programlisting">SRS=EPSG:4326&amp;BBOX=-97.105,24.913,78.794,36.358&amp;
WIDTH=560&amp;HEIGHT=350.</pre><p>The second map, for which a transparent background was requested (TRANSPARENT=TRUE), can therefore be precisely overlaid on the first.</p><div class="example"><a name="d0e758"></a><p class="title"><b>Example&nbsp;3.&nbsp;Two Servers, Four Layers</b></p><p><a href="#figure.combined" title="Figure&nbsp;4.&nbsp;Combined Hurricane Image and Population Map">Figure&nbsp;4</a> shows the result of overlaying <a href="#figure.hurricane" title="Figure&nbsp;2.&nbsp;NOAA Hurricane Image of the Gulf of Mexico">Figure&nbsp;2</a> on <a href="#figure.population" title="Figure&nbsp;3.&nbsp;Political, Coastline, and Populated Areas, Southeastern United States">Figure&nbsp;3</a> to
  produce a composite map from two separate Map Servers.</p></div><div class="figure"><a name="figure.combined"></a><p class="title"><b>Figure&nbsp;4.&nbsp;Combined Hurricane Image and Population Map</b></p><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="546"><tr style="height: 341px"><td><img src="files/combined.jpg" height="341" alt="Combined Hurricane Image and Population Map"></td></tr></table></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="conformance"></a>2.&nbsp;Conformance</h2></div></div><div></div></div><p>Conformance with this specification shall be checked using all the relevant tests specified in <a href="#conformance_tests">Annex D, Conformance Tests</a>.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="references"></a>3.&nbsp;Normative References</h2></div></div><div></div></div><p>The following normative documents contain provisions that, through
	  reference in this text, constitute provisions of this specification. For
	  dated references, subsequent amendments to, or revisions of, any of these
	  publications do not apply. However, parties to agreements based on this
	  specification are encouraged to investigate the possibility of applying the
	  most recent editions of the normative documents indicated below. For undated
	  references, the latest edition of the normative document referred to
	  applies.</p><div class="bibliography"><div class="titlepage"><div><div><h2 class="title"><a name="d0e792"></a></h2></div></div><div></div></div><div class="bibliodiv"><div class="bibliomixed"><a name="references.cgi"></a><p class="bibliomixed">
	            <span class="titleabbrev">CGI</span>,
	            <span class="citetitle"><i class="citetitle">The Common Gateway Interface</i></span>, 
					<span class="publishername">National Center for Supercomputing Applications</span>, 
					<span class="bibliomisc">
	               <a href="http://hoohoo.ncsa.uiuc.edu/cgi/" target="_top">http://hoohoo.ncsa.uiuc.edu/cgi/</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.epsg"></a><p class="bibliomixed">
	            <span class="titleabbrev">EPSG</span>,
	            <span class="citetitle"><i class="citetitle">European Petroleum Survey Group Geodesy Parameters</i></span>, 
	            <span class="author"><span class="firstname">R. </span><span class="surname">Lott</span></span>,
	            <span class="author"><span class="firstname">B. </span><span class="surname">Ravenas</span></span>,
	            <span class="author"><span class="firstname">J. </span><span class="surname">Cain</span></span>,
	            <span class="author"><span class="firstname">J. P. </span><span class="surname">Girbig</span></span> and 
	            <span class="author"><span class="firstname">R. </span><span class="surname">Nicolai</span></span>, eds.,
					<span class="bibliomisc">
	               <a href="http://www.epsg.org/" target="_top">http://www.epsg.org/</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.fgdc-std-001-1988"></a><p class="bibliomixed">
	            <span class="title">FGDC-STD-001-1988</span>,
	            <span class="citetitle"><i class="citetitle">Content Standard for Digital Geospatial Metadata (version 2)</i></span>, 
	            <span class="corpauthor">US Federal Geographic Data Committee</span>,
					<span class="bibliomisc">
	               <a href="http://www.fgdc.org/metadata/contstan.html" target="_top">http://www.fgdc.org/metadata/contstan.html</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.ietf_rfc_2045"></a><p class="bibliomixed">
	            <span class="title">IETF RFC 2045</span>
	            (<span class="pubdate">November 1996</span>),
	            <span class="citetitle"><i class="citetitle">Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</i></span>, 
	            <span class="author"><span class="firstname">N. </span><span class="surname">Freed</span></span> and
	            <span class="author"><span class="firstname">N. </span><span class="surname">Bornstein</span></span>, eds,
					<span class="bibliomisc">
	               <a href="http://www.ietf.org/rfc/rfc2045.txt" target="_top">http://www.ietf.org/rfc/rfc2045.txt</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.ietf_rfc_2119"></a><p class="bibliomixed">
	            <span class="title">IETF RFC 2119</span>
	            (<span class="pubdate">March 1997</span>),
	            <span class="citetitle"><i class="citetitle">Key words for use in RFCs to Indicate Requirement Levels</i></span>, 
	            <span class="author"><span class="firstname">S. </span><span class="surname">Bradner</span></span>, ed.,
				   <span class="bibliomisc">
	               <a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt" target="_top">ftp://ftp.isi.edu/in-notes/rfc2119.txt</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.ietf_rfc_2616"></a><p class="bibliomixed">
	            <span class="title">IETF RFC 2616</span>
	            (<span class="pubdate">June 1999</span>),
	            <span class="citetitle"><i class="citetitle">Hypertext Transfer Protocol - HTTP/1.1</i></span>, 
	            <span class="author"><span class="firstname">J. </span><span class="surname">Gettys</span></span>,
	            <span class="author"><span class="firstname">J. </span><span class="surname">Mogul</span></span>,
	            <span class="author"><span class="firstname">H. </span><span class="surname">Frystyk</span></span>,
	            <span class="author"><span class="firstname">L. </span><span class="surname">Masinter</span></span>,
	            <span class="author"><span class="firstname">P. </span><span class="surname">Leach</span></span> and
	            <span class="author"><span class="firstname">T. </span><span class="surname">Berners-Lee</span></span>, eds.
					<span class="bibliomisc">
	               <a href="http://www.ietf.org/rfc/rfc2616.txt" target="_top">http://www.ietf.org/rfc/rfc2616.txt</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.ietf_rfc_2396"></a><p class="bibliomixed">
					<span class="title">IETF RFC 2396</span>
	            (<span class="pubdate">August 1998</span>),
	            <span class="citetitle"><i class="citetitle">Uniform Resource Identifiers (URI): Generic Syntax</i></span>,
	            <span class="author"><span class="firstname">T. </span><span class="surname">Berners-Lee</span></span>,
	            <span class="author"><span class="firstname">N. </span><span class="surname">Fielding</span></span> and 
	            <span class="author"><span class="firstname">L. </span><span class="surname">Masinter</span></span>, eds.,
	            <span class="bibliomisc">
	               <a href="http://www.ietf.org/rfc/rfc2396.txt" target="_top">http://www.ietf.org/rfc/rfc2396.txt</a>
	            </span>
			
	         </p></div><div class="bibliomixed"><a name="references.iso_86011988e"></a><p class="bibliomixed">
	            <span class="title">ISO 8601:1988(E)</span>, 
	            <span class="citetitle"><i class="citetitle">Data elements and interchange formats - Information interchange - Representation of dates and times</i></span>
				</p></div><div class="bibliomixed"><a name="references.iso_19115"></a><p class="bibliomixed">
	            <span class="title">ISO 19115</span>, 
	            <span class="citetitle"><i class="citetitle">Geographic information -- Metadata</i></span>, 
				</p></div><div class="bibliomixed"><a name="references.ogc_as_12"></a><p class="bibliomixed">
	            <span class="titleabbrev">OGC AS 12</span>
	            (<span class="pubdate">September 2001</span>), 
	            <span class="citetitle"><i class="citetitle">The OpenGIS Abstract Specification Topic 12: OpenGIS Service Architecture (Version 4.2)</i></span>, 
	            <span class="author"><span class="firstname">C. </span><span class="surname">Kottman</span></span>, ed.,
				   <span class="bibliomisc">
	               <a href="http://www.opengis.org/techno/specs.htm" target="_top">http://www.opengis.org/techno/specs.htm</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.ucum"></a><p class="bibliomixed">
	            <span class="titleabbrev">UCUM</span>, 
	            <span class="citetitle"><i class="citetitle">Unified Code for Units of Measure</i></span>, 
	            <span class="author"><span class="firstname">G. </span><span class="surname">Schadow</span></span> and
	            <span class="author"><span class="firstname">C. J. </span><span class="surname">McDonald</span></span>, eds.,
				   <span class="bibliomisc">
	               <a href="http://aurora.rg.iupui.edu/~schadow/untis/UCUM/" target="_top">http://aurora.rg.iupui.edu/~schadow/untis/UCUM/</a>
	            </span>
	         </p></div><div class="bibliomixed"><a name="references.xml_10"></a><p class="bibliomixed">
	            <span class="title">XML 1.0</span>
	            (<span class="pubdate">October 2000</span>),
	            <span class="citetitle"><i class="citetitle">Extensible Markup Language (XML) 1.0 (2nd edition)</i></span>, 
	            <span class="releaseinfo">World Wide Web Consortium Recommendation</span>,
	            <span class="author"><span class="firstname">T. </span><span class="surname">Bray</span></span>,
	            <span class="author"><span class="firstname">J. </span><span class="surname">Paoli</span></span>,
	            <span class="author"><span class="firstname">C. M. </span><span class="surname">Sperberg-McQueen</span></span> and
	            <span class="author"><span class="firstname">E. </span><span class="surname">Maler</span></span>, eds.,
	            <span class="bibliomisc">
	               <a href="http://www.w3.org/TR/2000/REC-xml" target="_top">http://www.w3.org/TR/2000/REC-xml</a>
	            </span>
	         </p></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="definitions"></a>4.&nbsp;Terms and Definitions</h2></div></div><div></div></div><p>For the purposes of this document, the following terms and definitions apply.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.operation"></a>4.1.&nbsp;operation</h3></div></div><div></div></div><p>specification of a transformation or query that an object may be
  called to execute [<a href="#references.ogc_as_12">OGC AS 12</a>]</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.interface"></a>4.2.&nbsp;interface</h3></div></div><div></div></div><p>named set of <span class="bold"><b>operations</b></span> that characterize the behavior of an entity [<a href="#references.ogc_as_12">OGC AS 12</a>]</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.service"></a>4.3.&nbsp;service</h3></div></div><div></div></div><p>distinct part of the functionality that is provided by an entity through <span class="bold"><b>interfaces</b></span> [<a href="#references.ogc_as_12">OGC AS 12</a>]</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.sis"></a>4.4.&nbsp;service instance server</h3></div></div><div></div></div><p>actual implementation of a <span class="bold"><b>service</b></span>
			
         </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.client"></a>4.5.&nbsp;client</h3></div></div><div></div></div><p>software component that can invoke an <span class="bold"><b>operation</b></span> from a <span class="bold"><b>server</b></span>
			
         </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.request"></a>4.6.&nbsp;request</h3></div></div><div></div></div><p>invocation of an <span class="bold"><b>operation</b></span> by a <span class="bold"><b>client</b></span>
			
         </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.response"></a>4.7.&nbsp;response</h3></div></div><div></div></div><p>result of an <span class="bold"><b>operation</b></span> returned from a <span class="bold"><b>server</b></span> to a <span class="strong">client</span>
			
         </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.map"></a>4.8.&nbsp;map</h3></div></div><div></div></div><p>pictorial representation of geographic data</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.srs"></a>4.9.&nbsp;spatial reference system</h3></div></div><div></div></div><p>a projected or geographic coordinate reference system</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="definitions.capabilities_xml"></a>4.10.&nbsp;capabilities XML</h3></div></div><div></div></div><p>service-level metadata describing the <span class="bold"><b>operations</b></span> and content available at a <span class="bold"><b>service instance</b></span>.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="conventions"></a>5.&nbsp;Conventions</h2></div></div><div></div></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="conventions.normative_verbs"></a>5.1.&nbsp;Normative verbs</h3></div></div><div></div></div><p>In the sections labeled as normative, the key words <span class="bold"><b>"required"</b></span>, <span class="bold"><b>"shall"</b></span>, <span class="bold"><b>"shall not"</b></span>, <span class="bold"><b>"should"</b></span>, <span class="bold"><b>"should not"</b></span>, <span class="bold"><b>"recommended"</b></span>, <span class="bold"><b>"may"</b></span>, and <span class="bold"><b>"optional"</b></span> in this document are to be
  interpreted as described in [<a href="#references.ietf_rfc_2119">IETF RFC 2119</a>].</p><p>The verb "<span class="bold"><b>deprecate</b></span>"
  provides notice that the referenced portion of the specification is being
  retained for backwards compatibility with earlier versions but may be
  removed from a future version of the specification without further notice.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="conventions.abbreviated_terms"></a>5.2.&nbsp;Abbreviated Terms</h3></div></div><div></div></div><div class="informaltable"><table border="0"><colgroup><col><col></colgroup><tbody><tr><td valign="top"><p>CGI</p></td><td valign="top"><p>Common Gateway Interface</p></td></tr><tr><td valign="top"><p>DCP</p></td><td valign="top"><p>Distributed Computing Platform</p></td></tr><tr><td valign="top"><p>DTD</p></td><td valign="top"><p>Document Type Definition</p></td></tr><tr><td valign="top"><p>EPSG</p></td><td valign="top"><p>European Petroleum Survey Group</p></td></tr><tr><td valign="top"><p>GIF</p></td><td valign="top"><p>Graphics Interchange Format</p></td></tr><tr><td valign="top"><p>GIS</p></td><td valign="top"><p>Geographic Information System</p></td></tr><tr><td valign="top"><p>GML</p></td><td valign="top"><p>Geography Markup Language</p></td></tr><tr><td valign="top"><p>HTTP</p></td><td valign="top"><p>Hypertext Transfer Protocol</p></td></tr><tr><td valign="top"><p>IETF</p></td><td valign="top"><p>Internet Engineering Task Force</p></td></tr><tr><td valign="top"><p>JPEG</p></td><td valign="top"><p>Joint Photographic Experts Group</p></td></tr><tr><td valign="top"><p>MIME</p></td><td valign="top"><p>Multipurpose Internet Mail Extensions</p></td></tr><tr><td valign="top"><p>OGC</p></td><td valign="top"><p>Open GIS Consortium</p></td></tr><tr><td valign="top"><p>OWS</p></td><td valign="top"><p>OGC Web Service</p></td></tr><tr><td valign="top"><p>PNG</p></td><td valign="top"><p>Portable Network Graphics</p></td></tr><tr><td valign="top"><p>RFC</p></td><td valign="top"><p>Request for Comments</p></td></tr><tr><td valign="top"><p>SLD</p></td><td valign="top"><p>Styled Layer Descriptor</p></td></tr><tr><td valign="top"><p>SVG</p></td><td valign="top"><p>Scalable Vector Graphics</p></td></tr><tr><td valign="top"><p>URL</p></td><td valign="top"><p>Uniform Resource Locator</p></td></tr><tr><td valign="top"><p>WebCGM</p></td><td valign="top"><p>Web Computer Graphics Metafile</p></td></tr><tr><td valign="top"><p>WCS</p></td><td valign="top"><p>Web Coverage Service</p></td></tr><tr><td valign="top"><p>WFS</p></td><td valign="top"><p>Web Feature Service</p></td></tr><tr><td valign="top"><p>WMS</p></td><td valign="top"><p>Web Map Service</p></td></tr><tr><td valign="top"><p>XML</p></td><td valign="top"><p>Extensible Markup Language</p></td></tr></tbody></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="basic_elements"></a>6.&nbsp;Basic Service Elements</h2></div></div><div></div></div><p>This clause specifies aspects of Web Map Server behavior (more
  generally, of OGC Web Service behavior) that are independent of particular
  operations or are common to several operations.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.version"></a>6.1.&nbsp;Version Numbering and Negotiation</h3></div></div><div></div></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.version.form"></a>6.1.1.&nbsp;Version Number Form</h4></div></div><div></div></div><p>The published specification version number contains three positive
  integers, separated by decimal points, in the form "x.y.z". The
  numbers "y" and "z" will never exceed 99. Each OWS
  specification is numbered independently.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.version.changes"></a>6.1.2.&nbsp;Version Changes</h4></div></div><div></div></div><p>A particular specification's version number <span class="strong">shall</span> be changed with each revision. The number
  <span class="bold"><b>shall</b></span> increase monotonically and
  <span class="bold"><b>shall</b></span> comprise no more than three
  integers separated by decimal points, with the first integer being the most
  significant. There may be gaps in the numerical sequence. Some numbers may
  denote experimental or interim versions. Service instances and their clients
  need not support all defined versions, but <span class="bold"><b>shall</b></span>
  obey the negotiation rules below.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.version.appearances"></a>6.1.3.&nbsp;Appearance in Requests and in Service Metadata</h4></div></div><div></div></div><p>The version number appears in at least two places: in the Capabilities
  XML describing a service, and in the parameter list of client requests to
  that service. The version number used in a client's request of a
  particular service instance <span class="bold"><b>shall</b></span> be
  equal to a version number which that instance has declared it supports
  (except during negotiation as described below). A service instance may
  support several versions, whose values clients may discover according to the
  negotiation rules.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.version.negotiation"></a>6.1.4.&nbsp;Version Number Negotiation</h4></div></div><div></div></div><p>An OWS Client may negotiate with a Service Instance to determine a
  mutually agreeable specification version. Negotiation is performed using the
  GetCapabilities operation (described in <a href="#wmsops.getcapabilities">Section 7.1, GetCapabilities</a>) according to the
  following rules.</p><p>All Capabilities XML <span class="bold"><b>shall</b></span> include
  a protocol version number. In response to a GetCapabilities request
  containing a version number, an OGC Web Service <span class="bold"><b>shall</b></span>
  either respond with output that conforms to that version of the
  specification, <span class="bold"><b>or</b></span> negotiate a mutually
  agreeable version if the requested version is not implemented on the server.
  If no version number is specified in the request, the server <span class="strong">shall</span> respond with the highest version it
  understands and label the response accordingly.</p><p>Version number negotiation occurs as follows:</p><p>1) If the server implements the requested version number, the server
  <span class="bold"><b>shall</b></span> send that version.</p><p>2a) If a version unknown to the server is requested, the server
  <span class="bold"><b>shall</b></span> send the highest version less than
  the requested version.</p><p>2b) If the client request is for a version lower than any of those
  known to the server, then the server <span class="bold"><b>shall</b></span>
  send the lowest version it knows.</p><p>3a) If the client does not understand the new version number sent by
  the server, it <span class="bold"><b>may</b></span> either cease
  communicating with the server <span class="bold"><b>or</b></span> send a
  new request with a new version number that the client does understand but
  which is less than that sent by the server (if the server had responded with
  a lower version).</p><p>3b) If the server had responded with a higher version (because the
  request was for a version lower than any known to the server), and the
  client does not understand the proposed higher version, then the client
  <span class="bold"><b>may</b></span> send a new request with a version
  number higher than that sent by the server.</p><p>The process is repeated until a mutually understood version is
  reached, or until the client determines that it will not or cannot
  communicate with that particular server.</p><div class="example"><a name="d0e1550"></a><p class="title"><b>Example&nbsp;1.&nbsp;</b></p><p>Server understands
  versions 1, 2, 4, 5 and 8. Client understands versions 1, 3, 4, 6, and 7.
  Client requests version 7. Server responds with version 5. Client requests
  version 4. Server responds with version 4, which the client understands, and
  the negotiation ends successfully.</p></div><div class="example"><a name="d0e1554"></a><p class="title"><b>Example&nbsp;2.&nbsp;</b></p><p>Server understands
  versions 4, 5 and 8. Client understands version 3. Client requests version
  3. Server responds with version 4. Client does not understand that version
  or any higher version, so negotiation fails and client ceases communication
  with that server.</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.request_rules"></a>6.2.&nbsp;General HTTP Request Rules</h3></div></div><div></div></div><p>At present, the only distributed computing platform (DCP) explicitly
  supported by OGC Web Services is the World Wide Web itself, or more
  specifically Internet hosts implementing the Hypertext Transfer Protocol
  (HTTP) [<a href="#references.ietf_rfc_2616">IETF RFC 2616</a>]. Thus the Online Resource of each operation supported
  by a service instance is an HTTP Uniform Resource Locator (URL). The URL may
  be different for each operation, or the same, at the discretion of the
  service provider. Each URL <span class="bold"><b>shall</b></span> conform
  to the description in [<a href="#references.ietf_rfc_2616">IETF RFC 2616</a>] (Section 3.2.2 "HTTP URL") but
  is otherwise implementation-dependent; only the parameters comprising the
  service request itself are mandated by the OGC Web Services specifications.</p><p>HTTP supports two request methods: GET and POST. One or both of these
  methods may be defined for a particular OGC Web Service type and offered by
  a service instance, and the use of the Online Resource URL differs in each
  case. The basic WMS specification only defines HTTP GET for invoking
  operations. (A Styled Layer Descriptor WMS [<a href="#bibliography.ogc_document_01-028">3</a>] defines HTTP POST for some
  operations.)</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.request_rules.reserved_chars"></a>6.2.1.&nbsp;Reserved characters in HTTP GET URLs</h4></div></div><div></div></div><p>The URL specification [<a href="#references.ietf_rfc_2396">IETF RFC 2396</a>] reserves particular characters
  as significant and requires that these be escaped when they might conflict
  with their defined usage. The present WMS specification explicitly reserves
  several of these characters for use in the query portion of HTTP GET
  requests. When the characters "?", "&amp;", "=",
  "/", ":" and "," appear in one of the roles defined
  in <a href="#table.reserved_chars" title="Table&nbsp;1.&nbsp;Reserved Characters in HTTP GET Query">Table&nbsp;1</a>, they are to appear literally in the URL. When such characters
  appear elsewhere (for example, in the value of a parameter), they are to be
  encoded as defined in [<a href="#references.ietf_rfc_2396">IETF RFC 2396</a>].</p><div class="table"><a name="table.reserved_chars"></a><p class="title"><b>Table&nbsp;1.&nbsp;Reserved Characters in HTTP GET Query</b></p><table summary="Reserved Characters in HTTP GET Query" border="1"><colgroup><col><col></colgroup><thead><tr><th align="center" valign="top"><p>Character</p></th><th valign="top"><p>Reserved Usage</p></th></tr></thead><tbody><tr><td align="center" valign="top"><p>?</p></td><td valign="top"><p>Separator indicating start of query string.</p></td></tr><tr><td align="center" valign="top"><p>&amp;</p></td><td valign="top"><p>Separator between parameters in query string.</p></td></tr><tr><td align="center" valign="top"><p>=</p></td><td valign="top"><p>Separator between name and value of parameter.</p></td></tr><tr><td align="center" valign="top"><p>/</p></td><td valign="top"><p>Separator between MIME type and subtype in format parameter value.</p></td></tr><tr><td align="center" valign="top"><p>:</p></td><td valign="top"><p>Separator between Namespace and Identifier in SRS parameter value.</p></td></tr><tr><td align="center" valign="top"><p>,</p></td><td valign="top"><p>Separator between individual values in list-oriented parameters.</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.request_rules.get"></a>6.2.2.&nbsp;HTTP GET</h4></div></div><div></div></div><p>An Online Resource URL intended for HTTP GET requests is in fact only
  a URL <span class="underline">prefix</span> to which additional parameters are appended in order to
  construct a valid Operation request. A URL prefix is defined as an opaque
  string including the protocol, hostname, optional port number, path, a
  question mark '?', and, <span class="bold"><b>optionally</b></span>,
  one or more server-specific parameters ending in an ampersand
  '&amp;'. The prefix uniquely identifies the particular service
  instance. A client appends the necessary request parameters as name/value
  pairs in the form "name=value&amp;". The resulting URL <span class="strong">shall </span>be valid according to the HTTP Common Gateway
  Interface standard [<a href="#references.cgi">CGI</a>], which mandates the presence of '?' before
  the sequence of query parameters and the '&amp;' between each
  parameter.</p><p>The URL prefix <span class="bold"><b>shall </b></span>end in either
  a '?' (in the absence of additional server-specific parameters) or a
  '&amp;'. In practice, however, Clients <span class="bold"><b>should</b></span>
  be prepared to add a necessary trailing '?' or '&amp;'
  before appending the Operation parameters defined in this specification in
  order to construct a valid request URL.</p><p><a href="#table.ows_request" title="Table&nbsp;2.&nbsp;A general OGC Web Service Request">Table&nbsp;2</a> summarizes the components of an operation request URL.</p><div class="table"><a name="table.ows_request"></a><p class="title"><b>Table&nbsp;2.&nbsp;A general OGC Web Service Request</b></p><table summary="A general OGC Web Service Request" border="1"><colgroup><col><col></colgroup><thead><tr><th valign="top"><p>URL Component</p></th><th valign="top"><p>Description</p></th></tr></thead><tbody><tr><td valign="top"><p>http://host[:port]/path?{name[=value]&amp;}</p></td><td valign="top"><p>URL prefix of service operation. [ ]
          denotes 0 or 1 occurrence of an optional part; {} denotes 0 or more
          occurrences. The prefix is entirely at the discretion of the service
          provider.</p></td></tr><tr><td valign="top"><p>name=value&amp;</p></td><td valign="top"><p>One or more standard request parameter
          name/value pairs defined by an OGC Web Service. The actual list of
          required and optional parameters is mandated for each operation by
          the appropriate OWS specification.</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.request_rules.post"></a>6.2.3.&nbsp;HTTP POST</h4></div></div><div></div></div><p>An Online Resource URL intended for HTTP POST requests is a complete
  and valid URL to which Clients transmit request parameters in the body of
  the POST request. A WMS <span class="bold"><b>shall not</b></span> require
  additional parameters to be appended to the URL in order to construct a
  valid target for the Operation request.</p><p>Operation requests using HTTP POST have not yet been defined for the
  basic Web Map Service.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.response_rules"></a>6.3.&nbsp;General HTTP Response Rules</h3></div></div><div></div></div><p>Upon receiving a valid request, the service <span class="bold"><b>shall</b></span>
  send a response corresponding exactly to the request as detailed in the
  appropriate specification. Only in the case of Version Negotiation
  (described above) may the server offer a differing result.</p><p>Upon receiving an invalid request, the service <span class="bold"><b>shall</b></span>
  issue a Service Exception as described in <a href="#basic_elements.exceptions">Section 6.7, Service Exceptions</a>.</p><div class="note"><p><b>Note</b>: As a practical matter, in
    the WWW environment a client should be prepared to receive either a valid
    result, or nothing, or any other result. This is because the client may
    itself have formed a non-conforming request that inadvertently triggered a
    reply by something other than an OGC Web Service, because the Service
    itself may be non-conforming, etc.</p></div><p>Response objects <span class="bold"><b>shall</b></span> be
  accompanied by the appropriate Multipurpose Internet Mail Extensions (MIME)
  type [<a href="#references.ietf_rfc_2045">IETF RFC 2045</a>] for that object. Allowable types for operation
  responses and service exceptions are discussed below.</p><p>Response objects <span class="bold"><b>should</b></span> be
  accompanied by other HTTP entity headers as appropriate and to the extent
  possible. In particular, the Expires and Last-Modified headers provide
  important information for caching; Content-Length may be used by clients to
  know when data transmission is complete and to efficiently allocate space
  for results, and Content-Encoding or Content-Transfer-Encoding may be
  necessary for proper interpretation of the results.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.param_rules"></a>6.4.&nbsp;Request Parameter Rules</h3></div></div><div></div></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.param_rules.order_and_case"></a>6.4.1.&nbsp;Parameter Ordering and Case</h4></div></div><div></div></div><p>Parameter <span class="underline">names</span> <span class="bold"><b>shall not</b></span> be case
  sensitive, but parameter <span class="underline">values</span> <span class="bold"><b>shall</b></span> be
  case sensitive. In this document, parameter names are
  typically shown in uppercase for typographical clarity, not as a
  requirement.</p><p>Parameters in a request <span class="bold"><b>may</b></span> be
  specified in any order.</p><p>An OGC Web Service <span class="bold"><b>shall</b></span> be
  prepared to encounter parameters that are not part of this specification. In
  terms of producing results per this specification, an OGC Web Service
  <span class="bold"><b>shall not</b></span> require such parameters.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.param_rules.lists"></a>6.4.2.&nbsp;Parameter Lists</h4></div></div><div></div></div><p>Parameters consisting of lists (for example, the LAYERS and STYLES in
  WMS GetMap) <span class="bold"><b>shall</b></span> use the comma
  (",") as the separator between items in the list. Additional white
  space <span class="bold"><b>shall not</b></span> be used to delimit list
  items. If a parameter value includes a space or comma, it <span class="strong">shall</span> be escaped using the URL encoding rules
  [<a href="#references.ietf_rfc_2396">IETF RFC 2396</a>].</p><p>Individual entries in a list <span class="bold"><b>may</b></span> be
  empty, as represented by two successive commas (",,").</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.params"></a>6.5.&nbsp;Common Request Parameters</h3></div></div><div></div></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.version"></a>6.5.1.&nbsp;VERSION</h4></div></div><div></div></div><p>The VERSION parameter specifies the protocol version number. The
  format of the version number, and version negotiation, are described in
  <a href="#basic_elements.version">Section 6.1, Version Numbering and Negotiation</a>.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.request"></a>6.5.2.&nbsp;REQUEST</h4></div></div><div></div></div><p>The REQUEST parameter indicates which service operation is being
  invoked. The value <span class="bold"><b>shall</b></span> be the name of
  one of the operations offered by the OGC Web Service Instance.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.format"></a>6.5.3.&nbsp;FORMAT</h4></div></div><div></div></div><p>The FORMAT parameter specifies the output format of the response to an
  operation.</p><p>An OGC Web Service <span class="bold"><b>may</b></span> offer only a
  subset of the formats known for that type of operation, but the server
  <span class="bold"><b>shall</b></span> advertise in its Capabilities XML
  those formats it does support and <span class="bold"><b>shall</b></span>
  accept requests for any format it advertises. A Service Instance <span class="strong">may</span> optionally offer a new format not previously
  offered by other instances, with the recognition that clients are not
  required to accept or process an unknown format. If a request contains a
  Format not offered by a particular server, the server <span class="strong">shall</span> throw a Service Exception (with code
  "InvalidFormat").</p><p>A Client <span class="bold"><b>may</b></span> accept only a subset
  of the formats known for that type of operation. If a Client and Service do
  not support any mutually agreeable formats, the Client may, at its
  discretion, cease communicating with that service, or search for an
  intermediary service provider that performs format conversion, or allow the
  user to choose other disposition methods (e.g., saving to local storage or
  passing to helper application).</p><p>Formats are expressed in both Capabilities XML and in operation
  requests using MIME types. Each Operation has a distinct list of supported
  formats. Some formats may be offered by several operations, and are then
  duplicated as needed in each list.</p><p>Generally, OGC Web Service MIME types are chosen from among those in
  common use on the Internet [<a href="#bibliography.media_types">9</a>]. However, additional OGC-specific types have
  been adopted to distinguish among different types of XML-formatted content
  (the generic XML MIME types being text/xml and application/xml), as listed
  in <a href="#table.ogc_mimes" title="Table&nbsp;3.&nbsp;OGC-Specific MIME Types">Table&nbsp;3</a>.</p><div class="table"><a name="table.ogc_mimes"></a><p class="title"><b>Table&nbsp;3.&nbsp;OGC-Specific MIME Types</b></p><table summary="OGC-Specific MIME Types" border="1"><colgroup><col><col></colgroup><thead><tr><th valign="top"><p>MIME Type</p></th><th valign="top"><p>Document Content</p></th></tr></thead><tbody><tr><td valign="top"><p>application/vnd.ogc.wms_xml</p></td><td valign="top"><p>WMS Capabilities XML</p></td></tr><tr><td valign="top"><p>application/vnd.ogc.gml</p></td><td valign="top"><p>Geography Markup Language XML [<a href="#bibliography.ogc_document_01-029">1</a>]</p></td></tr><tr><td valign="top"><p>application/vnd.ogc.se_xml</p></td><td valign="top"><p>Service Exception XML</p></td></tr><tr><td valign="top"><p>application/vnd.ogc.se_inimage</p></td><td valign="top"><p>Image overwritten with Exception message.</p></td></tr><tr><td valign="top"><p>application/vnd.ogc.se_blank</p></td><td valign="top"><p>Blank image because Exception occurred.</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.exceptions"></a>6.5.4.&nbsp;EXCEPTIONS</h4></div></div><div></div></div><p>The EXCEPTIONS parameter states the format in which to report errors.
  See <a href="#basic_elements.exceptions">Section 6.7, Service Exceptions</a> below.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.srs"></a>6.5.5.&nbsp;Spatial Reference System</h4></div></div><div></div></div><p>The Spatial Reference System (SRS) is a text parameter that names a
  horizontal coordinate reference system code. The name includes a namespace
  prefix, a colon, a numeric identifier, and possibly a comma followed by
  additional parameters. This specification defines two namespaces, EPSG and
  AUTO, which are discussed below.</p><div class="note"><p><b>Note</b>: The use of the term SRS is
    in keeping with WMS 1.0.0. A more modern definition uses Coordinate
    Reference System (CRS) when referring to spatial referencing by
    coordinates, and SRS when referring to spatial referencing by addresses or
    indexes.</p></div><p>OGC Web Services are <span class="bold"><b>not</b></span> required
  to support all possible SRSes, but <span class="bold"><b>shall</b></span>
  advertise in their Capabilities XML those projections which they do offer
  and <span class="bold"><b>shall</b></span> accept requests for all
  advertised projections. If a request contains an SRS not offered by a
  particular server, the server <span class="bold"><b>shall</b></span> throw
  a Service Exception (code = "InvalidSRS").</p><p>Clients are <span class="bold"><b>not</b></span> required to support
  all possible SRSes. If a Client and Service do not support any mutually
  agreeable SRS, the Client may, at its discretion, cease communicating with
  that service, or search for an intermediary service provider that performs
  coordinate transformations, or allow the user to choose other disposition
  methods.</p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="basic_elements.params.srs.epsg"></a>6.5.5.1.&nbsp;EPSG Namespace for SRS</h5></div></div><div></div></div><p>The EPSG namespace makes use of the European Petroleum Survey Group
  tables [<a href="#references.epsg">EPSG</a>], which define numeric identifiers (the EPSG "CRS
  code," corresponding to the field "COORD_REF_SYS_CODE" in the
  EPSG database) for many common projections and which associate projection or
  coordinate metadata (such as measurement units or central meridian) for each
  identifier. An SRS name in the EPSG namespace includes only the prefix and
  the identifier, not any additional parameters. This format is used both as
  the value of the SRS parameter in a service request and as the value of an
  &lt;SRS&gt; element in the Capabilities XML.</p><p>When the SRS parameter specifies a Geographic Coordinate Reference
  System, e.g., "EPSG:4326", the returned image is implicitly
  projected using a pseudo-Plate Carree projection that plots Longitude along
  the X-axis and Latitude along the Y-axis. The BBOX request parameter
  (<a href="#wmsops.getmap.params.bbox">Section 7.2.3.6, BBOX</a>) values for such a coordinate reference system <span class="strong">shall</span> be specified in the order minimum longitude,
  minimum latitude, maximum longitude, maximum latitude. The BBOX parameter
  values <span class="bold"><b>shall</b></span> use the coordinate reference
  system units.</p><p>Some Projected Coordinate Reference Systems, e.g.,
  "EPSG:30800" ("RT38 2.5 gon W", used in Sweden), have axes
  order other than X=East, Y=North. The BBOX request parameter values for such
  a coordinate system <span class="bold"><b>shall</b></span> be specified in
  the order minimum Easting, minimum Northing, maximum Easting, maximum
  Northing. The BBOX parameters <span class="bold"><b>shall</b></span> use
  the coordinate reference system units.</p><p>The BBOX parameters <span class="bold"><b>shall</b></span> be
  specified using decimal or floating-point notation. In particular,
  sexagesimal degrees <span class="bold"><b>shall</b></span> be specified as
  decimal degrees.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="basic_elements.params.srs.auto"></a>6.5.5.2.&nbsp;AUTO Namespace for SRS</h5></div></div><div></div></div><p>The AUTO namespace is used for "automatic" projections; that
  is, for a class of projections that include an arbitrary center of
  projection. An SRS request parameter specifying an automatic projection
  includes the AUTO namespace prefix, a numeric projection identifier from the
  AUTO namespace, a numeric identifier from the EPSG [<a href="#references.epsg">EPSG</a>] namespace
  indicating what units are to be used for bounding boxes in that SRS, and
  values for the central longitude and latitude in decimal degrees:</p><pre class="programlisting">AUTO:auto_proj_id,epsg_units_id,lon0,lat0</pre><p></p><p>Valid projection identifiers are defined by this specification in
  <a href="#auto_projections">Annex E, Automatic Projections</a>.</p><p>In a request for a georeferenced map or data, the complete AUTO SRS is
  specified including longitude, latitude, and units. In Capabilities XML, the
  longitude, latitude, and units variables are omitted because they are chosen
  by the client in a request for an AUTO SRS.</p><div class="example"><a name="d0e2020"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>A service instance
  indicates that it supports Auto Orthographic projection by including the
  element "<tt class="literal">&lt;SRS&gt;AUTO:42003&lt;/SRS&gt;</tt>" in its Capabilities
  XML. A client may issue a GetMap request for a map in this projection, with
  bounding box in meters, centered at 100 degrees West longitude and 45
  degrees North latitude, using the parameter
  "<tt class="literal">SRS=AUTO:42003,9001,-100,45</tt>".</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="basic_elements.params.srs.undefined"></a>6.5.5.3.&nbsp;Undefined SRS</h5></div></div><div></div></div><p>A server may offer geographic information whose precise spatial
  reference is undefined. For example, a digitized collection of hand-drawn
  historical maps may represent an area of the Earth but not employ a modern
  coordinate system. In such case, the value "NONE" (case-insensitive)
  <span class="bold"><b>shall</b></span> be used when declaring the SRS of
  such a collection or object. Clients <span class="bold"><b>should not</b></span>
  attempt to overlay information whose SRS=none with other information.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.bbox"></a>6.5.6.&nbsp;Bounding Box</h4></div></div><div></div></div><p>The Bounding Box (BBOX) is a set of four comma-separated decimal,
  scientific notation, or integer values (if integers are provided where
  floating point is needed, the decimal point is assumed at the end of the
  number). These values specify the minimum X, minimum Y, maximum X, and
  maximum Y ranges, in that order, expressed in units of the SRS of the
  request, such that a rectangular area is defined in those units. When the
  SRS is a Platte Carre projection of longitude and latitude coordinates, X
  refers to the longitudinal axis and Y to the latitudinal axis. The four
  bounding box values indicate the outside edges of a rectangle, as in
  <a href="#figure.bbox" title="Figure&nbsp;5.&nbsp;Bounding Box representation">Figure&nbsp;5</a>: minimum X is the left edge, maximum X the right, minimum Y the bottom,
  and maximum Y the top. The relation of the Bounding Box to the image pixel
  matrix is shown in the figure: the bounding box goes around the
  "outside" of the pixels of the image rather than through the centers
  of the border pixels. In this context, individual pixels have an area.</p><div class="figure"><a name="figure.bbox"></a><p class="title"><b>Figure&nbsp;5.&nbsp;Bounding Box representation</b></p><div class="mediaobject"><img src="files/bbox.gif" alt="Bounding Box representation"></div></div><p></p><p>A Bounding Box <span class="bold"><b>should not</b></span> have zero
  area.</p><p>If a request contains an invalid Bounding Box (e.g., one whose minimum
  X is greater than or equal to the maximum X, or whose minimum Y is greater
  than or equal to the maximum Y) the server <span class="bold"><b>shall</b></span>
  throw an exception.</p><p>If a request contains a Bounding Box whose area does not overlap at
  all with the BoundingBox advertised in the Capabilities XML for the
  requested geodata object, the server <span class="bold"><b>should
  </b></span>return empty content (e.g., a blank map, empty coverage file,
  null feature set) for that element. Any elements that are partly or entirely
  contained in the Bounding Box <span class="bold"><b>should</b></span> be
  returned in the appropriate format.</p><p>If the Bounding Box values are not defined for the given SRS (e.g.,
  latitudes greater than 90 degrees in EPSG:4326), the server <span class="strong">should</span> return empty content for areas outside the
  valid range of the SRS.</p><p>In the particular case of longitude, the following behavior <span class="strong">may</span> apply regarding the anti-meridian at 180
  degrees of longitude. There is a legitimate desire for maps that span the</p><p>anti-meridian (for example, a map centered on the Pacific Ocean).
  However, a strict interpretation of the previous paragraph suggests that
  areas beyond 180 degrees should be shown as empty content; this corresponds
  to the STRICT constraint below. A server <span class="bold"><b>may</b></span>
  choose to relax this behavior by instead applying the LOOSE constraint
  below. If minx is the west-most longitude in degrees and maxx is the
  east-most, then:</p><p>STRICT longitude constraint (default):</p><pre class="programlisting">-180 &lt;= minx &lt; maxx &lt;= 180</pre><p>LOOSE longitude constraint (optional):</p><pre class="programlisting">-180 &lt;= minx &lt; maxx &lt; minx + 360 &lt; 540</pre><p></p><div class="example"><a name="d0e2103"></a><p class="title"><b>Example&nbsp;1.&nbsp;Earth centered at Greenwich</b></p><p>minx=-180, maxx=180</p></div><div class="example"><a name="d0e2108"></a><p class="title"><b>Example&nbsp;2.&nbsp;Earth with Greenwich at left edge</b></p><p>minx=0, maxx=360</p></div><div class="example"><a name="d0e2113"></a><p class="title"><b>Example&nbsp;3.&nbsp;Pacific Ocean</b></p><p>minx=120, maxx=250</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.time"></a>6.5.7.&nbsp;Time Dimension</h4></div></div><div></div></div><p>Some geospatial information may be available at multiple times (for
  example, an hourly weather map). An OGC Web Service may announce available
  times in its Capabilities XML, and some operations include a parameter for
  requesting a particular time. The format of a time string is specified in
  <a href="#dims">Annex C, Handling Multi-Dimensional Data</a>. Depending on the context, time values may appear as a single value,
  a list of values, or an interval, as specified in <a href="#conformance_tests">Annex D, Conformance Tests</a>. When providing
  temporal information, Servers <span class="bold"><b>should</b></span>
  declare a default value in Capabilities XML unless there is compelling
  reason to behave otherwise, and Servers <span class="bold"><b>shall</b></span>
  respond with the default value if one has been declared and the Client
  request does not include a value.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.elevation"></a>6.5.8.&nbsp;Elevation Dimension</h4></div></div><div></div></div><p>Some geospatial information may be available at multiple elevations
  (for example, ozone concentrations at different heights in the atmosphere).
  An OWS may announce available elevations in its Capabilities XML, and some
  operations include a parameter for requesting a particular elevation. A
  single elevation value is an integer or real number whose units are declared
  by naming an EPSG datum. Depending on the context, elevation values may
  appear as a single value, a list of values, or an interval, as specified in
  <a href="#conformance_tests">Annex D, Conformance Tests</a>. When providing elevation information, Servers <span class="strong">should</span> declare a default value in Capabilities XML
  unless there is compelling reason to behave otherwise, and Servers <span class="strong">shall</span> respond with the default value if one has
  been declared and the Client request does not include a value.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.dims"></a>6.5.9.&nbsp;Other Sample Dimensions</h4></div></div><div></div></div><p>Some geospatial information may be available at other dimensions (for
  example, satellite images in different wavelength bands). The dimensions
  other than the four space-time dimensions are referred to as "sample
  dimensions". An OWS may announce available sample dimensions in its
  Capabilities XML, and some operations include a mechanism for including
  dimensional parameters. Each sample dimension has a Name and one or more
  valid values. The declaration and use of sample dimensions are specified in
  <a href="#conformance_tests">Annex D, Conformance Tests</a>.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.additional"></a>6.5.10.&nbsp;Additional Request Parameters</h4></div></div><div></div></div><p>Most service requests require additional parameters (beyond REQUEST)
  to unambiguously state what result to construct. Each OGC Web Service
  specification defines the required and optional parameters for its
  operation(s).</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="basic_elements.params.vsps"></a>6.5.11.&nbsp;Vendor-Specific Parameters</h4></div></div><div></div></div><p>Finally, the requests allow for optional vendor-specific parameters
  (VSPs) that will enhance the results of a request. Typically, these are used
  for private testing of non-standard functionality prior to possible
  standardization. A generic client is <span class="bold"><b>not</b></span>
  required or expected to make use of these VSPs.</p><p>An OGC Web Service <span class="bold"><b>shall</b></span> produce a
  valid result even if VSPs are missing or malformed (i.e., the Service
  <span class="bold"><b>shall</b></span> supply a default value), or if VSPs
  are supplied that are not known to the Service (i.e., the Service <span class="strong">shall</span> ignore unknown request parameters).</p><p>An OGC Web Service <span class="bold"><b>may</b></span> choose not
  to advertise some or all of its VSPs. If VSPs are included in the
  Capabilities XML, then they <span class="bold"><b>shall</b></span> be
  defined within an internal DTD section of that XML document. (An internal
  DTD comprises declarations enclosed in square brackets [] within the
  &lt;DOCTYPE&gt; element of the XML [see ref. 9].) In the absence of such
  parameters, the internal DTD is absent.</p><p>Clients <span class="bold"><b>may</b></span> read the internal DTD
  and formulate requests using any VSPs advertised therein.</p><p>Vendors <span class="bold"><b>should</b></span> choose
  vendor-specific parameter names with care to avoid clashes with standard
  parameters.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.result"></a>6.6.&nbsp;Service Result</h3></div></div><div></div></div><p>The return value of a valid Service
  request <span class="bold"><b>shall</b></span> correspond to the type
  requested in the FORMAT parameter. In an HTTP environment, the Content-type
  header of the response <span class="bold"><b>shall</b></span> be exactly
  the MIME type given in the request.</p><p>Several OGC-specific MIME types have been defined in <a href="#table.ogc_mimes" title="Table&nbsp;3.&nbsp;OGC-Specific MIME Types">Table&nbsp;3</a> for
  various XML document types (all of which would traditionally be labeled
  "text/xml"). To be compliant with this Specification a server
  <span class="bold"><b>shall</b></span> return the appropriate OGC MIME
  type if defined, and the client <span class="bold"><b>shall</b></span> be
  able to accept it, but it is <span class="bold"><b>recommended</b></span>
  that the client also be prepared to accept the MIME type "text/xml"
  and deduce the specific content type through other means.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="basic_elements.exceptions"></a>6.7.&nbsp;Service Exceptions</h3></div></div><div></div></div><p>Upon receiving a request that is invalid according to the rules of the
  Distributed Computing Platform (DCP) in use, the service <span class="strong">may</span> issue an exception of a type valid in that DCP.
  For example: in the HTTP DCP, if the URL prefix is incorrect an HTTP 404
  status code [<a href="#references.ietf_rfc_2616">IETF RFC 2616</a>] is sent.</p><p>Upon receiving a request that is invalid according to the relevant OGC
  Web Services specification, the service <span class="bold"><b>shall</b></span>
  issue a Service Exception Report as defined here and in <a href="#xml_dtds.service_exception_dtd">Annex A.3, Service Exception DTD</a>. The
  Report is meant to describe to the client application or its human user the
  reason(s) that the request is invalid.</p><p>The EXCEPTIONS parameter in a request indicates the format in which the Client wishes to be notified of Service Exceptions. The only value of the EXCEPTIONS parameter that is defined for all OGC Web Services is
  "application/vnd.ogc.se_xml", which means "Service Exception
  XML." Particular services may define other formats; this specification
  defines additional Exception formats for Web Map Servers in
  <a href="#wmsops.getmap.params.exceptions">Section 7.2.3.11, EXCEPTIONS</a>.</p><div class="note"><p><b>Note</b>: A client should also be
    prepared for other returned values and types since there is a possibility
    that the Service instance is poorly behaved or that a request was directed
    at a non-compliant OGC Web Service.</p></div><p>Service Exception Report XML <span class="bold"><b>shall</b></span>
  be valid according to the Service Exception DTD in <a href="#xml_dtds.service_exception_dtd">Annex A.3, Service Exception DTD</a>. In an HTTP
  environment, the MIME type of the returned XML <span class="bold"><b>shall</b></span>
  be "application/vnd.ogc.se_xml". Individual error messages appear as
  &lt;ServiceException&gt; elements within the
  &lt;ServiceExceptionReport&gt;. The messages can be formatted either as
  chunks of plain text or, if included in a character data (CDATA) section, as
  XML-like text containing angle brackets ("&lt;" and
  "&gt;"), as shown in the example Service Exception Report in
  <a href="#xml_dtds.service_exception_xml">Annex A.4, Sample Service Exception XML</a>.</p><p>Service Exceptions <span class="bold"><b>may </b></span>include
  exception codes as indicated in <a href="#xml_dtds.service_exception_dtd">Annex A.3, Service Exception DTD</a>. Services <span class="bold"><b>shall
  not </b></span>use these codes for meanings other than those specified. This
  specification defines several exception codes; The specific codes and
  semantics of allowed exceptions may be extended by other OGC Web Service
  implementation specifications. Clients <span class="bold"><b>may</b></span>
  use these codes to automate responses to Service Exceptions.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="wmsops"></a>7.&nbsp;Web Map Service Operations</h2></div></div><div></div></div><p>The three operations defined for a Web Map Service are GetCapabilities, GetMap, and GetFeatureInfo. This section specifies the implementation and use of these WMS operations in the Hypertext Transfer Protocol (HTTP) Distributed Computing Platform (DCP).  Future versions may apply to other DCPs.</p><div class="note"><p><b>Note</b>: As discussed in the
    Introduction, an SLD-enabled WMS also offers additional operations, which
    are specified in reference [<a href="#bibliography.ogc_document_01-028">3</a>].</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.getcapabilities"></a>7.1.&nbsp;GetCapabilities (required)</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getcapabilities.general"></a>7.1.1.&nbsp;General</h4></div></div><div></div></div><p>The purpose of the GetCapabilities operation is described in the Basic
  Service Elements section, above. In the particular case of a Web Map
  Service, the response of a GetCapabilities request is general information
  about the service itself and specific information about the available maps.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getcapabilities.overview"></a>7.1.2.&nbsp;GetCapabilities Request Overview</h4></div></div><div></div></div><p>The general form of a GetCapabilities request is defined in the Basic
  Service Elements section. When making this request of a WMS, which may offer
  other OGC Web Services as well, it is necessary to indicate that the client
  seeks information about the WMS in particular. Thus, the SERVICE parameter
  of the request <span class="bold"><b>shall</b></span> have the value
  "WMS" as shown in <a href="#table.getcapabilities" title="Table&nbsp;4.&nbsp;The parameters of a GetCapabilities request URL">Table&nbsp;4</a> below.</p><div class="table"><a name="table.getcapabilities"></a><p class="title"><b>Table&nbsp;4.&nbsp;The parameters of a GetCapabilities request URL</b></p><table summary="The parameters of a GetCapabilities request URL" border="1"><colgroup><col><col><col></colgroup><thead><tr><th valign="top"><p>Request Parameter</p></th><th align="center" valign="top"><div class="literallayout"><p>Required/<br>
Optional</p></div></th><th valign="top"><p>Description</p></th></tr></thead><tbody><tr><td valign="top"><p>VERSION=version</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Request version</p></td></tr><tr><td valign="top"><p>SERVICE=WMS</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Service type </p></td></tr><tr><td valign="top"><p>REQUEST=GetCapabilities</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Request name</p></td></tr><tr><td valign="top"><p>UPDATESEQUENCE=string</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Sequence number or string for cache control</p></td></tr></tbody></table></div><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getcapabilities.params"></a>7.1.3.&nbsp;Request Parameters</h4></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.params.version"></a>7.1.3.1.&nbsp;VERSION</h5></div></div><div></div></div><p>The <span class="bold"><b>optional</b></span> VERSION parameter, and
  its use in version negotiation, is specified in the Basic Service Elements
  section.</p><p>In WMS version 1.0.0, the name of this parameter was "WMTVER".
  That name is now deprecated, but for backwards compatibility and version
  negotiation a post-1.0.0 server <span class="bold"><b>shall</b></span>
  accept either form without issuing a Service Exception. In the case that
  VERSION and WMTVER are both given, VERSION takes precedence.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.params.service"></a>7.1.3.2.&nbsp;SERVICE</h5></div></div><div></div></div><p>The <span class="bold"><b>required </b></span>SERVICE parameter
  indicates which of the available service types at a particular service
  instance is being invoked. This parameter allows the same URL prefix to
  offer Capabilities XML for multiple OGC Web Services.</p><p>When invoking GetCapabilities on a WMS that implements this version of
  the specification or a later one, the service_name value "WMS"
  <span class="bold"><b>shall</b></span> be used.</p><p>When invoking GetCapabilities on a WMS that implements version 1.0.6
  or earlier, the SERVICE parameter <span class="bold"><b>should not</b></span>
  be used by Clients and <span class="bold"><b>may</b></span> be ignored by
  Servers. An earlier server <span class="bold"><b>shall not</b></span>
  issue an Exception upon encountering this parameter (or any other unknown
  parameter), as specified in Section 6.2.5.1.4 of WMS 1.0.0 [<a href="#bibliography.ogc_document_00-028">6</a>] and
  <a href="#basic_elements.param_rules.order_and_case">Section 6.4.1, Parameter Ordering and Case</a> of the present specification.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.params.request"></a>7.1.3.3.&nbsp;REQUEST</h5></div></div><div></div></div><p>This nature of the <span class="bold"><b>required</b></span> REQUEST
  parameter is specified in the Basic Service Elements section. To invoke the
  GetCapabilities operation, the value "GetCapabilities" <span class="strong">shall</span> be used. In WMS version 1.0.0, the value of
  this parameter was "capabilities". That value is now deprecated, but
  for backwards compatibility a post-1.0.0 server <span class="bold"><b>shall</b></span>
  accept either form without issuing a Service Exception. When a client is
  initially contacting a WMS whose version it does not know the Client
  <span class="bold"><b>should</b></span> be prepared to recover if
  REQUEST=GetCapabilities fails and <span class="bold"><b>may</b></span>
  send REQUEST=capabilities.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.params.updatesequence"></a>7.1.3.4.&nbsp;UPDATESEQUENCE</h5></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>UPDATESEQUENCE
  parameter is for maintaining cache consistency. Its value can be an integer,
  a timestamp in [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>] format (see Appendix B), or any other
  number or string. The server <span class="bold"><b>may</b></span> include
  an UpdateSequence value in its Capabilities XML. If present, this value
  <span class="bold"><b>should </b></span>be increased when changes are made
  to the Capabilities (e.g., when new maps are added to the service). The
  server is the sole judge of lexical ordering sequence. The client <span class="strong">may</span> include this parameter in its GetCapabilities
  request. The response of the server based on the presence and relative value
  of UpdateSequence in the client request and the server metadata <span class="strong">shall</span> be according to <a href="#table.updatesequence" title="Table&nbsp;5.&nbsp;Use of UpdateSequence Parameter">Table&nbsp;5</a>:</p><div class="table"><a name="table.updatesequence"></a><p class="title"><b>Table&nbsp;5.&nbsp;Use of UpdateSequence Parameter</b></p><table summary="Use of UpdateSequence Parameter" border="1"><colgroup><col><col><col></colgroup><thead><tr><th align="center" valign="top"><div class="literallayout"><p>Client&nbsp;Request<br>
UpdateSequence&nbsp;Value</p></div></th><th align="center" valign="top"><div class="literallayout"><p>Server&nbsp;Metadata<br>
UpdateSequence&nbsp;Value</p></div></th><th valign="top"><p>Server Response</p></th></tr></thead><tbody><tr><td align="center" valign="top"><p>none</p></td><td align="center" valign="top"><p>any</p></td><td valign="top"><p>most recent Capabilities XML</p></td></tr><tr><td align="center" valign="top"><p>any</p></td><td align="center" valign="top"><p>none</p></td><td valign="top"><p>most recent Capabilities XML</p></td></tr><tr><td align="center" valign="top"><p>equal</p></td><td align="center" valign="top"><p>equal</p></td><td valign="top"><p>Exception: code=CurrentUpdateSequence</p></td></tr><tr><td align="center" valign="top"><p>lower</p></td><td align="center" valign="top"><p>higher</p></td><td valign="top"><p>most recent Capabilities XML</p></td></tr><tr><td align="center" valign="top"><p>higher</p></td><td align="center" valign="top"><p>lower</p></td><td valign="top"><p>Exception: code=InvalidUpdateSequence</p></td></tr></tbody></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getcapabilities.response"></a>7.1.4.&nbsp;GetCapabilities Response</h4></div></div><div></div></div><p>The Basic Service Elements section specifies general rules about the
  GetCapabilities response.</p><p>In the particular case of a Web Map Service complying with this
  version of the standard, the Extensible Markup Language (XML) [XML 1.0]
  response <span class="bold"><b>shall</b></span> be valid according to the
  XML Document Type Definition (DTD) in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a> of this document. The DTD
  specifies the required and optional content of the response and how the
  content is formatted.</p><p>A server's Capabilities XML <span class="bold"><b>may</b></span>
  reference an exact copy of the DTD in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a> instead of the master copy
  at the URL stated in the Annex. The DTD copy <span class="bold"><b>shall</b></span>
  be located at a fully-qualified and accessible URL to permit XML validating
  software to retrieve it.</p><p>A server <span class="bold"><b>may</b></span> comply with other
  published or experimental versions, in which case it <span class="bold"><b>shall</b></span>
  support Version Negotiation as described in the Basic Service Elements
  section. A DTD for version 1.0.0 was published as an annex to that version
  of the WMS specification. Other DTDs are archived at
  &lt;<a href="http://www.digitalearth.gov/wmt/xml/" target="_top">http://www.digitalearth.gov/wmt/xml/</a>&gt;.</p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.names_vs_titles"></a>7.1.4.1.&nbsp;Names vs. Titles</h5></div></div><div></div></div><p>A number of elements have both a &lt;Name&gt; and a &lt;Title&gt;.
  Typically, the Name is a single word used for machine-to-machine
  communication while the Title is for the benefit of humans. For example, a
  dataset might have the Title "Maximum Atmospheric Temperature" and
  be requested using the Name "ATMAX".</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.general_metadata"></a>7.1.4.2.&nbsp;General Service Metadata</h5></div></div><div></div></div><p>The first part of the Capabilities XML is a &lt;Service&gt; element
  providing general metadata for the service as a whole. It <span class="strong">shall </span>include a Name, Title, and Online Resource
  URL. Optionally, Abstract, Keyword List, Contact Information, Fees, and
  Access Constraints <span class="bold"><b>may</b></span> be provided. The
  meaning of most of these elements is defined in [ISO 19115].</p><p>The Service Name <span class="bold"><b>shall</b></span> be
  "OGC:WMS" in the case of a Web Map Service.</p><p>The Service Title is at the discretion of the provider, and <span class="strong">should</span> be brief yet descriptive enough to identify
  this server in a menu with other servers.</p><p>The Abstract element allows a descriptive narrative providing more
  information about the enclosing object.</p><p>The OnlineResource element within the Service element can be used, for
  example, to point to the web site of the service provider. There are other
  OnlineResource elements used for the URL prefix of each supported operation.</p><p>A list of keywords or keyword phrases <span class="bold"><b>should</b></span>
  be included to help catalog searching. Currently, no controlled vocabulary
  has been defined.</p><p>Contact Information <span class="bold"><b>should</b></span> be
  included.</p><p>The reserved word "none" (case-insensitive) <span class="strong">shall</span> be used if there are no fees or access
  constraints, as follows: &lt;Fees&gt;none&lt;/Fees&gt;,
  &lt;AccessConstraints&gt;none&lt;/AccessConstraints&gt;. When
  constraints are imposed, no precise syntax has been defined for the
  place-holder elements.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.capability_metadata"></a>7.1.4.3.&nbsp;Capability Metadata</h5></div></div><div></div></div><p>The &lt;Capability&gt; element of the Capabilities XML names the
  actual operations that are supported by the service instance, the output
  formats offered for those operations, and the URL prefix for each operation.
  The XML DTD includes placeholders for Distributed Computing Platforms other
  than HTTP, and request methods other that HTTP GET, but currently only HTTP
  GET is defined for a basic WMS.</p><p>Ignorable vendor-specific elements <span class="bold"><b>may</b></span>
  be included as discussed in <a href="#basic_elements.params.vsps">Section 6.5.11, Vendor-Specific Parameters</a>. An SLD WMS would also include a
  &lt;UserDefinedSymbolization&gt; element and URLs for HTTP POST requests.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.layers_and_styles"></a>7.1.4.4.&nbsp;Layers and Styles</h5></div></div><div></div></div><p>The most critical part of the WMS Capabilities XML is the Layers and
  Styles it defines.</p><p>Each available map is advertised by a &lt;Layer&gt; element in the
  Capabilities XML. A single parent Layer encloses any number of additional
  layers, which may be hierarchically nested as desired. Some properties
  defined in a parent layer are inherited by the children it encloses. These
  inherited properties may be either redefined or added to by the child.
  <a href="#wmsops.getcapabilities.response.property_inheritance">Section 7.1.4.7, Inheritance of Layer Properties</a> defines whether or how each property is inherited.</p><p>A Map Server <span class="bold"><b>shall</b></span> include at least
  one &lt;Layer&gt; element for each map layer offered. If desired, layers
  <span class="bold"><b>may</b></span> be repeated in different categories
  when relevant.</p><p>No controlled vocabulary has been defined, so at present Layer and
  Style Names, Titles and Keywords are arbitrary.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.layer_properties"></a>7.1.4.5.&nbsp;Layer Properties</h5></div></div><div></div></div><p>The &lt;Layer&gt; element can enclose child elements providing
  metadata about the Layer. The values of some of these elements are inherited
  as defined in <a href="#wmsops.getcapabilities.response.property_inheritance">Section 7.1.4.7, Inheritance of Layer Properties</a>. Their meanings are defined in this Section.</p><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.title"></a>7.1.4.5.1.&nbsp;Title</h6></div></div><div></div></div><p>A &lt;Title&gt; is <span class="bold"><b>required</b></span> for
  all layers; it is a human-readable string for presentation in a menu. The
  Title is not inherited by child Layers.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.name"></a>7.1.4.5.2.&nbsp;Name</h6></div></div><div></div></div><p>If, and only if, a layer has a &lt;Name&gt;, then it is a map layer
  that can be requested by using that Name in the LAYERS parameter of a GetMap
  request. If the layer has a Title but no Name, then that layer is only a
  category title for all the layers nested within. A Map Server that
  advertises a Layer containing a Name element <span class="bold"><b>shall</b></span>
  be able to accept that Name as the value of LAYERS argument in a GetMap
  request and return the corresponding map. A Client <span class="bold"><b>shall
  not</b></span> attempt to request a layer that has a Title but no Name.</p><p>A server <span class="bold"><b>shall</b></span> throw an exception
  (code="LayerNotDefined") if an invalid layer is requested.</p><p>A containing category itself <span class="bold"><b>may</b></span>
  include a Name by which all of the nested layers can be requested at once.
  For example, a parent layer "Roads" may have children
  "Interstates" and "State Highways" and allow the user to
  request either child individually or both together.</p><p>The Name is not inherited by child Layers.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.abstract_and_keywordlist"></a>7.1.4.5.3.&nbsp;Abstract and KeywordList</h6></div></div><div></div></div><p>The <span class="bold"><b>optional</b></span> &lt;Abstract&gt; and
  &lt;KeywordList&gt; elements are <span class="bold"><b>recommended</b></span>.
  Abstract is a narrative description of the map layer. KeywordList contains
  zero or more Keywords to aid in catalog searches. The Abstract and
  KeywordList elements are not inherited by child Layers.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.style"></a>7.1.4.5.4.&nbsp;Style</h6></div></div><div></div></div><p>Zero or more Styles <span class="bold"><b>may</b></span> be
  advertised for a Layer or collection of layers using &lt;Style&gt;
  elements, each of which <span class="bold"><b>shall</b></span> have
  &lt;Name&gt; and &lt;Title&gt; elements. The style's Name is used in
  the Map request STYLES parameter. The Title is a human-readable string. If
  only a single style is available, that style is known as the
  "default" style and need not be advertised by the server.</p><p>A Style <span class="bold"><b>may</b></span> contain several other
  elements in the Capabilities XML DTD in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a>. In particular,
  &lt;Abstract&gt; provides a narrative description while
  &lt;LegendURL&gt; contains the location of an image of a map legend
  appropriate to the enclosing Style. A &lt;Format&gt; element in LegendURL
  indicates the MIME type of the logo image, and the attributes width and
  height state the size of the image in pixels.</p><p>Style declarations are inherited by child Layers. A child <span class="strong">shall not</span> redefine a Style with the same Name as
  one inherited from a parent. A child <span class="bold"><b>may</b></span>
  define a new Style with a new Name that is not available for the parent
  Layer.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.srs"></a>7.1.4.5.5.&nbsp;SRS</h6></div></div><div></div></div><p>Every Layer is available in one or more spatial reference systems (or
  in an undefined SRS; see <a href="#basic_elements.params.srs.undefined">Section 6.5.5.3, Undefined SRS</a>).</p><p>Every Layer <span class="bold"><b>shall</b></span> have at least one
  &lt;SRS&gt; element that is either stated explicitly or inherited from a
  parent Layer (<a href="#wmsops.getcapabilities.response.layer_attributes.subsettable_and_resizeable">Section 7.1.4.6.4, Subsettable and resizable layers</a>). The root &lt;Layer&gt; element <span class="strong">shall</span> include a sequence of zero or more SRS
  elements listing all SRSes that are common to all subsidiary layers. Use a
  single SRS element with empty content (like so:
  "&lt;SRS&gt;&lt;/SRS&gt;") if there is no common SRS. Layers may
  optionally add to the global SRS list, or to the list inherited from a
  parent layer. Any duplication <span class="bold"><b>shall</b></span> be
  ignored by clients.</p><p>When a Layer is available in several Spatial Reference Systems, there
  are two ways to encode the list of SRS values. The first of these is new in
  this version of the specification, the second is deprecated but still
  included for backwards compatibility.</p><div class="orderedlist"><ol type="1"><li><p><span class="bold"><b>Optional, recommended:</b></span> Multiple
      single-valued &lt;SRS&gt; elements: a list of SRS values is
      represented as a sequence of &lt;SRS&gt; elements, each of which
      contains only a single SRS name. Example:
      &lt;SRS&gt;EPSG:1234&lt;/SRS&gt;
      &lt;SRS&gt;EPSG:5678&lt;/SRS&gt;.</p></li><li><p><span class="bold"><b>Deprecated:</b></span> Single list-valued
      &lt;SRS&gt; element: a list of SRS values is represented as a
      whitespace-separated list of SRS names contained within a single
      &lt;SRS&gt; element. Example: &lt;SRS&gt;EPSG:1234
      EPSG:5678&lt;/SRS&gt;.</p></li></ol></div><p>WMS 1.1.1 Clients <span class="bold"><b>shall</b></span> be prepared
  to handle either encoding.</p><div class="note"><p><b>Note</b>: Change from version 1.1.0:
    Only the second, deprecated encoding was previously defined.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.latlonbbox"></a>7.1.4.5.6.&nbsp;LatLonBoundingBox</h6></div></div><div></div></div><p>Every Layer <span class="bold"><b>shall</b></span> have exactly one
  &lt;LatLonBoundingBox&gt; element that is either stated explicitly or
  inherited from a parent Layer. LatLonBoundingBox states the minimum bounding
  rectangle of the map data in the EPSG:4326 geographic coordinate system (see
  <a href="#basic_elements.params.srs.epsg">Section 6.5.5.1, EPSG Namespace for SRS</a>). The LatLonBoundingBox attributes minx, miny, maxx, maxy
  indicate the edges of an enclosing rectangle in decimal degrees as in <a href="#figure.bbox" title="Figure&nbsp;5.&nbsp;Bounding Box representation">Figure&nbsp;5</a>.
  LatLonBoundingBox <span class="bold"><b>shall</b></span> be supplied
  regardless of what SRS the map server may support, but it <span class="strong">may</span> be approximate if EPSG:4326 is not supported.
  Its purpose is to facilitate geographic searches without requiring
  coordinate transformations by the search engine.</p><p>The LatLonBoundingBox metadata element, and the BoundingBox element
  defined in the next section, have the following relationship to the BBOX
  request parameter defined in <a href="#wmsops.getmap.params.bbox">Section 7.2.3.6, BBOX</a>. The bounding box metadata in
  Capabilities XML specify the minimum enclosing rectangle for the layer as a
  whole. The BBOX request parameter, on the other hand, specifies which
  rectangular area is to be drawn on the map. The BBOX rectangle may or may
  not overlap, contain, or be contained within the BoundingBox rectangle.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.bbox"></a>7.1.4.5.7.&nbsp;BoundingBox</h6></div></div><div></div></div><p>Layers <span class="bold"><b>may</b></span> have zero or more
  &lt;BoundingBox&gt; elements that are either stated explicitly or
  inherited from a parent Layer. Each BoundingBox states the bounding
  rectangle of the map data in a particular spatial reference system; the
  attribute SRS indicates which SRS applies. If the data area is shaped
  irregularly then the BoundingBox gives the minimum enclosing rectangle. The
  attributes minx, miny, maxx, maxy indicate the edges of the bounding box in
  units of the specified SRS as in <a href="#figure.bbox" title="Figure&nbsp;5.&nbsp;Bounding Box representation">Figure&nbsp;5</a>. <span class="bold"><b>Optional</b></span>
  resx and resy attributes indicate the spatial resolution of the data in
  those same units.</p><div class="note"><p><b>Note</b>: &lt;LatLonBoundingBox&gt;
    (<a href="#wmsops.getcapabilities.response.layer_properties.latlonbbox">Section 7.1.4.5.6, LatLonBoundingBox</a>) is effectively a BoundingBox in which the attribute
    SRS="EPSG:4326" is implicit, but LatLonBoundingBox does not
    include resx and resy attributes. A separate BoundingBox element
    explicitly naming EPSG:4326 <span class="bold"><b>may</b></span> be
    provided by the server in order, for example, to provide resolution
    information.</p></div><p>A Layer <span class="bold"><b>may</b></span> have multiple
  BoundingBox element, but each one <span class="bold"><b>shall</b></span>
  state a different SRS. A Layer inherits any BoundingBox values defined by
  its parents. A BoundingBox inherited from the parent Layer for a particular
  SRS is replaced by any declaration for the same SRS in the child Layer. A
  BoundingBox in the child for a new SRS not already declared by the parent is
  added to the list of bounding boxes for the child Layer. A single Layer
  element <span class="bold"><b>shall not</b></span> contain more than one
  BoundingBox for the same SRS.</p><div class="note"><p><b>Note</b>: There is no provision for
    describing disjoint bounding boxes. For example, consider a dataset which
    covers two areas separated by some distance. The server cannot provide two
    separate bounding boxes in the same Layer using the same SRS to separately
    describe those areas. To handle this type of situation, the server may
    either define a single larger bounding box which encloses both areas, or
    may define two separate Layers that each have distinct Name and
    BoundingBox values.</p></div><p>A server which has the ability to transform data to different SRSes
  <span class="bold"><b>may</b></span> choose not to provide an explicit
  BoundingBox for every possible SRS available for each Layer. The server
  <span class="bold"><b>should</b></span> provide BoundingBox information
  for at least the native SRS of the Layer.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.scalehint"></a>7.1.4.5.8.&nbsp;ScaleHint</h6></div></div><div></div></div><p>Layers <span class="bold"><b>may</b></span> include a
  &lt;ScaleHint&gt; element that suggests minimum and maximum scales for
  which it is appropriate to display this layer. Because WMS output is
  destined for output devices of arbitrary size and resolution, the usual
  definition of scale as the ratio of map size to real-world size is not
  appropriate here. The following definition of Scale Hint is <span class="strong">recommended</span>. Consider a hypothetical map with a
  given Bounding Box, width and height. The central pixel of that map (or the
  pixel just to the northwest of center) will have some size, which can be
  expressed as the ground distance in meters of the southwest to northeast
  diagonal of that pixel. The two values in ScaleHint are the minimum and
  maximum recommended values of that diagonal. It is recognized that this
  definition is not geodetically precise, but at the same time the hope is
  that by including it conventions will develop that can be later specified
  more clearly.</p><p>ScaleHint is inherited by child Layers. A ScaleHint declaration in the
  child replaces the any declaration inherited from the parent.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.dim_and_extent"></a>7.1.4.5.9.&nbsp;Dimension and Extent</h6></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>&lt;Dimension&gt;
  and &lt;Extent&gt; elements enclose metadata for multi-dimensional data.
  See <a href="#dims">Annex C, Handling Multi-Dimensional Data</a>.</p><p>Dimension declarations are inherited from parent Layers. Any new
  Dimension declarations in the child are added to the list inherited from the
  parent. A child <span class="bold"><b>shall not</b></span> redefine a
  Dimension with the same name attribute as one that was inherited.</p><p>Extent declarations are inherited from parent Layers. Any Extent
  declarations in the child with the same name attribute as one inherited from
  the parent replaces the value declared by the parent. A Layer <span class="strong">shall not</span> declare an Extent unless a Dimension with
  the same name has been declared or inherited earlier in the Capabilities
  XML.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.metadataurl"></a>7.1.4.5.10.&nbsp;MetadataURL</h6></div></div><div></div></div><p>A Map Server <span class="bold"><b>should</b></span> use one or more
  &lt;MetadataURL&gt; elements to offer detailed, standardized metadata
  about the data underneath a particular layer. The type attribute indicates
  the standard to which the metadata complies. Two types are defined at
  present: the value 'TC211' refers to [ISO 19115]; the value
  'FGDC' refers to [FGDC-STD-001-1988]. The MetadataURL element
  <span class="bold"><b>shall not</b></span> be used to reference metadata
  in a non-standardized metadata format; see <a href="#wmsops.getcapabilities.response.layer_properties.dataurl">Section 7.1.4.5.14, DataURL</a>
  instead. The enclosed &lt;Format&gt; element indicates the file format
  MIME type of the metadata record.</p><p>MetadataURL elements are not inherited by child Layers.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.attribution"></a>7.1.4.5.11.&nbsp;Attribution</h6></div></div><div></div></div><p>The <span class="bold"><b>optional</b></span> &lt;Attribution&gt;
  element provides a way to identify the source of the map data used in a
  Layer or collection of Layers. Attribution encloses several optional
  elements: &lt;OnlineResource&gt; states the data provider's URL;
  &lt;Title&gt; is a human-readable string naming the data provider;
  &lt;LogoURL&gt; is the URL of a logo image. Client applications <span class="strong">may</span> choose to display one or more of these items. A
  &lt;Format&gt; element in LogoURL indicates the MIME type of the logo
  image, and the attributes width and height state the size of the image in
  pixels.</p><p>The Attribution element is inherited by child layers. Any redefinition
  by a child replaces the inherited value.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.identifier_and_authorityurl"></a>7.1.4.5.12.&nbsp;Identifier and AuthorityURL</h6></div></div><div></div></div><p>A Map Server <span class="bold"><b>may</b></span> use zero or more
  &lt;Identifier&gt; elements to list ID numbers or labels defined by a
  particular Authority. The text content of the Identifier element is the ID
  value. The authority attribute of the Identifier element corresponds to the
  name attribute of a separate &lt;AuthorityURL&gt; element. AuthorityURL
  encloses an &lt;OnlineResource&gt; element which states the URL of a
  document defining the meaning of the Identifier values.</p><div class="note"><p><b>Note</b>: The semantics of how an
    authority defines the meaning of an identifier have not yet been precisely
    defined. The Identifier and AuthorityURL elements are provided as a
    convenience for service instances who wish to indicate the correspondence
    between the WMS Layers they offer and a classification of those Layers
    defined by the organization that operates the service.</p></div><div class="example"><a name="d0e2946"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>The Global Change Master
  Directory (gcmd.gsfc.nasa.gov) defines a DIF_ID label for every dataset that
  it has cataloged. A WMS that renders one of these datasets may associate a
  Layer with its DIF_ID in the following manner:</p><pre class="programlisting">&lt;AuthorityURL name="gcmd"&gt;&lt;OnlineResource xlink:href="some_url" ... /&gt;&lt;/AuthorityURL&gt;
&lt;Identifier authority="gcmd"&gt;id_value&lt;/Identifier&gt;</pre></div><p>AuthorityURL is inherited by subsidiary layers. A child Layer
  <span class="bold"><b>shall not</b></span> define an AuthorityURL with the
  same name attribute as one inherited from a parent. The Identifier element
  is not inherited. A Layer <span class="bold"><b>shall not</b></span>
  declare an Identifier unless a corresponding AuthorityURL has been declared
  or inherited earlier in the Capabilities XML.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.featurelisturl"></a>7.1.4.5.13.&nbsp;FeatureListURL</h6></div></div><div></div></div><p>A Map Server <span class="bold"><b>may</b></span> use a
  &lt;FeatureListURL&gt; element to point to a list of the features
  represented in a Layer. FeatureListURL is not inherited by child layers.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_properties.dataurl"></a>7.1.4.5.14.&nbsp;DataURL</h6></div></div><div></div></div><p>A Map Server <span class="bold"><b>may</b></span> use DataURL to
  offer more information about the data represented by a particular layer.
  While the semantics are not well-defined, as long as the results of an HTTP
  GET request against the DataURL are properly MIME-typed, Viewer Clients and
  Cascading Map Servers can make use of this. Use &lt;MetadataURL&gt;
  (<a href="#wmsops.getcapabilities.response.layer_properties.metadataurl">Section 7.1.4.5.10, MetadataURL</a>) instead for a precisely defined reference to
  standardized metadata records.</p><p>DataURL is not inherited by child layers.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.layer_attributes"></a>7.1.4.6.&nbsp;Layer Attributes</h5></div></div><div></div></div><p>A &lt;Layer&gt; <span class="bold"><b>may</b></span> have zero or
  more of the following XML attributes: queryable, cascaded, opaque,
  noSubsets, fixedWidth, fixedHeight. All of these attributes are <span class="strong">optional</span> and default to 0, in keeping with WMS
  1.0.0. Each of these attributes can be inherited or replaced by subsidiary
  layers. The meaning of each attribute is summarized in <a href="#table.layer_attributes" title="Table&nbsp;6.&nbsp;Layer Attributes">Table&nbsp;6</a> and detailed
  in the following subsections.</p><div class="table"><a name="table.layer_attributes"></a><p class="title"><b>Table&nbsp;6.&nbsp;Layer Attributes</b></p><table summary="Layer Attributes" border="1"><colgroup><col><col><col></colgroup><thead><tr><th valign="top"><p>Attribute</p></th><th valign="top"><p>Allowed Values</p></th><th valign="top"><p>Meaning (0 is default value)</p></th></tr></thead><tbody><tr><td valign="top"><p>queryable</p></td><td valign="top"><p>0, 1</p></td><td valign="top"><table class="simplelist" border="0" summary="Simple list"><tr><td>0: not queryable.</td></tr><tr><td>1: queryable.</td></tr></table></td></tr><tr><td valign="top"><p>cascaded</p></td><td valign="top"><p>0, positive integer</p></td><td valign="top"><table class="simplelist" border="0" summary="Simple list"><tr><td>0: layer has not been retransmitted by a Cascading Map Server.</td></tr><tr><td>n: layer has been retransmitted n times.</td></tr></table></td></tr><tr><td valign="top"><p>opaque</p></td><td valign="top"><p>0, 1</p></td><td valign="top"><table class="simplelist" border="0" summary="Simple list"><tr><td>0: map data represents vector features that probably do not completely fill space.</td></tr><tr><td>1: map data
          are mostly or completely opaque.</td></tr></table></td></tr><tr><td valign="top"><p>noSubsets</p></td><td valign="top"><p>0, 1</p></td><td valign="top"><table class="simplelist" border="0" summary="Simple list"><tr><td>0: WMS can map a subset of the full bounding box.</td></tr><tr><td>1: WMS can only map the entire bounding box.</td></tr></table></td></tr><tr><td valign="top"><p>fixedWidth</p></td><td valign="top"><p>0, positive integer</p></td><td valign="top"><table class="simplelist" border="0" summary="Simple list"><tr><td>0: WMS can resize map to arbitrary width.</td></tr><tr><td>nonzero: map has a fixed width that cannot be changed by the WMS.</td></tr></table></td></tr><tr><td valign="top"><p>fixedHeight</p></td><td valign="top"><p>0, positive integer</p></td><td valign="top"><table class="simplelist" border="0" summary="Simple list"><tr><td>0: WMS can resize map to arbitrary height.</td></tr><tr><td>nonzero: map has a fixed height that cannot be changed by the WMS.</td></tr></table></td></tr></tbody></table></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_attributes.queryable"></a>7.1.4.6.1.&nbsp;Queryable layers</h6></div></div><div></div></div><p>A Layer is said to be "queryable" if the server supports the
  GetFeatureInfo operation on that Layer. A server <span class="bold"><b>may</b></span>
  support GetFeatureInfo on some of its layers but not on all. A server
  <span class="bold"><b>shall</b></span> issue a Service Exception
  (code="LayerNotQueryable") if GetFeatureInfo is requested on a Layer
  that is not queryable.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_attributes.cascaded"></a>7.1.4.6.2.&nbsp;Cascaded layers</h6></div></div><div></div></div><p>A Layer is said to have been "cascaded" if it was obtained
  from an originating server and then included in the Capabilities XML of a
  different server. The second server may simply offer an additional access
  point for the Layer, or may add value by offering additional output formats
  or spatial reference systems.</p><p>If a WMS cascades the content of another WMS then it <span class="strong">shall</span> increment by 1 the value of the <span class="strong">cascaded</span> attribute for the affected layers. If that
  attribute is missing from the originating WMS's Capabilities XML, then
  the Cascading WMS <span class="bold"><b>shall</b></span> insert the
  attribute and set it to 1.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_attributes.opaque_vs_transparent"></a>7.1.4.6.3.&nbsp;Opaque vs. transparent layers</h6></div></div><div></div></div><p>If the optional <span class="bold"><b>opaque </b></span>attribute is
  missing or has a value of "0," then maps made from that Layer will
  generally have significant "no-data" areas that a client may display
  as transparent. Vector features such as points and lines are considered not
  to be opaque in this context (even though at some scales and symbol sizes a
  collection of features might fill the map area). A value of "1"
  indicates that the Layer represents an area-filling coverage of space. For
  example, a map that represents topography and bathymetry as regions of
  differing colors will have no transparent areas. The "opaque"
  declaration <span class="bold"><b>should</b></span> be taken as a hint to
  the Client to place such a Layer at the bottom of a stack of maps.</p><p>This attribute describes only the Layer's data content, not the
  picture format of the map response. Whether or not a Layer is listed as
  opaque, a server <span class="bold"><b>shall</b></span> still comply with
  the GetMap operation specified below: that is, the server <span class="strong">shall</span> send an image with a transparent background
  if and only if the client requests TRANSPARENT=true and a picture FORMAT
  that supports transparency.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h6 class="title"><a name="wmsops.getcapabilities.response.layer_attributes.subsettable_and_resizeable"></a>7.1.4.6.4.&nbsp;Subsettable and resizable layers</h6></div></div><div></div></div><p>The Layer metadata may also include three optional attributes that
  indicate a map server that is less functional than a normal WMS because it
  is not able to extract a subset of a larger dataset and/or because it only
  serves maps of a fixed size and cannot resize them. For example, a WMS that
  houses a collection of digitized images of historical maps, or pre-computed
  browse images of satellite data, may not be able to subset or resize those
  images. However, it can still respond to GetMap requests for complete maps
  in the original size.</p><p>Static image collections may not have a well-defined coordinate
  system, in which case the server <span class="bold"><b>shall</b></span>
  declare SRS=NONE as described in the Basic Service Elements section.</p><p>When set to a value of 1, <span class="bold"><b>noSubsets
  </b></span>indicates that the Server is not able to crop the data or map to
  a geographic area smaller than its enclosing bounding box.</p><p>When present and nonzero, <span class="bold"><b>fixedWidth</b></span>
  and <span class="bold"><b>fixedHeight</b></span> indicate that the Server
  is not able to resize, resample or interpolate the data to a different pixel
  resolution than its "native" resolution.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getcapabilities.response.property_inheritance"></a>7.1.4.7.&nbsp;Inheritance of Layer Properties</h5></div></div><div></div></div><p><a href="#table.layer_property_inheritance" title="Table&nbsp;7.&nbsp;Inheritance of Layer Properties">Table&nbsp;7</a> summarizes how the properties of an enclosing parent layer are
  inherited by child layers. Properties may be not inherited at all, or
  inherited as-is, or replaced if the child redefines them, or inherited and
  added to if the child also defines them. In the latter case, any duplicated
  definition by the child is ignorable. In <a href="#table.layer_property_inheritance" title="Table&nbsp;7.&nbsp;Inheritance of Layer Properties">Table&nbsp;7</a>, the <span class="strong">number</span> column states the number of times each
  element may appear in a Layer. This column repeats information that is
  enforced by the DTD in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a>. The meanings of the values in this column
  are as follows: 1: appears exactly once in each Layer; 0/1: appears either
  once or not at all; 0+: appears zero or more times; 1+: appears one or more
  times. The <span class="bold"><b>Inheritance </b></span>column indicates
  whether or how the element is inherited by child Layers. The meanings of the
  values in this column are as follows: no: not inherited. add: child inherits
  any value(s) supplied by parent and adds any values of its own
  ("add" is only relevant for elements that may appear more than one
  time); replace: value can be inherited from parent and omitted by child, but
  if specified by child then the parent value is ignored.</p><p></p><div class="table"><a name="table.layer_property_inheritance"></a><p class="title"><b>Table&nbsp;7.&nbsp;Inheritance of Layer Properties</b></p><table summary="Inheritance of Layer Properties" border="1"><colgroup><col><col><col></colgroup><thead><tr><th valign="top"><p>Element</p></th><th align="center" valign="top"><p>Number</p></th><th align="center" valign="top"><p>Inheritance</p></th></tr></thead><tbody><tr><td valign="top"><p>Layer</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>Name</p></td><td align="center" valign="top"><p>1</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>Title</p></td><td align="center" valign="top"><p>1</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>Abstract</p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>KeywordList</p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>Style</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>add</p></td></tr><tr><td valign="top"><p>SRS</p></td><td align="center" valign="top"><p>1+</p></td><td align="center" valign="top"><p>add</p></td></tr><tr><td valign="top"><p>LatLonBoundingBox</p></td><td align="center" valign="top"><p>1</p></td><td align="center" valign="top"><p>replace</p></td></tr><tr><td valign="top"><p>BoundingBox</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>replace</p></td></tr><tr><td valign="top"><p>Dimension</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>add</p></td></tr><tr><td valign="top"><p>Extent</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>replace</p></td></tr><tr><td valign="top"><p>Attribution</p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>replace</p></td></tr><tr><td valign="top"><p>AuthorityURL</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>add</p></td></tr><tr><td valign="top"><p>Identifier</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>MetadataURL</p></td><td align="center" valign="top"><p>0+</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>DataURL</p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>FeatureListURL</p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>no</p></td></tr><tr><td valign="top"><p>ScaleHint</p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>replace</p></td></tr><tr><td valign="top"><p>attributes listed in <a href="#table.layer_attributes" title="Table&nbsp;6.&nbsp;Layer Attributes">Table&nbsp;6</a></p></td><td align="center" valign="top"><p>0/1</p></td><td align="center" valign="top"><p>replace</p></td></tr></tbody></table></div><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getcapabilities.output_formats"></a>7.1.5.&nbsp;Output Formats</h4></div></div><div></div></div><p>Format specifiers appear in several places in Capabilities XML: as
  valid output formats for an operation, as supported Exception formats, and
  as the format of content at external URLs. Formats are specified as MIME
  types such as "image/gif" or "image/png". Several
  OGC-specific types have been defined to distinguish various types of XML
  documents; these are listed in <a href="#table.ogc_mimes" title="Table&nbsp;3.&nbsp;OGC-Specific MIME Types">Table&nbsp;3</a>, above.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.getmap"></a>7.2.&nbsp;GetMap (required)</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getmap.general"></a>7.2.1.&nbsp;General</h4></div></div><div></div></div><p>The GetMap operation is designed to produce a map, which is defined to
  be either a pictorial image or a set of graphical elements.</p><p>Upon receiving a Map request, a Map Server <span class="bold"><b>shall</b></span>
  either satisfy the request or throw an exception in the format requested.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getmap.overview"></a>7.2.2.&nbsp;GetMap Request Overview</h4></div></div><div></div></div><p><a href="#table.getmap" title="Table&nbsp;8.&nbsp;The Parameters of a GetMap Request">Table&nbsp;8</a> describes the Map Request. The request is typically encoded as
  a URL that is invoked on the WMS using the HTTP GET operation. (The optional
  Styled Layer Descriptor [<a href="#bibliography.ogc_document_01-028">3</a>] extensions describe an HTTP POST encoding for
  communicating with an SLD-enabled WMS.)</p><div class="table"><a name="table.getmap"></a><p class="title"><b>Table&nbsp;8.&nbsp;The Parameters of a GetMap Request</b></p><table summary="The Parameters of a GetMap Request" border="1"><colgroup><col><col><col></colgroup><thead><tr><th valign="top"><p>Request Parameter</p></th><th align="center" valign="top"><div class="literallayout"><p>Required/<br>
Optional</p></div></th><th valign="top"><p>Description</p></th></tr></thead><tbody><tr><td valign="top"><p>VERSION=version</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Request version.</p></td></tr><tr><td valign="top"><p>REQUEST=GetMap</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Request name.</p></td></tr><tr><td valign="top"><p>LAYERS=layer_list</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Comma-separated list of one or more map
          layers. Optional if SLD parameter is present.</p></td></tr><tr><td valign="top"><p>STYLES=style_list</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Comma-separated list of one rendering
          style per requested layer. Optional if SLD parameter is present.</p></td></tr><tr><td valign="top"><p>SRS=namespace:identifier</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Spatial Reference System.</p></td></tr><tr><td valign="top"><p>BBOX=minx,miny,maxx,maxy</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Bounding box corners (lower left, upper
          right) in SRS units.</p></td></tr><tr><td valign="top"><p>WIDTH=output_width</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Width in pixels of map picture.</p></td></tr><tr><td valign="top"><p>HEIGHT=output_height</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Height in pixels of map picture.</p></td></tr><tr><td valign="top"><p>FORMAT=output_format</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Output format of map.</p></td></tr><tr><td valign="top"><p>TRANSPARENT=TRUE|FALSE</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Background transparency of map
          (default=FALSE).</p></td></tr><tr><td valign="top"><p>BGCOLOR=color_value</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Hexadecimal red-green-blue color value for
          the background color (default=0xFFFFFF).</p></td></tr><tr><td valign="top"><p>EXCEPTIONS=exception_format</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>The format in which exceptions are to be
          reported by the WMS (default=SE_XML).</p></td></tr><tr><td valign="top"><p>TIME=time</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Time value of layer desired.</p></td></tr><tr><td valign="top"><p>ELEVATION=elevation</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Elevation of layer desired.</p></td></tr><tr><td valign="top"><p>Other sample dimension(s)</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Value of other dimensions as appropriate.</p></td></tr><tr><td valign="top"><p>Vendor-specific parameters</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Optional experimental parameters.</p></td></tr><tr><td colspan="3" valign="top"><p><span class="bold"><b>The following
          parameters are used only with Web Map Services that support the
          Styled Layer Descriptor specification [<a href="#bibliography.ogc_document_01-028">3</a>].</b></span></p></td></tr><tr><td valign="top"><p>SLD=styled_layer_descriptor_URL</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>URL of Styled Layer Descriptor (as defined
          in SLD Specification).</p></td></tr><tr><td valign="top"><p>WFS=web_feature_service_URL</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>URL of Web Feature Service providing
          features to be symbolized using SLD.</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getmap.params"></a>7.2.3.&nbsp;Request Parameters</h4></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.version"></a>7.2.3.1.&nbsp;VERSION</h5></div></div><div></div></div><p>The <span class="bold"><b>required</b></span> VERSION parameter is
  specified in the Basic Service Elements section.</p><p>In WMS version 1.0.0, the name of this parameter was "WMTVER".
  That name is now deprecated, but for backwards compatibility and version
  negotiation a post-1.0.0 server <span class="bold"><b>should</b></span> accept
  either form without issuing a Service Exception.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.request"></a>7.2.3.2.&nbsp;REQUEST</h5></div></div><div></div></div><p>The nature of the <span class="bold"><b>required </b></span>REQUEST
  parameter is specified in the Basic Service Elements section. For GetMap,
  the value "GetMap" <span class="bold"><b>shall</b></span> be used.</p><p>In WMS version 1.0.0, the value of this parameter was "map".
  That value is now deprecated, but for backwards compatibility a post-1.0.0
  server <span class="bold"><b>should</b></span> accept either form
  without issuing a Service Exception.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.layers"></a>7.2.3.3.&nbsp;LAYERS</h5></div></div><div></div></div><p>The <span class="bold"><b>required </b></span>LAYERS parameter lists
  the map layer(s) to be returned by this GetMap request. The value of the
  LAYERS parameter is a comma-separated list of one or more valid layer names.
  Allowed layer names are the character data content of any
  &lt;Layer&gt;&lt;Name&gt; element in the Capabilities XML.</p><p>A WMS <span class="bold"><b>shall </b></span>render the requested
  layers by drawing the leftmost in the list bottommost, the next one over
  that, and so on.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.styles"></a>7.2.3.4.&nbsp;STYLES</h5></div></div><div></div></div><p>The <span class="bold"><b>required</b></span> STYLES parameter lists
  the style in which each layer is to be rendered. The value of the STYLES
  parameter is a comma-separated list of one or more valid style names. There
  is a one-to-one correspondence between the values in the LAYERS parameter
  and the values in the STYLES parameter. Each map in the list of LAYERS is
  drawn using the corresponding style in the same position in the list of
  STYLES. Each style Name <span class="bold"><b>shall</b></span> be one that
  was defined in the &lt;Name&gt; element of a &lt;Style&gt; element that
  is either directly contained within, or inherited by, the associated
  &lt;Layer&gt; element in Capabilities XML. (In other words, the Client may
  not request a Layer in a Style that was only defined for a different Layer.)
  A server <span class="bold"><b>shall</b></span> throw an exception
  (code=StyleNotDefined) if an unadvertised Style is requested.</p><p>A client <span class="bold"><b>may</b></span> request the default
  Style using a null value (as in "STYLES="). If several layers are
  requested with a mixture of named and default styles, the STYLES parameter
  includes null values between commas (as in
  "STYLES=style1,,style2,,"). If all layers are to be shown using the
  default style, either the form "STYLES=" or "STYLES=,,," is
  valid.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.srs"></a>7.2.3.5.&nbsp;SRS</h5></div></div><div></div></div><p>The <span class="bold"><b>required</b></span> SRS parameter states
  which Spatial Reference System applies to the values in the BBOX parameter.
  Spatial Reference Systems are discussed in detail in the Basic Service
  Elements section. The value of the SRS parameter <span class="bold"><b>shall</b></span>
  be one of the values defined in the character data section of an
  &lt;SRS&gt; element defined or inherited by the requested layer. The same
  SRS applies to all layers in a single request.</p><p>If the WMS server has declared SRS=NONE for a Layer, as discussed in
  the Basic Service Elements section, then the Layer does not have a
  well-defined spatial reference system and should not be shown in conjunction
  with other layers. The Client <span class="bold"><b>shall</b></span>
  specify SRS=NONE (case-insensitive) in the GetMap request and the Server may
  issue a Service Exception otherwise.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.bbox"></a>7.2.3.6.&nbsp;BBOX</h5></div></div><div></div></div><p>The <span class="bold"><b>required </b></span>BBOX parameter allows
  a Client to request a particular Bounding Box. Bounding Boxes are defined in
  the Basic Service Elements section. The value of the BBOX parameter in a
  GetMap request is a list of comma-separated numbers of the form
  "minx,miny,maxx,maxy".</p><p>If the WMS server has declared that a Layer is not subsettable, as
  described in <a href="#wmsops.getcapabilities.response.layer_attributes.subsettable_and_resizeable">Section 7.1.4.6.4, Subsettable and resizable layers</a>,"
  then the Client <span class="bold"><b>shall</b></span> specify exactly the
  declared Bounding Box values in the GetMap request and the Server may issue
  a Service Exception otherwise.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.format"></a>7.2.3.7.&nbsp;FORMAT</h5></div></div><div></div></div><p>The <span class="bold"><b>required</b></span> FORMAT parameter
  states the desired format of the response to an operation, as specified in
  the Basic Service Elements section. Supported values for a GetMap request on
  a WMS instance are listed in one or more &lt;Format&gt; elements in the
  &lt;Request&gt;&lt;GetMap&gt; element of its Capabilities XML. The
  entire MIME type string in &lt;Format&gt; is used as the value of the
  FORMAT parameter. In an HTTP environment, the MIME type <span class="strong">shall</span> be set on the returned object using the
  Content-type entity header.</p><p>For a Web Map Service, allowed formats are either "picture"
  formats or "graphic element" formats. Picture formats include common
  image formats such as Graphics Interchange Format (GIF; MIME type
  "image/gif"), Portable Network Graphics (PNG; MIME type
  "image/png"), Joint Photographics Expert Group (JPEG; MIME type
  "image/jpeg"), all of which can be displayed by common Web browsers,
  and others which may require external helper applications for display.
  Graphic element formats (less frequently used in WMS practice) include
  Scalable Vector Graphics (SVG) or Web Computer Graphics Metafile (WebCGM)
  formats.</p><p>Use of a specific format is <span class="bold"><b>not required</b></span>
  by this specification. However, see the discussion about transparency in
  <a href="#wmsops.getmap.params.transparent">Section 7.2.3.9, TRANSPARENT</a> regarding a <span class="bold"><b>recommended</b></span>
  format for practical use.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.width_height"></a>7.2.3.8.&nbsp;WIDTH, HEIGHT</h5></div></div><div></div></div><p>The <span class="bold"><b>required </b></span>WIDTH and HEIGHT
  parameters specify the size in integer pixels of the map image to be
  produced. WIDTH specifies the number of pixels to be used between the
  minimum and maximum X values (inclusive) in the BBOX parameter, while HEIGHT
  specifies the number of pixels between the minimum and maximum Y values. The
  returned picture, regardless of its return format, <span class="bold"><b>shall</b></span>
  have exactly the specified width and height in pixels. In the case where the
  aspect ratio of the BBOX and the ratio width/height are different, the WMS
  <span class="bold"><b>shall</b></span> stretch the returned map so that
  the resulting pixels could themselves be rendered in the aspect ratio of the
  BBOX. In other words, it should be possible using this definition to request
  a map for a device whose output pixels are themselves non-square, or to
  stretch a map into an image area of a different aspect ratio.</p><div class="note"><p><b>Note</b>: Map distortions will be
    introduced if the aspect ratio WIDTH/HEIGHT is not commensurate with X, Y
    and the pixel aspect. Client developers are cautioned to minimize the
    possibility that users will inadvertently request or unknowingly receive
    distorted maps.</p></div><p>If a request is for a graphic element return format (e.g., SVG or
  WebCGM),which does not have explicit width and height, the WIDTH and HEIGHT
  values <span class="bold"><b>shall</b></span> nevertheless be present and
  <span class="bold"><b>may</b></span> be used by the server as helpful
  information but this specification currently considers this use to be
  experimental.</p><p>If the WMS server has declared that a Layer has fixed width and
  height, as described in <a href="#wmsops.getcapabilities.response.layer_attributes.subsettable_and_resizeable">Section 7.1.4.6.4, Subsettable and resizable layers</a>,
  then the Client <span class="bold"><b>shall</b></span>
  specify exactly those WIDTH and HEIGHT values in the GetMap request and the
  Server may issue a Service Exception otherwise.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.transparent"></a>7.2.3.9.&nbsp;TRANSPARENT</h5></div></div><div></div></div><p>The <span class="bold"><b>optional</b></span> TRANSPARENT parameter
  specifies whether the map background is to be made transparent or not.
  TRANSPARENT can take on two values, "TRUE" or "FALSE". The
  default value is FALSE if this parameter is absent from the request.</p><p>The ability to return pictures drawn with transparent pixels allows
  results of different Map requests to be overlaid, producing a composite map.
  It is <span class="bold"><b>strongly recommended</b></span> that every WMS
  offer a format that provides transparency for layers which could sensibly be
  overlaid above others.</p><div class="note"><p><b>Note</b>: At the time of this
    writing, the image/gif format provides transparency and is properly
    displayed by common web clients. The image/png format provides a range of
    transparency options but support in viewing applications is very poor. The
    image/jpeg format does not provide transparency at all.</p></div><p>When TRANSPARENT is set to TRUE and the FORMAT parameter contains a
  Picture format (e.g., image/gif), then a WMS <span class="bold"><b>shall</b></span>
  return (when permitted by the requested format) a result where all of the
  pixels not representing features or data values in that Layer are set to a
  transparent value. For example, a "roads" layer would be transparent
  wherever no road is shown. When TRANSPARENT is set to FALSE, those pixels
  <span class="bold"><b>shall</b></span> be set to the value of BGCOLOR
  (<a href="#wmsops.getmap.params.bgcolor">Section 7.2.3.10, BGCOLOR</a>).</p><p>When the Layer has been declared as "opaque" as in
  <a href="#wmsops.getcapabilities.response.layer_attributes.opaque_vs_transparent">Section 7.1.4.6.3, Opaque vs. transparent layers</a>,
  then significant portions, or the entirety, of the map may not be
  able to made transparent.</p><p>When the FORMAT parameter contains a Graphic Element format, the
  TRANSPARENT parameter <span class="bold"><b>may</b></span> be included in
  the request but its value <span class="bold"><b>shall</b></span> be
  ignored by the WMS.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.bgcolor"></a>7.2.3.10.&nbsp;BGCOLOR</h5></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>BGCOLOR parameter
  specifies the color to be used as the background of the map. The general
  format of BGCOLOR is a hexadecimal encoding of an RGB value where two
  hexadecimal characters are used for each of Red, Green, and Blue color
  values. The values can range between 00 and FF for each (0 and 255, base
  10). The format is 0xRRGGBB; either upper or lower case characters are
  allowed for RR, GG, and BB values. The "0x" prefix <span class="strong">shall</span> have a lower case 'x'. The default value is
  0xFFFFFF (corresponding to the color white) if this parameter is absent from
  the request.</p><p>When FORMAT is a Picture format, a WMS <span class="bold"><b>shall</b></span>
  render its output on a background whose pixels were initially uniformly of
  the color encoded in BGCOLOR. When FORMAT is a Graphic Element format (which
  does not have an explicit background), a WMS should avoid use of the BGCOLOR
  value for foreground elements because they would not be visible against a
  background picture of the same color.</p><p>When the Layer has been declared as "opaque" as in
  <a href="#wmsops.getcapabilities.response.layer_attributes.opaque_vs_transparent">Section 7.1.4.6.3, Opaque vs. transparent layers</a>,
  then significant portions, or the entirety, of the map may not
  show any background at all.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.exceptions"></a>7.2.3.11.&nbsp;EXCEPTIONS</h5></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>EXCEPTIONS parameter
  states the manner in which errors are to be reported to the client. The
  default value is application/vnd.ogc.se_xml if this parameter is absent from
  the request.</p><p>A Web Map Service <span class="bold"><b>shall</b></span> offer one
  or more of the following exception reporting formats by listing them in
  separate &lt;Format&gt; elements inside the &lt;Exceptions&gt; element
  of its Capabilities XML. The entire MIME type string in &lt;Format&gt; is
  used as the value of the EXCEPTIONS parameter. The first of these formats is
  required to be offered by every WMS; the others are optional.</p><p><b>application/vnd.ogc.se_xml (required).&nbsp;</b>Errors are reported using Service Exception XML, as specified in
  <a href="#basic_elements.exceptions">Section 6.7, Service Exceptions</a> and <a href="#xml_dtds.service_exception_dtd">Annex A.3, Service Exception DTD</a>. This is the default exception format if none is
  specified in the request. The MIME type of the XML document containing the
  error message(s) <span class="bold"><b>shall</b></span> be
  application/vnd.ogc.se_xml.</p><p>The remaining exception formats are optional. A server <span class="strong">may</span> issue an exception in the default
  application/vnd.ogc.se_xml format if a request specifies a different format
  not supported by the server.</p><p><b>application/vnd.ogc.se_inimage (optional).&nbsp;</b>In the case of a Picture format, error messages are graphically
  returned as part of the content. This would usually take the form of text
  containing the message being painted into the returned map.</p><p>In Graphic Element output formats, the response to this value is
  experimental and no specific use is required or suggested by this
  specification.</p><p>application/vnd.ogc.se_inimage is a pseudo MIME type; the format and
  MIME type of the returned content with embedded error messages is actually
  that given in the FORMAT parameter.</p><p><b>application/vnd.ogc.se_blank (optional).&nbsp;</b>In the case of a Picture format, if the EXCEPTIONS parameter is set to
  application/vnd.ogc.se_blank, the WMS <span class="bold"><b>shall</b></span>,
  upon detecting an error, return an object of the type specified in FORMAT
  whose content is uniformly "off". In the case of an image format
  such as GIF or JPEG, that would be an object containing only pixels of one
  color (the background color if BACKGROUND is specified). In the case of a
  picture format supporting transparency, if TRANSPARENT=TRUE is specified the
  pixels <span class="bold"><b>shall</b></span> all be transparent.</p><p>In Graphic Element output formats, such as vector-based formats, this
  specification suggests that no visible graphic elements be returned.</p><p>application/vnd.ogc.se_blank is a pseudo MIME type; the format and
  MIME type of the returned content with embedded error messages is actually
  that given in the FORMAT parameter.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.time"></a>7.2.3.12.&nbsp;TIME</h5></div></div><div></div></div><p>The use of Time values is specified in <a href="#date_time">Annex B, Formatting Dates and Times</a> and <a href="#dims">Annex C, Handling Multi-Dimensional Data</a>.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.elevation"></a>7.2.3.13.&nbsp;ELEVATION</h5></div></div><div></div></div><p>The use of Elevation values is specified in <a href="#dims">Annex C, Handling Multi-Dimensional Data</a>.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getmap.params.dims"></a>7.2.3.14.&nbsp;Other sample dimensions</h5></div></div><div></div></div><p>The declaration of sample dimensions is specified in <a href="#dims">Annex C, Handling Multi-Dimensional Data</a>.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getmap.vsps"></a>7.2.4.&nbsp;Vendor-Specific Parameters</h4></div></div><div></div></div><p>The use of Vendor-Specific Parameters (VSPs) is discussed in the Basic
  Service Elements section. We repeat here only that clients <span class="strong">may</span> ignore any VSP they encounter in Capabilities
  XML, and that servers <span class="bold"><b>shall not</b></span> require
  the presence of VSPs in a request.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getmap.response"></a>7.2.5.&nbsp;GetMap Response</h4></div></div><div></div></div><p>The response to a valid GetMap request <span class="bold"><b>shall</b></span>
  be a map of the georeferenced information layer requested, in the desired
  style, and having the specified spatial reference system, bounding box,
  size, format and transparency.</p><p>An invalid GetMap request <span class="bold"><b>shall</b></span>
  yield an error output in the requested Exceptions format (or a network
  protocol error response in extreme cases).</p><p>In an HTTP environment, the MIME type of the returned value's
  Content-type entity header <span class="bold"><b>shall</b></span> match
  the format of the return value.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.getfeatureinfo"></a>7.3.&nbsp;GetFeatureInfo (optional)</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getfeatureinfo.general"></a>7.3.1.&nbsp;General</h4></div></div><div></div></div><p>GetFeatureInfo is an optional operation. It is only supported for
  those Layers for which the attribute queryable="1" (true) has been
  defined or inherited (<a href="#wmsops.getcapabilities.response.layer_attributes.queryable">Section 7.1.4.6.1, Queryable layers</a>). A Client <span class="bold"><b>shall
  not</b></span> issue a GetFeatureInfo request for other layers. A WMS
  <span class="bold"><b>should</b></span> respond with a properly formatted
  Service Exception (application/vnd.ogc.se_xml) response if it encounters
  that request but does not support it.</p><p>The GetFeatureInfo operation is designed to provide clients of a WMS
  with more information about features in the pictures of maps that were
  returned by previous Map requests. The canonical use case for GetFeatureInfo
  is that a user sees the response of a Map request and chooses a point on
  that map for which to obtain more information. The basic operation provides
  the ability for a client to specify which pixel is being asked about, which
  layer(s) should be investigated, and what format the information should be
  returned in. Because the WMS protocol is stateless, the GetFeatureInfo
  request indicates to the WMS what map the user is viewing by including most
  of the original GetMap request parameters (all but VERSION and REQUEST).
  From the spatial context information (BBOX, SRS, WIDTH, HEIGHT) in that
  GetMap request, along with the X,Y position the user chose, the WMS can
  (possibly) return additional information about that position.</p><p>The behavior described above is geared toward the picture case. In the
  graphic element case, the semantics of GetFeatureInfo are less defined. The
  intent is to gain experience with this version of the request and perhaps
  provide additional rigor in future versions of the specification.</p><p>The actual semantics of how a WMS decides what to return more
  information about, or what exactly to return is left up to the WMS provider.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getfeatureinfo.overview"></a>7.3.2.&nbsp;GetFeatureInfo Request Overview</h4></div></div><div></div></div><p>The parameters of a GetFeatureInfo request are listed in <a href="#table.getfeatureinfo" title="Table&nbsp;9.&nbsp;The Parameters of a GetFeatureInfo Request">Table&nbsp;9</a>
  below.</p><div class="table"><a name="table.getfeatureinfo"></a><p class="title"><b>Table&nbsp;9.&nbsp;The Parameters of a GetFeatureInfo Request</b></p><table summary="The Parameters of a GetFeatureInfo Request" border="1"><colgroup><col><col><col></colgroup><thead><tr><th valign="top"><p>Request Parameter</p></th><th align="center" valign="top"><div class="literallayout"><p>Required/<br>
Optional</p></div></th><th valign="top"><p>Description</p></th></tr></thead><tbody><tr><td valign="top"><p>VERSION=version</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Request version.</p></td></tr><tr><td valign="top"><p>REQUEST=GetFeatureInfo</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Request name.</p></td></tr><tr><td valign="top"><p>&lt;map_request_copy&gt;</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Partial copy of the Map request parameters
          that generated the map for which information is desired.</p></td></tr><tr><td valign="top"><p>QUERY_LAYERS=layer_list</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Comma-separated list of one or more layers
          to be queried.</p></td></tr><tr><td valign="top"><p>INFO_FORMAT=output_format</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Return format of feature information (MIME
          type).</p></td></tr><tr><td valign="top"><p>FEATURE_COUNT=number</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Number of features about which to return
          information (default=1).</p></td></tr><tr><td valign="top"><p>X=pixel_column</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>X coordinate in pixels of feature
          (measured from upper left corner=0)</p></td></tr><tr><td valign="top"><p>Y=pixel_row</p></td><td align="center" valign="top"><p>R</p></td><td valign="top"><p>Y coordinate in pixels of feature
          (measured from upper left corner=0)</p></td></tr><tr><td valign="top"><p>EXCEPTIONS=exception_format</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>The format in which exceptions are to be
          reported by the WMS (default=application/vnd.ogc.se_xml).</p></td></tr><tr><td valign="top"><p>Vendor-specific parameters</p></td><td align="center" valign="top"><p>O</p></td><td valign="top"><p>Optional experimental parameters.</p></td></tr></tbody></table></div><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getfeatureinfo.params"></a>7.3.3.&nbsp;Request Parameters</h4></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.prefix"></a>7.3.3.1.&nbsp;Prefix</h5></div></div><div></div></div><p>The role of the URL prefix is specified in the Basic Service Elements
  section. The prefixes for GetCapabilities, GetMap and GetFeatureInfo may be
  different.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.version"></a>7.3.3.2.&nbsp;VERSION</h5></div></div><div></div></div><p>The <span class="bold"><b>required</b></span> VERSION parameter is
  specified in the Basic Service Elements section.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.request"></a>7.3.3.3.&nbsp;REQUEST</h5></div></div><div></div></div><p>The nature of the <span class="bold"><b>required</b></span> REQUEST
  parameter is specified in the Basic Service Elements section. For
  GetFeatureInfo, the value "GetFeatureInfo" <span class="bold"><b>shall</b></span>
  be used.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.map_request_copy"></a>7.3.3.4.&nbsp;map_request_copy</h5></div></div><div></div></div><p>&lt;map request copy&gt; is not a name/value pair like the other
  parameters. Instead, most of the GetMap request parameters that generated
  the original map are repeated. Two are omitted because GetFeatureInfo
  provides its own values: VERSION and REQUEST. The remainder of the GetMap
  request <span class="bold"><b>shall</b></span> be embedded contiguously in
  the GetFeatureInfo request.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.query_layers"></a>7.3.3.5.&nbsp;QUERY_LAYERS</h5></div></div><div></div></div><p>The <span class="bold"><b>required</b></span> QUERY_LAYERS parameter
  states the map layer(s) from which feature information is desired to be
  retrieved. Its value is a comma-separated list of one or more map layers.
  This parameter <span class="bold"><b>shall</b></span> contain at least one
  layer name, but <span class="bold"><b>may</b></span> contain fewer layers
  than the original GetMap request.</p><p>If any layer in this list is not contained in the Capabilities XML of
  the WMS, the results are undefined and the WMS <span class="bold"><b>shall</b></span>
  produce an exception response.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.info_format"></a>7.3.3.6.&nbsp;INFO_FORMAT</h5></div></div><div></div></div><p>The <span class="bold"><b>optional</b></span> INFO_FORMAT indicates
  what format to use when returning the feature information. Supported values
  for a GetFeatureInfo request on a WMS instance are listed as MIME types in
  one or more &lt;Format&gt; elements inside the
  &lt;Request&gt;&lt;FeatureInfo&gt; element of its Capabilities XML. The
  entire MIME type string in &lt;Format&gt; is used as the value of the
  INFO_FORMAT parameter. In an HTTP environment, the MIME type <span class="strong">shall</span> be set on the returned object using the
  Content-type entity header.</p><div class="example"><a name="d0e4236"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>The parameter
  INFO_FORMAT=application/vnd.ogc.gml requests that the feature information be
  formatted in Geography Markup Language (GML) [<a href="#bibliography.ogc_document_01-029">1</a>].</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.feature_count"></a>7.3.3.7.&nbsp;FEATURE_COUNT</h5></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>FEATURE_COUNT
  parameter states the maximum number of features for which feature
  information should be returned. Its value is a positive integer greater than
  zero. The default value is 1 if this parameter is omitted.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.x_y"></a>7.3.3.8.&nbsp;X, Y</h5></div></div><div></div></div><p>The <span class="bold"><b>required </b></span>X and Y parameters
  indicate a point of interest on the map. X and Y identify a single point
  within the borders of the WIDTH and HEIGHT parameters of the embedded GetMap
  request. The origin is set to (0,0) centered in the pixel at the upper left
  corner; X increases to the right and Y increases downward.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="wmsops.getfeatureinfo.params.exceptions"></a>7.3.3.9.&nbsp;EXCEPTIONS</h5></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>EXCEPTIONS parameter
  states the manner in which errors are to be reported to the client. The
  default value is application/vnd.ogc.se_xml if this parameter is absent from
  the request. At present, not other values are defined for the WMS
  GetFeatureInfo request.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="wmsops.getfeatureinfo.response"></a>7.3.4.&nbsp;GetFeatureInfo Response</h4></div></div><div></div></div><p>The WMS <span class="bold"><b>shall</b></span> return a response
  according to the requested INFO_FORMAT if the request is valid, or issue an
  exception otherwise. The nature of the response is at the discretion of the
  WMS provider, but it <span class="bold"><b>shall</b></span> pertain to the
  feature(s) nearest to (X,Y).</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.describelayer"></a>7.4.&nbsp;DescribeLayer (SLD WMS only)</h3></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>DescribeLayer
  operation applies only to a Styled Layer Descriptor WMS. See the SLD
  specification [<a href="#bibliography.ogc_document_01-028">3</a>] for this operation.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.getlegendgraphic"></a>7.5.&nbsp;GetLegendGraphic (SLD WMS only)</h3></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>GetLegendGraphic
  operation applies only to a Styled Layer Descriptor WMS. See the SLD
  specification [<a href="#bibliography.ogc_document_01-028">3</a>] for this operation.</p><div class="note"><p><b>Note</b>: Change from version 1.1.0:
    This is a new operation.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.getstyles"></a>7.6.&nbsp;GetStyles (SLD WMS only)</h3></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>GetStyles operation
  applies only to a Styled Layer Descriptor WMS. See the SLD specification [<a href="#bibliography.ogc_document_01-028">3</a>]
  for this operation.</p><div class="note"><p><b>Note</b>: Change from version 1.1.0:
    This is a new operation.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="wmsops.putstyles"></a>7.7.&nbsp;PutStyles (SLD WMS only)</h3></div></div><div></div></div><p>The <span class="bold"><b>optional </b></span>PutStyles operation
  applies only to a Styled Layer Descriptor WMS. See the SLD specification [<a href="#bibliography.ogc_document_01-028">3</a>]
  for this operation.</p><div class="note"><p><b>Note</b>: Change from version 1.1.0:
    This is a new operation.</p></div></div></div><div class="appendix" lang="en"><h2 class="title" style="clear: both"><a name="xml_dtds"></a>A.&nbsp;XML Document Type Definitions (normative)</h2><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xml_dtds.wms_capabilities_dtd"></a>A.1.&nbsp;WMS Capabilities DTD (Normative)</h3></div></div><div></div></div><p></p><p>This annex contains the WMS Capabilities Document Type Definition
  corresponding to this version of the specification. The DTD may also be
  found on-line at <a href="http://www.digitalearth.gov/wmt/xml/capabilities_1_1_1.dtd" target="_top">http://www.digitalearth.gov/wmt/xml/capabilities_1_1_1.dtd</a>.
  Comments in the DTD are informative; in case of conflict with the main body
  of this specification the main body takes precedence.</p><pre class="programlisting">&lt;!ELEMENT WMT_MS_Capabilities (Service, Capability) &gt;

&lt;!ATTLIST WMT_MS_Capabilities
	  version CDATA #FIXED "1.1.1"
	  updateSequence CDATA #IMPLIED&gt;

&lt;!-- Elements used in multiple places. --&gt;

&lt;!-- The Name is typically for machine-to-machine communication. --&gt;
&lt;!ELEMENT Name (#PCDATA) &gt;

&lt;!-- The Title is for informative display to a human. --&gt;
&lt;!ELEMENT Title (#PCDATA) &gt;

&lt;!-- The abstract is a longer narrative description of an object. --&gt;
&lt;!ELEMENT Abstract (#PCDATA) &gt; 

&lt;!-- An OnlineResource is typically an HTTP URL.  The URL is placed in the
xlink:href attribute.  The xmlns:xlink attribute is a required XML namespace
declaration. --&gt;
&lt;!ELEMENT OnlineResource EMPTY&gt;
&lt;!ATTLIST OnlineResource
          xmlns:xlink CDATA #FIXED "http://www.w3.org/1999/xlink"
          xlink:type CDATA #FIXED "simple"
          xlink:href CDATA #REQUIRED &gt;

&lt;!-- A container for listing an available format's MIME type. --&gt;
&lt;!ELEMENT Format (#PCDATA) &gt;


&lt;!-- General service metadata. --&gt;

&lt;!ELEMENT Service (Name, Title, Abstract?, KeywordList?, OnlineResource,
                   ContactInformation?, Fees?, AccessConstraints?) &gt;

&lt;!-- List of keywords or keyword phrases to help catalog searching. --&gt;
&lt;!ELEMENT KeywordList (Keyword*) &gt;

&lt;!-- A single keyword or phrase. --&gt;
&lt;!ELEMENT Keyword (#PCDATA) &gt;

&lt;!-- Information about a contact person for the service. --&gt;
&lt;!ELEMENT ContactInformation  (ContactPersonPrimary?, ContactPosition?,
                               ContactAddress?, ContactVoiceTelephone?,
                               ContactFacsimileTelephone?,
                               ContactElectronicMailAddress?) &gt;

&lt;!--The primary contact person.--&gt;
&lt;!ELEMENT ContactPersonPrimary  (ContactPerson, ContactOrganization) &gt;

&lt;!--The person to contact.--&gt;
&lt;!ELEMENT ContactPerson  (#PCDATA) &gt;

&lt;!--The organization supplying the service.--&gt;
&lt;!ELEMENT ContactOrganization  (#PCDATA) &gt;

&lt;!--The position title for the contact person.--&gt;
&lt;!ELEMENT ContactPosition  (#PCDATA) &gt;

&lt;!--The address for the contact supplying the service.--&gt;
&lt;!ELEMENT ContactAddress  (AddressType,Address,City,StateOrProvince,PostCode,
               Country) &gt;

&lt;!--The type of address.--&gt;
&lt;!ELEMENT AddressType  (#PCDATA) &gt;

&lt;!--The street address.--&gt;
&lt;!ELEMENT Address  (#PCDATA) &gt;

&lt;!--The address city.--&gt;
&lt;!ELEMENT City  (#PCDATA) &gt;

&lt;!--The state or province.--&gt;
&lt;!ELEMENT StateOrProvince  (#PCDATA) &gt;

&lt;!--The zip or postal code.--&gt;
&lt;!ELEMENT PostCode  (#PCDATA) &gt;

&lt;!--The address country.--&gt;
&lt;!ELEMENT Country  (#PCDATA) &gt;

&lt;!--Contact telephone number.--&gt;
&lt;!ELEMENT ContactVoiceTelephone  (#PCDATA) &gt;

&lt;!--The contact fax number.--&gt;
&lt;!ELEMENT ContactFacsimileTelephone  (#PCDATA) &gt;

&lt;!--The e-mail address for the contact.--&gt;
&lt;!ELEMENT ContactElectronicMailAddress  (#PCDATA) &gt;


&lt;!-- Elements indicating what fees or access constraints are imposed. --&gt;
&lt;!ELEMENT Fees (#PCDATA)&gt;
&lt;!ELEMENT AccessConstraints (#PCDATA)&gt;


&lt;!-- A Capability lists available request types, how exceptions
may be reported, and whether any vendor-specific capabilities are defined.  It
also includes an optional list of map layers available from this server. --&gt;
&lt;!ELEMENT Capability 
          (Request, Exception, VendorSpecificCapabilities?,
	   UserDefinedSymbolization?, Layer?) &gt;

&lt;!-- Available WMS Operations are listed in a Request element. --&gt;
&lt;!ELEMENT Request (GetCapabilities, GetMap, GetFeatureInfo?,
                   DescribeLayer?, GetLegendGraphic?, GetStyles?, PutStyles?) &gt;

&lt;!-- For each operation offered by the server, list the available output
formats and the online resource. --&gt;
&lt;!ELEMENT GetCapabilities (Format+, DCPType+)&gt;
&lt;!ELEMENT GetMap (Format+, DCPType+)&gt;
&lt;!ELEMENT GetFeatureInfo (Format+, DCPType+)&gt;
&lt;!-- The following optional operations only apply to SLD-enabled WMS --&gt;
&lt;!ELEMENT DescribeLayer (Format+, DCPType+)&gt;
&lt;!ELEMENT GetLegendGraphic (Format+, DCPType+)&gt;
&lt;!ELEMENT GetStyles (Format+, DCPType+)&gt;
&lt;!ELEMENT PutStyles (Format+, DCPType+)&gt;

&lt;!-- Available Distributed Computing Platforms (DCPs) are
listed here.  At present, only HTTP is defined. --&gt;
&lt;!ELEMENT DCPType (HTTP) &gt;

&lt;!-- Available HTTP request methods.  One or both may be supported. --&gt;
&lt;!ELEMENT HTTP (Get | Post)+ &gt;

&lt;!-- URL prefix for each HTTP request method. --&gt;
&lt;!ELEMENT Get (OnlineResource) &gt;
&lt;!ELEMENT Post (OnlineResource) &gt;

&lt;!-- An Exception element indicates which error-reporting formats are supported. --&gt;
&lt;!ELEMENT Exception (Format+)&gt;

&lt;!-- Optional user-defined symbolization (used only by SLD-enabled WMSes). --&gt;
&lt;!ELEMENT UserDefinedSymbolization EMPTY &gt;
&lt;!ATTLIST UserDefinedSymbolization
          SupportSLD (0 | 1) "0"
          UserLayer (0 | 1) "0"
          UserStyle (0 | 1) "0"
          RemoteWFS (0 | 1) "0" &gt;

&lt;!-- Nested list of zero or more map Layers offered by this server. --&gt;
&lt;!ELEMENT Layer ( Name?, Title, Abstract?, KeywordList?, SRS*,
                  LatLonBoundingBox?, BoundingBox*, Dimension*, Extent*,
                  Attribution?, AuthorityURL*, Identifier*, MetadataURL*, DataURL*,
                  FeatureListURL*, Style*, ScaleHint?, Layer* ) &gt;

&lt;!-- Optional attributes--&gt;
&lt;!ATTLIST Layer queryable (0 | 1) "0"
                cascaded CDATA #IMPLIED
                opaque (0 | 1) "0"
                noSubsets (0 | 1) "0"
                fixedWidth CDATA #IMPLIED
                fixedHeight CDATA #IMPLIED &gt;
          
&lt;!-- Identifier for a single Spatial Reference Systems (SRS). --&gt;
&lt;!ELEMENT SRS (#PCDATA) &gt;

&lt;!-- The LatLonBoundingBox attributes indicate the edges of the enclosing
rectangle in latitude/longitude decimal degrees (as in SRS EPSG:4326 [WGS1984
lat/lon]). --&gt;
&lt;!ELEMENT LatLonBoundingBox EMPTY&gt;
&lt;!ATTLIST LatLonBoundingBox 
          minx CDATA #REQUIRED
          miny CDATA #REQUIRED
          maxx CDATA #REQUIRED
          maxy CDATA #REQUIRED&gt;

&lt;!-- The BoundingBox attributes indicate the edges of the bounding box
in units of the specified spatial reference system. --&gt;
&lt;!ELEMENT BoundingBox EMPTY&gt;
&lt;!ATTLIST BoundingBox 
          SRS CDATA #REQUIRED
          minx CDATA #REQUIRED
          miny CDATA #REQUIRED
          maxx CDATA #REQUIRED
          maxy CDATA #REQUIRED
          resx CDATA #IMPLIED
          resy CDATA #IMPLIED&gt;

&lt;!-- The Dimension element declares the _existence_ of a dimension. --&gt;
&lt;!ELEMENT Dimension EMPTY &gt;
&lt;!ATTLIST Dimension
          name CDATA #REQUIRED
          units CDATA #REQUIRED
          unitSymbol CDATA #IMPLIED&gt;

&lt;!-- The Extent element indicates what _values_ along a dimension are valid. --&gt;
&lt;!ELEMENT Extent (#PCDATA) &gt;
&lt;!ATTLIST Extent
          name CDATA #REQUIRED
          default CDATA #IMPLIED
          nearestValue (0 | 1) "0"&gt;

&lt;!-- Attribution indicates the provider of a Layer or collection of Layers.
The provider's URL, descriptive title string, and/or logo image URL may be
supplied.  Client applications may choose to display one or more of these
items.  A format element indicates the MIME type of the logo image located at
LogoURL.  The logo image's width and height assist client applications in
laying out space to display the logo. --&gt;
&lt;!ELEMENT Attribution ( Title?, OnlineResource?, LogoURL? )&gt;
&lt;!ELEMENT LogoURL (Format, OnlineResource) &gt;
&lt;!ATTLIST LogoURL
          width NMTOKEN #REQUIRED
          height NMTOKEN #REQUIRED&gt;

&lt;!-- A Map Server may use zero or more MetadataURL elements to offer detailed,
standardized metadata about the data underneath a particular layer. The type
attribute indicates the standard to which the metadata complies.  Two types
are defined at present: 'TC211' = ISO TC211 19115; 'FGDC' = FGDC CSDGM.  The
format element indicates how the metadata is structured. --&gt;
&lt;!ELEMENT MetadataURL (Format, OnlineResource) &gt;
&lt;!ATTLIST MetadataURL
          type ( TC211 | FGDC ) #REQUIRED&gt;

&lt;!-- A Map Server may use zero or more Identifier elements to list ID numbers
or labels defined by a particular Authority.  For example, the Global Change
Master Directory (gcmd.gsfc.nasa.gov) defines a DIF_ID label for every
dataset.  The authority name and explanatory URL are defined in a separate
AuthorityURL element, which may be defined once and inherited by subsidiary
layers.  Identifiers themselves are not inherited. --&gt;

&lt;!ELEMENT AuthorityURL (OnlineResource) &gt;
&lt;!ATTLIST AuthorityURL
          name NMTOKEN #REQUIRED &gt;
&lt;!ELEMENT Identifier (#PCDATA) &gt;
&lt;!ATTLIST Identifier
          authority CDATA #REQUIRED &gt;

&lt;!-- A Map Server may use DataURL to offer more information about the data
underneath a particular layer. While the semantics are not well-defined, as
long as the results of an HTTP GET request against the DataURL are properly
MIME-typed, Viewer Clients and Cascading Map Servers can make use of this. --&gt;
&lt;!ELEMENT DataURL (Format, OnlineResource) &gt;

&lt;!-- A Map Server may use FeatureListURL to point to a list of the features
represented in a Layer. --&gt;
&lt;!ELEMENT FeatureListURL (Format, OnlineResource) &gt;

&lt;!-- A Style element lists the name by which a style is requested and a
human-readable title for pick lists, optionally (and ideally) provides a
human-readable description, and optionally gives a style URL. --&gt;
&lt;!ELEMENT Style ( Name, Title, Abstract?,
                  LegendURL*, StyleSheetURL?, StyleURL? ) &gt;

&lt;!-- A Map Server may use zero or more LegendURL elements to provide an
image(s) of a legend relevant to each Style of a Layer.  The Format element
indicates the MIME type of the legend. Width and height attributes are
provided to assist client applications in laying out space to display the
legend. --&gt;
&lt;!ELEMENT LegendURL (Format, OnlineResource) &gt;
&lt;!ATTLIST LegendURL
          width NMTOKEN #REQUIRED
          height NMTOKEN #REQUIRED&gt;

&lt;!-- StyleSheeetURL provides symbology information foreach Style of a Layer. --&gt;
&lt;!ELEMENT StyleSheetURL (Format, OnlineResource) &gt;

&lt;!-- A Map Server may use StyleURL to offer more information about the data or
symbology underlying a particular Style. While the semantics are not
well-defined, as long as the results of an HTTP GET request against the
StyleURL are properly MIME-typed, Viewer Clients and Cascading Map Servers can
make use of this. A possible use could be to allow a Map Server to provide
legend information. --&gt;
&lt;!ELEMENT StyleURL (Format, OnlineResource) &gt;

&lt;!-- Minimum and maximum scale hints for which it is appropriate to
display this layer. --&gt;
&lt;!ELEMENT ScaleHint EMPTY&gt;
&lt;!ATTLIST ScaleHint
          min CDATA #REQUIRED
          max CDATA #REQUIRED&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xml_dtds.wms_capabilities_xml"></a>A.2.&nbsp;Sample WMS Capabilities XML (Informative)</h3></div></div><div></div></div><p>As an aid to understanding and a guide for implementation, this Annex
  contains <span class="bold"><b>example</b></span> XML which is valid
  according to the DTD in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a>. Implementers should consult the main body
  of the specification document and the DTD to ensure compliance rather than
  editing this XML without full understanding, as the examples herein apply
  only to a limited range of cases. This is a copy of &lt;<a href="http://www.digitalearth.gov/wmt/xml/capabilities_1_1_1.xml" target="_top">http://www.digitalearth.gov/wmt/xml/capabilities_1_1_1.xml</a>&gt;.</p><pre class="programlisting">&lt;?xml version='1.0' encoding="UTF-8" standalone="no" ?&gt;
&lt;!-- The DTD (Document Type Definition) given here must correspond to the version number declared in the WMT_MS_Capabilities element below. --&gt;
&lt;!DOCTYPE WMT_MS_Capabilities SYSTEM
 "http://www.digitalearth.gov/wmt/xml/capabilities_1_1_1.dtd"
 [
 &lt;!-- Vendor-specific elements are defined here if needed. --&gt;
 &lt;!-- If not needed, just leave this EMPTY declaration.  Do not
  delete the declaration entirely. --&gt;
 &lt;!ELEMENT VendorSpecificCapabilities EMPTY&gt;
 ]&gt;  &lt;!-- end of DOCTYPE declaration --&gt;

&lt;!-- Note: this XML is just an EXAMPLE that attempts to show all
required and optional elements for illustration.  Consult the Web Map
Service 1.1.0 specification and the DTD for guidance on what to actually
include and what to leave out. --&gt;

&lt;!-- The version number listed in the WMT_MS_Capabilities element here must
correspond to the DTD declared above.  See the WMT specification document for
how to respond when a client requests a version number not implemented by the
server. --&gt;
&lt;WMT_MS_Capabilities version="1.1.1" updateSequence="0"&gt;
&lt;!-- Service Metadata --&gt;
&lt;Service&gt;
  &lt;!-- The WMT-defined name for this type of service --&gt;
  &lt;Name&gt;OGC:WMS&lt;/Name&gt;
  &lt;!-- Human-readable title for pick lists --&gt;
  &lt;Title&gt;Acme Corp. Map Server&lt;/Title&gt;
  &lt;!-- Narrative description providing additional information --&gt;
  &lt;Abstract&gt;WMT Map Server maintained by Acme Corporation.  Contact: webmaster@wmt.acme.com.  High-quality maps showing roadrunner nests and possible ambush locations.&lt;/Abstract&gt;
  &lt;KeywordList&gt;
    &lt;Keyword&gt;bird&lt;/Keyword&gt;
    &lt;Keyword&gt;roadrunner&lt;/Keyword&gt;
    &lt;Keyword&gt;ambush&lt;/Keyword&gt;
  &lt;/KeywordList&gt;
  &lt;!-- Top-level web address of service or service provider.  See also OnlineResource
  elements under &lt;DCPType&gt;. --&gt;
  &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink" xlink:type="simple"
   xlink:href="http://hostname/" /&gt;
  &lt;!-- Contact information --&gt;
  &lt;ContactInformation&gt;
    &lt;ContactPersonPrimary&gt;
      &lt;ContactPerson&gt;Jeff deLaBeaujardiere&lt;/ContactPerson&gt;
      &lt;ContactOrganization&gt;NASA&lt;/ContactOrganization&gt;
    &lt;/ContactPersonPrimary&gt;
    &lt;ContactPosition&gt;Computer Scientist&lt;/ContactPosition&gt;
    &lt;ContactAddress&gt;
      &lt;AddressType&gt;postal&lt;/AddressType&gt;
      &lt;Address&gt;NASA Goddard Space Flight Center, Code 933&lt;/Address&gt;
      &lt;City&gt;Greenbelt&lt;/City&gt;
      &lt;StateOrProvince&gt;MD&lt;/StateOrProvince&gt;
      &lt;PostCode&gt;20771&lt;/PostCode&gt;
      &lt;Country&gt;USA&lt;/Country&gt;
    &lt;/ContactAddress&gt;
    &lt;ContactVoiceTelephone&gt;+1 301 286-1569&lt;/ContactVoiceTelephone&gt;
    &lt;ContactFacsimileTelephone&gt;+1 301 286-1777&lt;/ContactFacsimileTelephone&gt;
    &lt;ContactElectronicMailAddress&gt;delabeau@iniki.gsfc.nasa.gov&lt;/ContactElectronicMailAddress&gt;
  &lt;/ContactInformation&gt;
  &lt;!-- Fees or access constraints imposed. --&gt;
  &lt;Fees&gt;none&lt;/Fees&gt;
  &lt;AccessConstraints&gt;none&lt;/AccessConstraints&gt;
&lt;/Service&gt;
&lt;Capability&gt;
  &lt;Request&gt;
    &lt;GetCapabilities&gt;
      &lt;Format&gt;application/vnd.ogc.wms_xml&lt;/Format&gt;
      &lt;DCPType&gt;
        &lt;HTTP&gt;
          &lt;Get&gt;
            &lt;!-- The URL here for invoking GetCapabilities using HTTP GET
            is only a prefix to which a query string is appended. --&gt;
            &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
             xlink:type="simple"
             xlink:href="http://hostname:port/path" /&gt;
          &lt;/Get&gt;
          &lt;Post&gt;
            &lt;!-- The URL here for invoking GetCapabilities using HTTP POST
            includes the complete address to which a query would be sent in
            XML format.  This is here for future expansion; no POST encoding
	    has yet been defined. --&gt;
            &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
             xlink:type="simple"
             xlink:href="http://hostname:port/path" /&gt;
          &lt;/Post&gt;
        &lt;/HTTP&gt;
      &lt;/DCPType&gt;
    &lt;/GetCapabilities&gt;
    &lt;GetMap&gt;
      &lt;Format&gt;image/gif&lt;/Format&gt;
      &lt;Format&gt;image/png&lt;/Format&gt;
      &lt;Format&gt;image/jpeg&lt;/Format&gt;
      &lt;DCPType&gt;
        &lt;HTTP&gt;
          &lt;Get&gt;
            &lt;!-- The URL here for invoking GetCapabilities using HTTP GET
            is only a prefix to which a query string is appended. --&gt;
            &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
             xlink:type="simple"
             xlink:href="http://hostname:port/path" /&gt;
          &lt;/Get&gt;
        &lt;/HTTP&gt;
      &lt;/DCPType&gt;
    &lt;/GetMap&gt;
    &lt;GetFeatureInfo&gt;
      &lt;Format&gt;application/vnd.ogc.gml&lt;/Format&gt;
      &lt;Format&gt;text/plain&lt;/Format&gt;
      &lt;Format&gt;text/html&lt;/Format&gt;
      &lt;DCPType&gt;
        &lt;HTTP&gt;
          &lt;Get&gt;
            &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
             xlink:type="simple"
             xlink:href="http://hostname:port/path" /&gt;
          &lt;/Get&gt;
        &lt;/HTTP&gt;
      &lt;/DCPType&gt;
    &lt;/GetFeatureInfo&gt;
    &lt;DescribeLayer&gt;&lt;!--optional; used only by SLD-enabled WMS--&gt;
      &lt;Format&gt;application/vnd.ogc.gml&lt;/Format&gt;
      &lt;DCPType&gt;
        &lt;HTTP&gt;
          &lt;Get&gt;
            &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
             xlink:type="simple"
             xlink:href="http://hostname:port/path" /&gt;
          &lt;/Get&gt;
        &lt;/HTTP&gt;
      &lt;/DCPType&gt;
    &lt;/DescribeLayer&gt;
  &lt;/Request&gt;
  &lt;Exception&gt;
    &lt;Format&gt;application/vnd.ogc.se_xml&lt;/Format&gt;
    &lt;Format&gt;application/vnd.ogc.se_inimage&lt;/Format&gt;
    &lt;Format&gt;application/vnd.ogc.se_blank&lt;/Format&gt;
  &lt;/Exception&gt;
  &lt;!-- Any text or markup is allowed here, as required to describe
       vendor-specific capabilities.  Please define elements and attributes
       in the DOCTYPE declaration at the start of the document. --&gt;
  &lt;!-- This example is empty because no VSPs were defined in preamble --&gt;
  &lt;VendorSpecificCapabilities /&gt;
  &lt;!-- Place-holder for Styled Layer Descriptor (SLD)-enabled WMSes.
       This element is absent for a basic WMS. --&gt;
  &lt;UserDefinedSymbolization SupportSLD="1" UserLayer="1" UserStyle="1"
	RemoteWFS="1" /&gt;
  &lt;Layer&gt;
    &lt;Title&gt;Acme Corp. Map Server&lt;/Title&gt;
    &lt;SRS&gt;EPSG:4326&lt;/SRS&gt; &lt;!-- all layers are available in at least this SRS --&gt;
    &lt;AuthorityURL name="DIF_ID"&gt;
      &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink" xlink:type="simple"
       xlink:href="http://gcmd.gsfc.nasa.gov/difguide/whatisadif.html" /&gt;
    &lt;/AuthorityURL&gt;
    &lt;Layer&gt;
      &lt;!-- This parent layer has a Name and can therefore be requested from a Map Server, yielding a map of all subsidiary layers. --&gt;
      &lt;Name&gt;ROADS_RIVERS&lt;/Name&gt; 
      &lt;Title&gt;Roads and Rivers&lt;/Title&gt;
      &lt;!-- See the spec to learn how some characteristics are inherited by
           subsidiary layers. --&gt;
      &lt;SRS&gt;EPSG:26986&lt;/SRS&gt; &lt;!-- An additional SRS for this layer --&gt; 
      &lt;LatLonBoundingBox minx="-71.63" miny="41.75" maxx="-70.78" maxy="42.90"/&gt;
      &lt;!-- The optional resx and resy attributes below indicate the X and Y spatial
           resolution in the units of that SRS. --&gt;
      &lt;!-- The EPSG:4326 BoundingBox duplicates some of the info in LatLonBoundingBox
           and is therefore optional, but using it here allows the additional
           resolution attributes. --&gt;
      &lt;BoundingBox SRS="EPSG:4326"
       minx="-71.63" miny="41.75" maxx="-70.78" maxy="42.90" resx="0.01" resy="0.01"/&gt;
      &lt;BoundingBox SRS="EPSG:26986"
       minx="189000" miny="834000" maxx="285000" maxy="962000" resx="1" resy="1" /&gt;
      &lt;!-- Optional Title, URL and logo image of data provider. --&gt;
      &lt;Attribution&gt;
        &lt;Title&gt;State College University&lt;/Title&gt;
        &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink" xlink:type="simple"
         xlink:href="http://www.university.edu/" /&gt;
        &lt;LogoURL width="100" height="100"&gt;
          &lt;Format&gt;image/gif&lt;/Format&gt;
          &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
           xlink:type="simple"
           xlink:href="http://www.university.edu/icons/logo.gif" /&gt;
        &lt;/LogoURL&gt;
      &lt;/Attribution&gt;
      &lt;!-- Identifier whose meaning is defined in an AuthorityURL element --&gt;
      &lt;Identifier authority="DIF_ID"&gt;123456&lt;/Identifier&gt;
      &lt;FeatureListURL&gt;
        &lt;Format&gt;application/vnd.ogc.se_xml"&lt;/Format&gt;
        &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink" xlink:type="simple"
         xlink:href="http://www.university.edu/data/roads_rivers.gml" /&gt;
      &lt;/FeatureListURL&gt;
      &lt;Style&gt;
        &lt;Name&gt;USGS&lt;/Name&gt;
        &lt;Title&gt;USGS Topo Map Style&lt;/Title&gt;
        &lt;Abstract&gt;Features are shown in a style like that used in USGS topographic maps.&lt;/Abstract&gt;
        &lt;!-- A picture of a legend for a Layer in this Style --&gt;
        &lt;LegendURL width="72" height="72"&gt;
          &lt;Format&gt;image/gif&lt;/Format&gt;
          &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
           xlink:type="simple"
           xlink:href="http://www.university.edu/legends/usgs.gif" /&gt;
        &lt;/LegendURL&gt;
        &lt;!-- An XSL stylesheet describing how GML feature data will rendered to create
             a map of this layer. --&gt;
        &lt;StyleSheetURL&gt;
          &lt;Format&gt;text/xsl&lt;/Format&gt;
          &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
           xlink:type="simple"
           xlink:href="http://www.university.edu/stylesheets/usgs.xsl" /&gt;
        &lt;/StyleSheetURL&gt;
      &lt;/Style&gt;
      &lt;ScaleHint min="4000" max="35000"&gt;&lt;/ScaleHint&gt;
      &lt;Layer queryable="1"&gt;
	&lt;Name&gt;ROADS_1M&lt;/Name&gt; 
	&lt;Title&gt;Roads at 1:1M scale&lt;/Title&gt;
	&lt;Abstract&gt;Roads at a scale of 1 to 1 million.&lt;/Abstract&gt;
	&lt;KeywordList&gt;
          &lt;Keyword&gt;road&lt;/Keyword&gt;
          &lt;Keyword&gt;transportation&lt;/Keyword&gt;
          &lt;Keyword&gt;atlas&lt;/Keyword&gt;
	&lt;/KeywordList&gt;
	&lt;Identifier authority="DIF_ID"&gt;123456&lt;/Identifier&gt;
        &lt;!-- Metadata specific to this particular layer.  The same FGDC metadata is offered in two formats. --&gt;
	&lt;MetadataURL type="FGDC"&gt;
          &lt;Format&gt;text/plain&lt;/Format&gt;
          &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
           xlink:type="simple"
           xlink:href="http://www.university.edu/metadata/roads.txt" /&gt;
        &lt;/MetadataURL&gt;
	&lt;MetadataURL type="FGDC"&gt;
           &lt;Format&gt;text/xml&lt;/Format&gt;
           &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
            xlink:type="simple"
            xlink:href="http://www.university.edu/metadata/roads.xml" /&gt;
        &lt;/MetadataURL&gt;
        &lt;!-- In addition to the Style specified in the parent Layer, this Layer is available in this style. --&gt;
	&lt;Style&gt;
	  &lt;Name&gt;ATLAS&lt;/Name&gt;
	  &lt;Title&gt;Road atlas style&lt;/Title&gt;
	  &lt;Abstract&gt;Roads are shown in a style like that used in a commercial road atlas.&lt;/Abstract&gt;
        &lt;LegendURL width="72" height="72"&gt;
          &lt;Format&gt;image/gif&lt;/Format&gt;
          &lt;OnlineResource xmlns:xlink="http://www.w3.org/1999/xlink"
           xlink:type="simple"
           xlink:href="http://www.university.edu/legends/atlas.gif" /&gt;
        &lt;/LegendURL&gt;
	&lt;/Style&gt;
      &lt;/Layer&gt;
      &lt;Layer queryable="1"&gt;
	&lt;Name&gt;RIVERS_1M&lt;/Name&gt;
	&lt;Title&gt;Rivers at 1:1M scale&lt;/Title&gt;
	&lt;Abstract&gt;Rivers at a scale of 1 to 1 million.&lt;/Abstract&gt;
	&lt;KeywordList&gt;
          &lt;Keyword&gt;river&lt;/Keyword&gt;
          &lt;Keyword&gt;canal&lt;/Keyword&gt;
          &lt;Keyword&gt;waterway&lt;/Keyword&gt;
	&lt;/KeywordList&gt;
      &lt;/Layer&gt;
    &lt;/Layer&gt;
    &lt;Layer queryable="1"&gt;
      &lt;Title&gt;Weather Forecast Data&lt;/Title&gt;
      &lt;SRS&gt;EPSG:4326&lt;/SRS&gt; &lt;!-- harmless repetition of common SRS --&gt;
      &lt;LatLonBoundingBox minx="-180" miny="-90" maxx="180" maxy="90" /&gt;
      &lt;!-- These weather data are available daily from 1999-01-01 through
           2000-08-22. --&gt;
      &lt;Dimension name="time" units="ISO8601" /&gt;
      &lt;Extent name="time" default="2000-08-22"&gt;1999-01-01/2000-08-22/P1D&lt;/Extent&gt;
      &lt;Layer&gt;
	&lt;Name&gt;Clouds&lt;/Name&gt; 
	&lt;Title&gt;Forecast cloud cover&lt;/Title&gt;
      &lt;/Layer&gt;
      &lt;Layer&gt;
	&lt;Name&gt;Temperature&lt;/Name&gt; 
	&lt;Title&gt;Forecast temperature&lt;/Title&gt;
      &lt;/Layer&gt;
      &lt;Layer&gt;
	&lt;Name&gt;Pressure&lt;/Name&gt; 
	&lt;Title&gt;Forecast barometric pressure&lt;/Title&gt;
        &lt;!-- Pressure is available at several elevations.
         EPSG:5030 is WGS 84 ellipsoid, units in metres.
         Pressure is also available at several times.
         NOTE: first list all Dimension elements, then all Extent elements. --&gt;
         &lt;Dimension name="time" units="ISO8601" /&gt;
         &lt;Dimension name="elevation" units="EPSG:5030" /&gt;
         &lt;Extent name="time" default="2000-08-22"&gt;1999-01-01/2000-08-22/P1D&lt;/Extent&gt;
         &lt;Extent name="elevation" default="0" nearestValue="1"&gt;0,1000,3000,5000,10000&lt;/Extent&gt;
      &lt;/Layer&gt;
    &lt;/Layer&gt;
    &lt;!-- Example of a layer which is a static map of fixed
         size which the server cannot subset or make transparent --&gt;
    &lt;Layer opaque="1" noSubsets="1" fixedWidth="512" fixedHeight="256"&gt;
      &lt;Name&gt;ozone_image&lt;/Name&gt;
      &lt;Title&gt;Global ozone distribution (1992)&lt;/Title&gt;
      &lt;LatLonBoundingBox minx="-180" miny="-90" maxx="180" maxy="90" /&gt;
      &lt;Extent name="time" default="1992"&gt;1992&lt;/Extent&gt;
    &lt;/Layer&gt;
    &lt;!-- Example of a layer which originated from another WMS and has been
         "cascaded" by this WMS. --&gt;
    &lt;Layer cascaded="1"&gt;
      &lt;Name&gt;population&lt;/Name&gt;
      &lt;Title&gt;World population, annual&lt;/Title&gt;
      &lt;LatLonBoundingBox minx="-180" miny="-90" maxx="180" maxy="90" /&gt;
      &lt;Extent name="time" default="2000"&gt;1990/2000/P1Y&lt;/Extent&gt;
    &lt;/Layer&gt;
  &lt;/Layer&gt;
&lt;/Capability&gt;
&lt;/WMT_MS_Capabilities&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xml_dtds.service_exception_dtd"></a>A.3.&nbsp;Service Exception DTD (Normative)</h3></div></div><div></div></div><p>This annex contains the Service Exception Document Type Definition
  corresponding to this version of the specification. The DTD may also be
  found on-line at <a href="http://www.digitalearth.gov/wmt/xml/exception_1_1_1.dtd" target="_top">http://www.digitalearth.gov/wmt/xml/exception_1_1_1.dtd</a>. This
  section also summarizes the defined exception codes and their meanings.</p><pre class="programlisting">&lt;!ELEMENT ServiceExceptionReport (ServiceException*)&gt;
&lt;!ATTLIST ServiceExceptionReport version CDATA #FIXED "1.1.1"&gt;

&lt;!ELEMENT ServiceException (#PCDATA)&gt;
&lt;!ATTLIST ServiceException code CDATA #IMPLIED&gt;</pre><div class="table"><a name="table.exceptions"></a><p class="title"><b>Table&nbsp;A.1.&nbsp;Exception codes defined by this specification</b></p><table summary="Exception codes defined by this specification" border="1"><colgroup><col><col></colgroup><thead><tr><th valign="top"><p>Exception Code</p></th><th valign="top"><p>Meaning</p></th></tr></thead><tbody><tr><td valign="top"><p>InvalidFormat</p></td><td valign="top"><p>Request contains a Format not offered by
          the service instance.</p></td></tr><tr><td valign="top"><p>InvalidSRS</p></td><td valign="top"><p>Request contains an SRS not offered by the
          service instance for one or more of the Layers in the request.</p></td></tr><tr><td valign="top"><p>LayerNotDefined</p></td><td valign="top"><p>Request is for a Layer not offered by the
          service instance.</p></td></tr><tr><td valign="top"><p>StyleNotDefined</p></td><td valign="top"><p>Request is for a Layer in a Style not
          offered by the service instance.</p></td></tr><tr><td valign="top"><p>LayerNotQueryable</p></td><td valign="top"><p>GetFeatureInfo request is applied to a
          Layer which is not declared queryable.</p></td></tr><tr><td valign="top"><p>CurrentUpdateSequence</p></td><td valign="top"><p>Value of (optional) UpdateSequence
          parameter in GetCapabilities request is equal to current value of
          Capabilities XML update sequence number.</p></td></tr><tr><td valign="top"><p>InvalidUpdateSequence</p></td><td valign="top"><p>Value of (optional) UpdateSequence
          parameter in GetCapabilities request is greater than current value
          of Capabilities XML update sequence number.</p></td></tr><tr><td valign="top"><p>MissingDimensionValue</p></td><td valign="top"><p>Request does not include a sample
          dimension value, and the service instance did not declare a default
          value for that dimension.</p></td></tr><tr><td valign="top"><p>InvalidDimensionValue</p></td><td valign="top"><p>Request contains an invalid sample
          dimension value.</p></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="xml_dtds.service_exception_xml"></a>A.4.&nbsp;Sample Service Exception XML (Informative)</h3></div></div><div></div></div><p>As an aid to understanding and a guide for implementation, this Annex
  contains <span class="bold"><b>example</b></span> XML which is valid
  according to the DTD in <a href="#xml_dtds.service_exception_dtd">Annex A.3, Service Exception DTD</a>. Implementers should consult the main body
  of the specification document and the DTD to ensure compliance rather than
  editing this XML without full understanding. This is a copy of <a href="http://www.digitalearth.gov/wmt/xml/exception_1_1_0.xml" target="_top">http://www.digitalearth.gov/wmt/xml/exception_1_1_0.xml</a>.</p><pre class="programlisting">&lt;?xml version='1.0' encoding="UTF-8" standalone="no" ?&gt;
&lt;!DOCTYPE ServiceExceptionReport SYSTEM
 "http://www.digitalearth.gov/wmt/xml/exception_1_1_0.dtd"&gt;
&lt;ServiceExceptionReport version="1.1.0"&gt;
  &lt;ServiceException&gt;
    Plain text message about an error.
  &lt;/ServiceException&gt;
  &lt;ServiceException code="InvalidUpdateSequence"&gt;
    Another message, this time with a SE code supplied.
  &lt;/ServiceException&gt;
  &lt;ServiceException&gt;
    &lt;![CDATA[
    Error in module &lt;foo.c&gt;, line 42

    A message that includes angle brackets in text
    must be enclosed in a Character Data Section
    as in this example.  All XML-like markup is
    ignored except for this sequence of three
    closing characters:
    ]]&gt;
  &lt;/ServiceException&gt;
  &lt;ServiceException&gt;
    &lt;![CDATA[
      &lt;Module&gt;foo.c&lt;/Module&gt;
      &lt;Error&gt;An error occurred&lt;/Error&gt;
      &lt;Explanation&gt;Similarly, actual XML
	can be enclosed in a CDATA section.
	A generic parser will ignore that XML,
	but application-specific software may choose
	to process it.&lt;/Explanation&gt;
    ]]&gt;
  &lt;/ServiceException&gt;
&lt;/ServiceExceptionReport&gt;</pre></div></div><div class="appendix" lang="en"><h2 class="title" style="clear: both"><a name="date_time"></a>B.&nbsp;Formatting Dates and Times (normative)</h2><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="date_time.overview"></a>B.1.&nbsp;Overview</h3></div></div><div></div></div><p>This annex specifies the encoding of moments and periods in time.
  These allow OGC Web Services to support temporal data descriptions and
  requests. This specification is based on [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>]; it <span class="bold"><b>extends</b></span> ISO 8601 in the following ways:</p><div class="itemizedlist"><ul type="disc"><li><p>It defines a syntax for expressing the start, end and periodicity
      of a data collection.</p></li><li><p>It defines terms to represent the 7 days of the week.</p></li><li><p>It allows years before 0001 AD.</p></li><li><p>It allows times in the distant geologic past (thousands, millions
      or billions of years before present).</p></li></ul></div><p>This Annex specifies the formats for a moment in time, including years
  in the current era ("AD") and years before the current era or on
  geologic timescales, the format for a period of time, and the format for
  incomplete data fragments.</p><div class="note"><p><b>Note</b>: A revision of the ISO date
    standard, ISO 8601:2000, allows years more than 4 digits long and a
    leading minus sign to denote negative years, and allows recurring
    intervals. The next revision of the WMS specification will adopt ISO
    8601:2000 and thereby allow some of the extensions defined in this Annex
    to be removed.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="date_time.time"></a>B.2.&nbsp;Time Format Details</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.time.basic_syntax"></a>B.2.1.&nbsp;Basic Syntax</h4></div></div><div></div></div><p>The basic time format uses ISO 8601:1988(E) "extended" format:
  up to 14 digits specifying century, year, month, day, hour, minute, seconds,
  and seconds, and optionally a decimal point followed by zero or more digits
  for fractional seconds, with non-numeric characters to separate each piece:</p><p>ccyy-mm-ddThh:mm:ss.sssZ</p><p>The precision may be reduced by omitting least-significant digits, as
  in the examples below. ISO 8601:1988(E) prefers a decimal comma before
  fractional seconds but allows a decimal period as in this document.</p><p>All times <span class="bold"><b>should </b></span>be expressed in
  Coordinated Universal Time (UTC) as indicated by the suffix Z (for
  "zulu"); this suffix is <span class="bold"><b>required</b></span>
  when UTC applies if the hours field appears in the time string. When a local
  time applies, a numeric time zone suffix as defined by clause 5.3.3.1 of
  [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>] <span class="bold"><b>may</b></span> be used. The
  absence of any suffix at all means local time in an undefined zone, which
  <span class="bold"><b>must not</b></span> be used in the global network of
  map servers enabled by the WMS specification.</p><div class="note"><p><b>Note</b>: Change from version 1.1.0:
    the use of the suffix Z was previously incorrectly stated to be optional
    for UTC.</p></div><div class="example"><a name="d0e4552"></a><p class="title"><b>Example&nbsp;1.&nbsp;Year only</b></p><pre class="programlisting">ccyy</pre></div><div class="example"><a name="d0e4557"></a><p class="title"><b>Example&nbsp;2.&nbsp;Year and month</b></p><pre class="programlisting">ccyy-mm</pre></div><div class="example"><a name="d0e4562"></a><p class="title"><b>Example&nbsp;3.&nbsp;Year, month and day</b></p><pre class="programlisting">ccyy-mm-dd</pre></div><div class="example"><a name="d0e4567"></a><p class="title"><b>Example&nbsp;4.&nbsp;Year, month, day and hour in UTC</b></p><pre class="programlisting">ccyy-mm-ddThhZ</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.time.bce"></a>B.2.2.&nbsp;Extension for years B.C.E.</h4></div></div><div></div></div><p>An <span class="bold"><b>extension </b></span>to [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>]
  is used to handle years B.C.E. (before year 0001 AD). Because a leading
  hyphen has meaning in ISO 8601:1988(E) (it can indicate missing parts of the
  time), preceding times with a minus sign is not advisable. Instead, the
  prefix 'B' is used to indicate B.C.E. years.</p><div class="example"><a name="d0e4584"></a><p class="title"><b>Example&nbsp;.&nbsp;1350 "BC" (approximate time of Tutankhamen)</b></p><pre class="programlisting">B1350</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.time.geologic"></a>B.2.3.&nbsp;Extension for geologic datasets</h4></div></div><div></div></div><p>An <span class="bold"><b>extension</b></span> to [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>]
  is used to handle geologic datasets referring to the distant past.
  Geologists refer to years some number of thousand, million or billion (10^9)
  years ago as ka, Ma or Ga. Therefore, the prefixes K, M and G, followed by
  an integer or floating-point number of years, are used.</p><div class="example"><a name="d0e4601"></a><p class="title"><b>Example&nbsp;1.&nbsp;150 Ma (Jurassic period)</b></p><pre class="programlisting">M150</pre></div><div class="example"><a name="d0e4606"></a><p class="title"><b>Example&nbsp;2.&nbsp;150 Ma (Jurassic period)</b></p><pre class="programlisting">K150000</pre></div><div class="example"><a name="d0e4611"></a><p class="title"><b>Example&nbsp;3.&nbsp;18 ka (last Ice Age)</b></p><pre class="programlisting">K18</pre></div><div class="example"><a name="d0e4616"></a><p class="title"><b>Example&nbsp;4.&nbsp;18 ka (last Ice Age)</b></p><pre class="programlisting">M0.018</pre></div><div class="example"><a name="d0e4621"></a><p class="title"><b>Example&nbsp;5.&nbsp;5 Ga (Earth's crust solidifies)</b></p><pre class="programlisting">G5</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="date_time.period"></a>B.3.&nbsp;Period Format</h3></div></div><div></div></div><p>An <span class="bold"><b>extension</b></span> to [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>]
  is used to indicate the time resolution of the available data. The [ISO
  8601:1988(E)] format for representing a period of time is used to represent
  the resolution: Designator P (for Period), number of years Y, months M, days
  D, time designator T, number of hours H, minutes M, seconds S. Unneeded
  elements may be omitted.</p><div class="example"><a name="d0e4638"></a><p class="title"><b>Example&nbsp;1.&nbsp;1 year</b></p><pre class="programlisting">P1Y</pre></div><div class="example"><a name="d0e4643"></a><p class="title"><b>Example&nbsp;2.&nbsp;1 month plus 10 days</b></p><pre class="programlisting">P1M10D</pre></div><div class="example"><a name="d0e4648"></a><p class="title"><b>Example&nbsp;3.&nbsp;2 hours</b></p><pre class="programlisting">PT2H</pre></div><div class="example"><a name="d0e4653"></a><p class="title"><b>Example&nbsp;4.&nbsp;1.5 seconds</b></p><pre class="programlisting">PT1.5S</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="date_time.lists_and_ranges"></a>B.4.&nbsp;Time Lists and Ranges</h3></div></div><div></div></div><p>As shown in <a href="#table.dim_values" title="Table&nbsp;C.1.&nbsp;Syntax for Listing One or More Dimensional Values">Table&nbsp;C.1</a>, a list of several times is expressed by
  separating valid time values with a comma (","). A temporal range,
  on the other hand, is expressed using an <span class="bold"><b>extension</b></span>
  to [<a href="#references.iso_86011988e">ISO 8601:1988(E)</a>]. The syntax start/end/period indicates the start time
  of the data, the ending time, and the time resolution or refresh rate. Data
  which are refreshed at regular intervals but not archived are represented
  using time/time/period, where both time values are the same (that of the
  latest data) and the period indicates the refresh rate.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="date_time.date_fragments"></a>B.5.&nbsp;Date Fragments</h3></div></div><div></div></div><p>In some contexts, date information may be incomplete. For example, a
  GeoParser service that scans text documents for references to locations or
  times may encounter partial references such as "Tuesday" or
  "August 30." To allow this time specification to handle such
  fragments, we include the "truncated representation" allowed by ISO
  8601:1988(E), and we add 7 terms to represent days of the week.</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.date_fragments.truncated"></a>B.5.1.&nbsp;Truncated representation</h4></div></div><div></div></div><p>The "truncated representation" allowed by ISO 8601:1988(E)
  uses hyphens to denote pieces missing from the most significant end of the
  time string. Add one hyphen for each missing two-digit century, year, month,
  day, hour or minute. If the time zone is unknown, then the time zone suffix
  <span class="bold"><b>may </b></span>be omitted from the date fragment.
  See examples in <a href="#date_time.examples.fragments">Annex B.6.2, Date and time fragments</a>, below.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.date_fragments.days_of_week"></a>B.5.2.&nbsp;Days of the week</h4></div></div><div></div></div><p>We add 7 terms to represent days of the week: 'MON',
  'TUE', 'WED', 'THU', 'FRI', 'SAT',
  'SUN'. These optional terms appear at the start of the date/time
  string, and a comma separates the weekday (without whitespace) from the ISO
  8601:1988(E) string. If the date fragment contains only a day of week, then
  the comma is not necessary. See examples in <a href="#date_time.examples.fragments">Annex B.6.2, Date and time fragments</a>, below.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="date_time.examples"></a>B.6.&nbsp;Examples</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.examples.complete"></a>B.6.1.&nbsp;Complete dates and times</h4></div></div><div></div></div><p>A single moment (scalar value):</p><p>2000-06-23T20:07:48.11Z</p><p>Quarterly data (comma-separated list):</p><p>1999-01-01,1999-04-01,1999-07-01,1999-10-01</p><p>Daily data taken at noon since April 15 1995 (periodic interval):</p><p>1995-04-22T12:00Z/2000-06-21T12:00Z/P1D</p><p>Current data refreshed every 30 min (periodic interval):</p><p>2000-06-18T14:30Z/2000-06-18T14:30Z/PT30M</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="date_time.examples.fragments"></a>B.6.2.&nbsp;Date and time fragments</h4></div></div><div></div></div><p>--11-21 (Nov. 21, truncated century and year, omitted hh:mm:ss)</p><p>TUE,--11-21 (Tuesday, Nov. 21)</p><p>TUE (Tuesday)</p><p>2000 (year 2000)</p><p>-99 (year 99, century not given)</p><p>T14 (2pm local time)</p><p>MON,---21T14 (Monday the 21st at 2pm local time)</p><p>T14Z (2pm UTC)</p><p>T14-04:00 (2pm EDT, 4hrs earlier than UTC)</p><p>T-10 (ten minutes past an unspecified hour)</p></div></div></div><div class="appendix" lang="en"><h2 class="title" style="clear: both"><a name="dims"></a>C.&nbsp;Handling Multi-Dimensional Data (normative)</h2><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dims.overview"></a>C.1.&nbsp;Overview</h3></div></div><div></div></div><p>This annex describes support for multi-dimensional data in the service
  metadata and operation request parameters of OGC Web Services.
  "Dimensions" in this Annex refers to Time, Elevation, and sample
  dimensions.</p><div class="example"><a name="d0e4763"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>Satellite imagery may be
  available at several different times and several different wavelength bands.
  The valid times and band numbers can each be separately specified.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dims.declaring"></a>C.2.&nbsp;Declaring Dimensions</h3></div></div><div></div></div><p>The optional element &lt;Dimension&gt; is used in Capabilities XML
  to declare that one or more dimensional parameters are relevant to the
  information holdings of that server. The Dimension element does not provide
  valid values for a Dimension; that is the role of the Extent element
  described below. A Dimension element includes a <span class="bold"><b>required</b></span> <span class="underline">name</span>, a <span class="bold"><b>required</b></span> measurement
  <span class="underline">units</span> specifier, and an <span class="bold"><b>optional</b></span>
  <span class="underline">unitSymbol</span>.</p><p>The following is a DTD fragment expression for the Dimension element
  (from the full DTD in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a>):</p><pre class="programlisting">&lt;!Element Dimension EMPTY&gt;
&lt;!ATTLIST Dimension
name         ID      #REQUIRED
units        CDATA   #REQUIRED
unitSymbol   CDATA   #IMPLIED&gt;</pre><div class="example"><a name="d0e4798"></a><p class="title"><b>Example&nbsp;1.&nbsp;</b></p><p>The following are some
  examples of server-defined dimensions:</p><pre class="programlisting">&lt;Dimension name="wavelength" units="Angstrom" unitSymbol="Ao" /&gt;
&lt;Dimension name="temperature" units="Kelvin" unitSymbol="K" /&gt;
&lt;Dimension name="pressure_scale_height" units="millibar" unitSymbol="mbar" /&gt;
&lt;Dimension name="altitude" units="kilometer" unitSymbol="km" /&gt;
</pre></div><p></p><p>Dimension elements <span class="bold"><b>shall</b></span> comply
  with the following rules:</p><div class="itemizedlist"><ul type="disc"><li><p>Dimension name values <span class="bold"><b>shall </b></span>be
      case-insensitively unique within a service instance and <span class="strong">should</span> contain no whitespace.</p></li><li><p>Unit names and abbreviations are from the Unified Code for Units
      of Measure [<a href="#references.ucum">UCUM</a>]. The <span class="bold"><b>required</b></span> <span class="underline">units</span>
      attribute is from the UCUM "name" column. The optional (but
      <span class="bold"><b>recommended</b></span>) <span class="underline">unitSymbol</span> is from the
      UCUM "c/s" column (case-sensitive abbreviation). Prefix names
      and symbols <span class="bold"><b>may</b></span> be present as well.</p></li><li><p>If the dimensional quantity has no units (e.g., band number in a
      multi-wavelength sensor), use the null string: units="".</p></li></ul></div><p>All Dimensions in a Capabilities XML response are server-defined, with
  two exceptions. The dimensions named <span class="underline">time</span> and <span class="underline">elevation</span> are privileged
  special cases, predefined as follows:</p><pre class="programlisting">
&lt;Dimension name="time" units="ISO8601" /&gt;
&lt;Dimension name="elevation" units="EPSG:vertical_datum" /&gt;
</pre><p>The units "ISO8601" refers to the Time representation
  specified in <a href="#date_time">Annex B, Formatting Dates and Times</a>. The units "EPSG:vertical_datum" refers to
  elevation units and a reference used by one of the European Petroleum Survey
  Group [ref. 13] vertical datums (use the actual datum number in place of the
  string "vertical_datum").</p><div class="example"><a name="d0e4857"></a><p class="title"><b>Example&nbsp;2.&nbsp;</b></p><p>Elevation units given as
  "EPSG:5030" means "meters above the WGS84 ellipsoid."</p></div><p>Although predefined, a server <span class="bold"><b>shall</b></span>
  include Time and/or Elevation declarations if it provides extents for those
  dimensions.</p><p>If a server opts to specify elevation or time values in reference
  systems other than those listed above, it <span class="bold"><b>shall</b></span>
  use other dimension names instead of "elevation" and "time"
  (e.g., "altitude" and "date" ).</p><p>Dimension declarations are inherited by enclosed Layers, as specified
  in <a href="#wmsops.getcapabilities.response.layer_attributes">Section 7.1.4.6, Layer Attributes</a>. A dimension <span class="bold"><b>shall not</b></span>
  be re-declared using the same name (case-insensitively) with conflicting
  information.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dims.extents"></a>C.3.&nbsp;Specifying Dimensional Extents</h3></div></div><div></div></div><p>Having declared the existence of a Dimension, the Capabilities XML
  response uses corresponding <span class="underline">Extent</span> elements to specify the bounds of a
  geodata object along zero or more independent single dimensions.</p><p>Format of Extent element:</p><pre class="programlisting">
&lt;Extent name="dimension_name"
  default="default_value"
multipleValues="0|1" nearestValue="0|1"&gt;
extent_value&lt;/Extent&gt;
</pre><p>Extent values:</p><p>The extent_value string declares what value(s) along the Dimension
  axis are appropriate for this specific geospatial data object. The
  extent_value has the syntax shown in <a href="#table.dim_values" title="Table&nbsp;C.1.&nbsp;Syntax for Listing One or More Dimensional Values">Table&nbsp;C.1</a>.</p><div class="table"><a name="table.dim_values"></a><p class="title"><b>Table&nbsp;C.1.&nbsp;Syntax for Listing One or More Dimensional Values</b></p><table summary="Syntax for Listing One or More Dimensional Values" border="1"><colgroup><col><col></colgroup><thead><tr><th valign="top"><p>Syntax</p></th><th valign="top"><p>Meaning</p></th></tr></thead><tbody><tr><td valign="top"><p>value</p></td><td valign="top"><p>A single value</p></td></tr><tr><td valign="top"><p>value1,value2,value3,...<sup>a</sup></p></td><td valign="top"><p>A list of multiple values</p></td></tr><tr><td valign="top"><p>min/max/resolution</p></td><td valign="top"><p>An interval defined by its lower and upper
          bounds and its resolution.</p></td></tr><tr><td valign="top"><p>min1/max1/res1,min2/max2/res2,...<sup>a</sup></p></td><td valign="top"><p>A list of multiple intervals</p></td></tr><tr><td colspan="2" valign="top"><p><sup>a</sup>Whitespace is
          allowed following commas in a list in an &lt;Extent&gt; element.</p></td></tr></tbody></table></div><p></p><p>Extent attributes:</p><p>Several attributes are defined for the Extent element. Only <span class="underline">name</span> is
  <span class="bold"><b>required.</b></span>
			
         </p><div class="itemizedlist"><ul type="disc"><li><p><span class="underline">name</span> (required): The value dimension_name is the same as the value
      of a name attribute of a &lt;Dimension&gt; element previously defined
      as described in <a href="#dims.declaring">Annex C.2, Declaring Dimensions</a>. The Dimension name and Extent name
      <span class="bold"><b>shall</b></span> match (case-insensitively).</p></li><li><p><span class="underline">default</span> (optional): The default_value declares what value would be
      used along that Dimension if a Web request omits a value for that
      Dimension. See <a href="#dims.responses">Annex C.5, Server Responses</a></p></li><li><p><span class="underline">multipleValues</span> (optional): This attribute, if absent or zero,
      indicates that requests <span class="bold"><b>shall</b></span> include
      only a single value for this dimension. If present and nonzero, then
      requests <span class="bold"><b>may</b></span> include multiple values.
      See <a href="#dims.requests.single_vs_multiple">Annex C.4.3, Single- and Multiple-Valued Requests</a>.</p></li><li><p><span class="underline">nearestValues</span> (optional): This attribute, if absent or zero,
      indicates that the server will not round off inexact dimension values to
      the nearest valid value. If present and nonzero, then the server will
      perform rounding. See <a href="#dims.responses">Annex C.5, Server Responses</a>.</p></li><li><p><span class="underline">current</span> (optional; only valid for Time extents): This attribute,
      if present and nonzero, indicates (1) that temporal data are normally
      kept current and (2) that the request parameter TIME <span class="strong">may</span> include the keyword 'current'
      instead of an ending value (see <a href="#dims.requests.elevation_and_time">Annex C.4.1, Elevation and Time Values in Requests</a>).</p></li></ul></div><p>Extent declarations are inherited by enclosed Layers, as specified in
  <a href="#wmsops.getcapabilities.response.layer_attributes">Section 7.1.4.6, Layer Attributes</a>. A extent that is re-specified in an enclosed layer using
  the same name (case-insensitively) replaces the extent that had been
  inherited.</p><p>A <span class="underline">resolution</span> value of zero (as in min/max/0) means that the data are
  effectively at infinitely-fine resolution for the purposes of making
  requests on the service instance. For instance, an instrument which
  continuously monitors randomly-occurring data may have no explicitly defined
  temporal resolution.</p><div class="example"><a name="d0e5020"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>Here is a &lt;Layer&gt; element with Extents specified in WMS
  Capabilities XML ('...' indicates XML omitted for clarity):</p><pre class="programlisting">&lt;Layer&gt;
  &lt;!-- Declare dimensions in use. Declarations are inherited by enclosed Layers. --&gt;
  &lt;Dimension name="time" units="ISO8601" /&gt;
  &lt;Dimension name="temperature" units="Kelvin" unitSymbol="K" /&gt;
  &lt;Dimension name="elevation" units="EPSG:5030" /&gt;
  ...
  &lt;Layer&gt;  ...
  &lt;!-- Specify extent of Layer. Extents are inherited by enclosed Layers. --&gt;
  &lt;Extent name="time" default="2000-10-17"&gt;1996-01-01/2000-10-17/P1D&lt;/Extent&gt;
  &lt;Extent name="elevation" default="0"&gt;0/10000/100&lt;/Extent&gt;
  &lt;Extent name="temperature" default="300"&gt;230,300,400&lt;/Extent&gt;
  &lt;/Layer&gt;
  ...
&lt;/Layer&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dims.requests"></a>C.4.&nbsp;Including Dimensional Values in a Request</h3></div></div><div></div></div><p>Requests against multi-dimensional data objects described with
  &lt;Dimension&gt; and &lt;Extent&gt; require additional parameters to
  formulate a complete query. This following section specifies how Clients
  should include dimensional parameters in those operations which support such
  parameters.</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.requests.elevation_and_time"></a>C.4.1.&nbsp;Elevation and Time Values in Requests</h4></div></div><div></div></div><p>If a data object has an Elevation extent defined, then operation
  requests to retrieve that object may include</p><pre class="literallayout">
ELEVATION=<span class="emphasis"><em>value</em></span>
				
            </pre><p>If a Layer has a Time extent defined, then requests may include</p><pre class="literallayout">
TIME=<span class="emphasis"><em>value</em></span>
				
            </pre><p>In either case, <span class="emphasis"><em>value</em></span> uses the format described
  in <a href="#table.dim_values" title="Table&nbsp;C.1.&nbsp;Syntax for Listing One or More Dimensional Values">Table&nbsp;C.1</a> to provide a single value, a comma-separated list, or an
  interval of the form start/end without a resolution. <span class="emphasis"><em>value</em></span>
					
               <span class="bold"><b>shall not</b></span> contain whitespace. An interval
  in a request value is a request for all the data from the start value up to
  and including the end value.</p><p>The absence of Time or Elevation parameters is equivalent to a request
  for the Layer's default value (if defined) along that dimension; see <a href="#dims.responses">Annex C.5, Server Responses</a>.
  All parameter names are case-insensitive as stated in <a href="#basic_elements.param_rules.order_and_case">Section 6.4.1, Parameter Ordering and Case</a>,
  so, for example, 'TIME', 'Time' and 'time' are all
  acceptable.</p><p>For the TIME parameter, the special keyword 'current'
  <span class="bold"><b>may</b></span> be used if advertised by the server
  as in <a href="#dims.extents">Annex C.3, Specifying Dimensional Extents</a>. The expression "TIME=current" means "send the
  most current data available." The expression
  "TIME=start_time/current" means "send data from start_time up to
  the most current data available."</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.requests.other"></a>C.4.2.&nbsp;Sample Dimension Values in Requests</h4></div></div><div></div></div><p>Sample dimension parameters allow the Client to request a particular
  data object along one or more additional dimensional axes.</p><p>A request parameter name is constructed by concatenating the prefix
  'dim_' with the sample dimension Name (the value of the name
  attribute of the corresponding &lt;Dimension&gt; and &lt;Extent&gt;
  elements in the Capabilities XML). The resulting "dim_name" is
  case-insensitive. The use of the 'dim_' prefix is to avoid clashes
  between server-defined dimension names and current or future OGC Web Service
  specifications. (Time and Elevation, being predefined, do not use the
  prefix.)</p><p>To include a sample dimension value in a request URL, the dim_name
  parameter is followed an equals sign '=' and a valid value, a
  comma-separated list, or an interval, as described in <a href="#table.dim_values" title="Table&nbsp;C.1.&nbsp;Syntax for Listing One or More Dimensional Values">Table&nbsp;C.1</a>.</p><p>Requests <span class="bold"><b>may</b></span> omit a dimension
  parameter, or use null values, to request the default value (if supplied)
  along that dimension; see <a href="#dims.responses">Annex C.5, Server Responses</a>.</p><div class="example"><a name="d0e5098"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>A WMS Layer is described as
  having an Extent along a Dimension named "wavelength" with values
  3000,4000,5000,6000 (Angstroms). WMS GetMap requests for that Layer may
  include the parameter "DIM_WAVELENGTH=4000".</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.requests.single_vs_multiple"></a>C.4.3.&nbsp;Single- and Multiple-Valued Requests</h4></div></div><div></div></div><p>Whether a request for a georeferenced object may include only a single
  value for each dimension or multiple values depends on the context. Multiple
  values are only acceptable when both the output format and the nature of the
  geospatial information permits it. An server <span class="bold"><b>may
  </b></span>include a nonzero multipleValue attribute (<a href="#dims.declaring">Annex C.2, Declaring Dimensions</a>) in an
  Extent element to indicate that multi-valued requests are supported. A
  server <span class="bold"><b>shall</b></span> issue a Service Exception if
  it cannot comply with the dimensional parameters as specified.</p><div class="example"><a name="d0e5117"></a><p class="title"><b>Example&nbsp;1.&nbsp;</b></p><p>A Web Map Service offers
  maps in PNG image format of vehicle traffic density updated hourly. A valid
  GetMap request would include only a single TIME to select the desired map.</p></div><div class="example"><a name="d0e5121"></a><p class="title"><b>Example&nbsp;2.&nbsp;</b></p><p>A WMS offers daily ozone
  maps in QuickTime movie format. The movie can contain multiple frames, so a
  valid GetMap request could include multiple times.</p></div><div class="example"><a name="d0e5125"></a><p class="title"><b>Example&nbsp;3.&nbsp;</b></p><p>A WMS offers maps showing
  crime locations. Each crime has an associated date. A GetMap image request
  for all crimes occurring within a defined period would include a TIME range.</p></div><div class="example"><a name="d0e5129"></a><p class="title"><b>Example&nbsp;4.&nbsp;</b></p><p>A Web Coverage Service
  offers atmospheric pollutant data at multiple elevations. A GetCoverage
  request could include a single elevation to obtain only a slice through the
  data, or multiple elevations to obtain a three-dimensional slab of data.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.requests.applicability"></a>C.4.4.&nbsp;Applicability to Multiple Data Objects</h4></div></div><div></div></div><p>Some OGC Web Service requests allow multiple georeferenced objects to
  be requested at once. For example, the WMS GetMap request includes a
  comma-separated list of one or more Layers. In such a request, the TIME,
  ELEVATION and DIM_ parameters apply to all of objects individually as
  follows:</p><div class="itemizedlist"><ul type="disc"><li><p>If the georeferenced object has the corresponding dimension as a
      property, then the dimension value applies as if that object had been
      requested alone.</p></li><li><p>If the georeferenced object does not have that dimension, then the
      dimension value is ignored for the purposes of responding to the request
      for that object.</p></li></ul></div><div class="example"><a name="d0e5147"></a><p class="title"><b>Example&nbsp;.&nbsp;</b></p><p>A Client's WMS GetMap
  request includes "LAYERS=temperature,coastlines&amp;TIME=20010509"
  where 'temperature' is a daily temperature map (for which time is
  relevant) and 'coastlines' is a coastline map (which is static). The
  WMS responds with the static coastlines drawn atop the temperature for the
  specified date, without complaining that TIME does not apply to coastlines.
  If the date is invalid for the temperature layer, then the server may issue
  a Service Exception to that effect.</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.requests.examples"></a>C.4.5.&nbsp;Example requests</h4></div></div><div></div></div><p>The following are examples of multi-dimensional GetMap and GetCoverage
  requests.</p><div class="example"><a name="d0e5158"></a><p class="title"><b>Example&nbsp;1.&nbsp;WMS GetMap (single ozone Map at specified time and height)</b></p><pre class="programlisting">VERSION=x.y.z WIDTH=600
REQUEST=map   HEIGHT=300
LAYERS=ozone  TIME=2000-08-03
SRS=EPSG:4326 ELEVATION=1000
BBOX=-180,-90,180,90  FORMAT=image/gif</pre></div><div class="example"><a name="d0e5163"></a><p class="title"><b>Example&nbsp;2.&nbsp;WMS GetMap (movie loop at specified frame times)</b></p><pre class="programlisting">VERSION=x.y.z WIDTH=600
REQUEST=map   HEIGHT=300
LAYERS=ozone  TIME=2000-07-01/2000-07-31/P1D
SRS=EPSG:4326 ELEVATION=1000
BBOX=-180,-90,180,90  FORMAT=video/mpeg</pre></div><div class="example"><a name="d0e5168"></a><p class="title"><b>Example&nbsp;3.&nbsp;WCS GetCoverage (4D block of data with dimension x,y,z,t)</b></p><pre class="programlisting">VERSION=x.y.z    SKIPX=10
REQUEST=coverage SKIPY=10
LAYERS=layer     TIME=2000-07-01/2000-07-31/P1D
SRS=srs_identifier  ELEVATION=0/10000/1000
BBOX=minx,miny,maxx,maxy  FORMAT=application/x-hdf</pre></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dims.responses"></a>C.5.&nbsp;Server Responses</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.responses.incorrect"></a>C.5.1.&nbsp;Incorrect Values</h4></div></div><div></div></div><p>If the dimension value is invalid or missing from the client request,
  and no default or nearest-value behavior was enabled as discussed in the
  following subsections, then the server <span class="bold"><b>shall</b></span>
  respond with a Service Exception.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.responses.default"></a>C.5.1.&nbsp;Default Values</h4></div></div><div></div></div><p>An OGC Web Service <span class="bold"><b>may </b></span>declare a
  default for any dimension. A 'default' is <span class="bold"><b>optional</b></span>
  but <span class="bold"><b>recommended</b></span>. If a request does not
  include a value along this dimension, and a default has been declared, then
  the server <span class="bold"><b>shall</b></span> send the default value.
  If there is no declared default, then the server <span class="bold"><b>shall</b></span>
  throw an Exception (code="MissingDimensionValue") to indicate that a
  value was required.</p><p>In order that the Client may determine what value was actually sent,
  the server <span class="bold"><b>shall</b></span> label the response
  object with the actual value used by default. In the HTTP environment, the
  labeling is performed using an HTTP response header. For <span class="underline">each</span> dimension to
  which a default value was applied, a header line of the following form
  <span class="bold"><b>shall</b></span> be sent:</p><pre class="literallayout">Warning: 99 Default value used: DIM_NAME=<span class="underline">value</span> units</pre><p></p><p>where "99" is a defined by HTTP [<a href="#references.ietf_rfc_2616">IETF RFC 2616</a>] for use by
  miscellaneous warnings, <span class="underline">DIM_NAME</span> is the corresponding request parameter
  name, <span class="underline">value</span> is the value actually used, and <span class="underline">units</span> is the units attribute
  (see <a href="#dims.declaring">Annex C.2, Declaring Dimensions</a>) for that dimension.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="dims.responses.nearest"></a>C.5.2.&nbsp;Nearest Values</h4></div></div><div></div></div><p>An OGC Web Service <span class="bold"><b>may </b></span>declare that
  it will choose the closest available value for a dimension if an exact value
  is not specified. This allows, for example, hourly data whose actual
  recording time is precise to the millisecond to be requested simply by
  stating the desired date and hour. The nearestValue attribute of the
  &lt;Extent&gt; element, if present and nonzero, indicates that this
  behavior is enabled.</p><p>If a request does includes an imprecise dimensional value, and nearest
  value behavior has been declared, then the server <span class="bold"><b>shall</b></span>
  compute and send the nearest available value. The value <span class="strong">shall</span> be rounded, not merely truncated. If rounding
  is not supported, then the server <span class="bold"><b>shall</b></span>
  throw an Exception (code="InvalidDimensionValue") to indicate that a
  value was required.</p><p>In order that the Client may determine what value was actually sent,
  the server <span class="bold"><b>shall</b></span> label the response
  object with the actual value found by rounding. In the HTTP environment, the
  labeling is performed using an HTTP response header. For <span class="underline">each</span> dimension to
  which a rounded-off value was applied, a header line of the following form
  <span class="bold"><b>shall</b></span> be sent:</p><pre class="literallayout">Warning: 99 Nearest value used: DIM_NAME=<span class="underline">value</span> units</pre><p></p><p>where "99" is a defined by HTTP [<a href="#references.ietf_rfc_2616">IETF RFC 2616</a>] for use by
  miscellaneous warnings, <span class="underline">DIM_NAME</span> is the corresponding request parameter
  name, <span class="underline">value</span> is the value actually used, and <span class="underline">units</span> is the units attribute
  (see <a href="#dims.declaring">Annex C.2, Declaring Dimensions</a>) for that dimension.</p></div></div></div><div class="appendix" lang="en"><h2 class="title" style="clear: both"><a name="conformance_tests"></a>D.&nbsp;Conformance Tests (normative)</h2><div class="note"><p><b>Note</b>: A complete Conformance
    Testing Guideline document for WMS is presently under development as part
    of the OGC Conformance Testing Program. When complete, the Guideline will
    include a description and scope of each test suite, test data used in the
    tests, and documentation of the conformance items that consitute
    requirements for conformance. When a complete conformance test is
    available, its description will be added to this specification.</p></div><p>Minimal conformance with this specification requires the following:</p><div class="orderedlist"><ol type="1"><li><p>The GetCapabilities and GetMap operations <span class="bold"><b>shall</b></span> be supported.</p></li><li><p>The Extensible Markup Language (XML) document returned in response
      to a GetCapabilities request <span class="bold"><b>shall</b></span> be
      valid against the Document Type Definition in <a href="#xml_dtds.wms_capabilities_dtd">Annex A.1, WMS Capabilities DTD</a>. Such validation
      may be performed using commonly available XML validating tools.</p></li><li><p>The maps returned in response to a valid GetMap request <span class="strong">shall</span> be accurately registered according to the requested projection and bounding box.</p></li><li><p>All clauses in the normative sections of this specification that
      use the keywords "required", "shall", and "shall not" have been satisfied.</p></li></ol></div></div><div class="appendix" lang="en"><h2 class="title" style="clear: both"><a name="auto_projections"></a>E.&nbsp;Automatic Projections (normative)</h2><p>This Annex lists the identification codes defined thus far for
  automatic projections (see <a href="#basic_elements.params.srs.auto">Section 6.5.5.2, AUTO Namespace for SRS</a>). In additional to the official
  codes defined below, for experimental purposes an informal list of
  additional values is maintained on-line in reference [<a href="#bibliography.auto_projections">12</a>]. Experimental
  values may be rendered official in future versions of this specification. In
  all cases the AUTO projection codes are in the range 42000-42499, which is
  beyond the range reserved by EPSG (<a href="#basic_elements.params.srs.epsg">Section 6.5.5.1, EPSG Namespace for SRS</a>) for static projections.</p><p>The definitions use OGC Well-Known Text (WKT) format. In the notation
  below, "${var}" is a reference to the value of variable
  "var". The variables "lon0" and "lat0" are the
  central point of the projection appearing in the SRS parameter of the map
  request (see <a href="#basic_elements.params.srs.auto">Section 6.5.5.2, AUTO Namespace for SRS</a>).</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="auto_projections.42001"></a>E.1.&nbsp;Auto Universal Transverse Mercator (AUTO:42001)</h3></div></div><div></div></div><pre class="programlisting">PROJCS["WGS 84 / Auto UTM",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
        SPHEROID["WGS_1984", 6378137, 298.257223563]],
        PRIMEM["Greenwich", 0],
        UNIT["Decimal_Degree", 0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["Central_Meridian", ${central_meridian}],
    PARAMETER["Latitude_of_Origin", 0],
    PARAMETER["False_Easting", 500000],
    PARAMETER["False_Northing", ${false_northing}],
    PARAMETER["Scale_Factor", 0.9996],
    UNIT["Meter", 1]]</pre><p>where</p><pre class="programlisting">central_meridian = -183.0 + ${zone} * 6.0
zone = min( floor( (${lon0} + 180.0) / 6.0 ) + 1, 60 )
false_northing = (${lat0} &gt;= 0.0) ? 0.0 : 10000000.0</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="auto_projections.42002"></a>E.2.&nbsp;Auto Transverse Mercator (AUTO:42002)</h3></div></div><div></div></div><pre class="programlisting">PROJCS["WGS 84 / Auto Tr. Mercator",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
        SPHEROID["WGS_1984", 6378137, 298.257223563]],
        PRIMEM["Greenwich", 0],
        UNIT["Decimal_Degree", 0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["Central_Meridian", ${central_meridian}],
    PARAMETER["Latitude_of_Origin", 0],
    PARAMETER["False_Easting", 500000],
    PARAMETER["False_Northing", ${false_northing}],
    PARAMETER["Scale_Factor", 0.9996],
    UNIT["Meter", 1]]</pre><p>where</p><pre class="programlisting">central_meridian = ${lon0}
false_northing = (${lat0} &gt;= 0.0) ? 0.0 : 10000000.0</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="auto_projections.42003"></a>E.3.&nbsp;Auto Orthographic (AUTO:42003)</h3></div></div><div></div></div><pre class="programlisting">PROJCS["WGS 84 / Auto Orthographic",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
        SPHEROID["WGS_1984", 6378137, 298.257223563]],
        PRIMEM["Greenwich", 0],
        UNIT["Decimal_Degree", 0.0174532925199433]],
    PROJECTION["Orthographic"],
    PARAMETER["Central_Meridian", ${central_meridian}],
    PARAMETER["Latitude_of_Origin", ${latitude_of_origin}],
    UNIT["Meter", 1]]</pre><p>where</p><pre class="programlisting">central_meridian = ${lon0}
latitude_of_origin = ${lat0}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="auto_projections.42004"></a>E.4.&nbsp;Auto Equirectangular (AUTO:42004)</h3></div></div><div></div></div><pre class="programlisting">PROJCS["WGS 84 / Auto Equirectangular",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
        SPHEROID["WGS_1984", 6378137, 298.257223563]],
        PRIMEM["Greenwich", 0],
        UNIT["Decimal_Degree", 0.0174532925199433]],
    PROJECTION["Equirectangular"],
    PARAMETER["Central_Meridian", ${central_meridian}],
    PARAMETER["Latitude_of_Origin", 0],
    PARAMETER["Standard_Parallel_1", ${standard_parallel}],
    UNIT["Meter", 1]]</pre><p>where</p><pre class="programlisting">central_meridian = ${lon0}
standard_parallel = ${lat0}</pre></div></div><div class="appendix" lang="en"><h2 class="title" style="clear: both"><a name="future"></a>F.&nbsp;Future Work (informative)</h2><p>This Annex indicates future work expected on this specification.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="future.uml_model"></a>F.1.&nbsp;UML Model</h3></div></div><div></div></div><p>A Unified Modeling Language (UML) representation of web mapping that
  is independent of the HTTP Distributed Computing Platform treated in this
  implementation specification will be produced. The UML will be published
  either within this document or a separate Part 0. The needed material is
  expected to emerge in part from UML work undertaken by the OGC Documentation
  Subcommittee. As part of that work, and following on technical advances by
  the OGC Web Services testbed, <a href="#figure.architecture" title="Figure&nbsp;1.&nbsp;OGC Web Services Architecture diagram">Figure&nbsp;1</a> (OGC Web Services Architecture diagram)
  of the present document will be revised.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="future.http_post"></a>F.2.&nbsp;Support for HTTP Post</h3></div></div><div></div></div><p>The specification will be expanded with a Part 2 to support operation
  requests using HTTP POST.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="future.xml_schema"></a>F.3.&nbsp;Use of XML Schema</h3></div></div><div></div></div><p>The Capabilities XML Document Type Definition (DTD) will be replaced
  by an XML Schema document that more precisely dictates the format of the
  Capabilities XML.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="future.layer_identification"></a>F.4.&nbsp;Layer Identification Mechanism</h3></div></div><div></div></div><p>The Capabilities XML will be revised, replacing some ad hoc constructs
  with a unified treatment of layer identification that includes metadata
  about the nature of the map information, its source, appropriate scales for
  display, and any cascading, caching, transformation or value-adding
  processes that may have occurred.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="future.iso_8601"></a>F.5.&nbsp;Adoption of Revised ISO 8601 Standard</h3></div></div><div></div></div><p><a href="#date_time">Annex B, Formatting Dates and Times</a> of the present document introduces several extensions to ISO
  8601:1988(E) to allow years before 0001 and to express the periodicity of
  data over a certain interval. The revised standard ISO 8601:2000 eliminates
  the need for those extensions. <a href="#date_time">Annex B, Formatting Dates and Times</a> will be revised to take account of
  these changes in ISO 8601.</p></div></div><div class="bibliography"><div class="titlepage"><div><div><h2 class="title"><a name="bibliography"></a>Bibliography</h2></div></div><div></div></div><div class="bibliomixed"><a name="bibliography.ogc_document_01-029"></a><p class="bibliomixed">[1] 
         <span class="author"><span class="firstname">S. </span><span class="surname">Cox</span></span>,
         <span class="author"><span class="firstname">A. </span><span class="surname">Cuthbert</span></span>,
         <span class="author"><span class="firstname">R. </span><span class="surname">Lake</span></span> and
         <span class="author"><span class="firstname">R. </span><span class="surname">Martell</span></span>, eds.,
         <span class="citetitle"><i class="citetitle">Geography Markup Language (GML) Implementation Specification 2.0</i></span>, 
         <span class="title">OGC Document #01-029</span>,
         <span class="date">February, 2001</span>,
		   <span class="bibliomisc">
            <a href="http://www.opengis.org/techno/specs/" target="_top">http://www.opengis.org/techno/specs/</a>
         </span>.
      </p></div><div class="bibliomixed"><a name="bibliography.ogc_document_98-060"></a><p class="bibliomixed">[2] 
         <span class="author"><span class="firstname">A. </span><span class="surname">Cuthbert</span></span>,
         <span class="citetitle"><i class="citetitle">User Interaction with Geospatial Data</i></span>, 
         <span class="title">OGC Document #98-060</span>,
			<span class="date">October 1998</span>.
		</p></div><div class="bibliomixed"><a name="bibliography.ogc_document_01-028"></a><p class="bibliomixed">[3] 
         <span class="author"><span class="firstname">A. </span><span class="surname">Cuthbert</span></span>, ed.,
         <span class="citetitle"><i class="citetitle">Styled Layer Descriptor Draft Candidate Implementation Specification 0.7.0</i></span>, 
         <span class="title">OGC Document #01-028</span>, 
			<span class="date">February 2001</span>, 
		   <span class="bibliomisc">
            <a href="http://www.opengis.org/info/discussion.htm" target="_top">http://www.opengis.org/info/discussion.htm</a>
         </span>.
      </p></div><div class="bibliomixed"><a name="bibliography.ogc_document_01-047r2"></a><p class="bibliomixed">[4] 
         <span class="author"><span class="firstname">J. </span><span class="surname">de La Beaujardiere</span></span>, ed.,
         <span class="citetitle"><i class="citetitle">Web Map Service Implementation Specification 1.1.0</i></span>, 
         <span class="title">OGC Document #01-047r2</span>, 
			<span class="date">June 2001</span>, 
         <span class="bibliomisc">
            <a href="http://www.opengis.org/techno/specs/" target="_top">http://www.opengis.org/techno/specs/</a>
         </span>.
      </p></div><div class="bibliomixed"><a name="bibliography.ogc_document_97-009"></a><p class="bibliomixed">[5] 
         <span class="author"><span class="firstname">A. </span><span class="surname">Doyle</span></span>,
         <span class="citetitle"><i class="citetitle">WWW Mapping Framework</i></span>, 
         <span class="title">OGC Document #97-009</span>, 
			<span class="date">April 1997</span>.
		</p></div><div class="bibliomixed"><a name="bibliography.ogc_document_00-028"></a><p class="bibliomixed">[6] 
         <span class="author"><span class="firstname">A. </span><span class="surname">Doyle</span></span>,
         <span class="citetitle"><i class="citetitle">OpenGIS Web Map Service Implementation Specification 1.0.0</i></span>, 
         <span class="title">OGC Document #00-028</span>, 
			<span class="date">April 2000</span>, 
         <span class="bibliomisc">
            <a href="http://www.opengis.org/techno/specs/" target="_top">http://www.opengis.org/techno/specs/</a>
         </span>.
      </p></div><div class="bibliomixed"><a name="bibliography.ogc_document_98-068"></a><p class="bibliomixed">[7] 
         <span class="author"><span class="firstname">K. </span><span class="surname">Gardels</span></span>
         <span class="citetitle"><i class="citetitle">A Web Mapping Scenario</i></span>, 
         <span class="title">OGC Document #98-068</span>, 
			<span class="date">January 1998</span>.
		</p></div><div class="bibliomixed"><a name="bibliography.ogc_document_01-023"></a><p class="bibliomixed">[8] 
         <span class="author"><span class="firstname">P. </span><span class="surname">Vretanos</span></span>
         <span class="citetitle"><i class="citetitle">Web Feature Service Draft Candidate Implementation Specification 0.0.12</i></span>, 
         <span class="title">OGC Document #01-023</span>, 
			<span class="date">January 2001</span>, 
         <span class="bibliomisc">				
            <a href="http://www.opengis.org/info/discussion.htm/" target="_top">http://www.opengis.org/info/discussion.htm/</a>
         </span>.
      </p></div><div class="bibliomixed"><a name="bibliography.media_types"></a><p class="bibliomixed">[9] 
         <span class="corpauthor">Internet Assigned Numbers Authority</span>,
         <span class="citetitle"><i class="citetitle">Media Types</i></span>, 
         <span class="bibliomisc">
            <a href="http://www.isi.edu/in-notes/iana/assignments/media-types/media-types" target="_top">http://www.isi.edu/in-notes/iana/assignments/media-types/media-types</a>
         </span>.
      </p></div><div class="bibliomixed"><a name="bibliography.wmt_rft"></a><p class="bibliomixed">[10] 
         <span class="corpauthor">OpenGIS Consortium</span>,
         <span class="citetitle"><i class="citetitle">Request for Technology In Support of a Web Mapping Technology Testbed</i></span>, 
			<span class="date">October 1998</span>.
      </p></div><div class="bibliomixed"><a name="bibliography.wmt_rfq"></a><p class="bibliomixed">[11] 
         <span class="corpauthor">OpenGIS Consortium</span>,
         <span class="citetitle"><i class="citetitle">Request For Quotation and Call For Participation in the OGC Web Mapping Testbed Initial Operating Capability and Demonstration</i></span>, 
			<span class="date">March 1999</span>.
      </p></div><div class="bibliomixed"><a name="bibliography.auto_projections"></a><p class="bibliomixed">[12] 
         <span class="corpauthor">OpenGIS Consortium</span>,
         <span class="citetitle"><i class="citetitle">Automatic Projections for Web Mapping</i></span>, 
         <span class="bibliomisc">
            <a href="http://www.digitalearth.gov/wmt/auto.html" target="_top">http://www.digitalearth.gov/wmt/auto.html</a>
         </span>.
      </p></div></div></div></body></html>