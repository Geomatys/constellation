<div class="logo-wrapper row">
    <div class="col-sm-3">
        <a href="#"><img src="images/constellation.png"></a>
    </div>
    <!-- Menu to create services -->
    <div class="col-sm-3 col-sm-offset-6">
        <div class="dropdown pull-right">
            <a id="createservice" data-toggle="dropdown" class="btn btn-info btn-large dropdown-toggle">
                <span class="icon-plus icon-white" style="margin-top: 0px;"></span>
                Créer un nouveau service
                <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
                <li><a href="#/webservice/wms" id="wmschoice">Cartes (WMS)</a></li>
<!--                 <li><a href="create/wmts" id="wmtschoice">Cartes tuilées (WMTS)</a></li> -->
<!--                 <li><a href="create/wfs" id="wfschoice">Données vectorielles (WFS)</a></li> -->
<!--                 <li><a href="create/wcs" id="wcschoice">Grille de données (WCS)</a></li> -->
<!--                 <li><a href="create/wps" id="wpschoice">Géotraitements (WPS)</a></li> -->
            </ul>
        </div>
    </div>
</div>
<div class="row">
    <div class="row" >
        <div class="navbar navbar-default" style="margin-bottom: 0px;">
            <div class="navbar-header">
                <a class="navbar-brand">Services disponibles</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class="active"><a href="#" onclick="filter('', this)">Tous</a></li>
                    <li><a href="#" onclick="filter('csw', this)">CSW</a></li>
                    <li><a href="#" onclick="filter('wms', this)">WMS</a></li>
                    <li><a href="#" onclick="filter('wmts', this)">WMTS</a></li>
                    <li><a href="#" onclick="filter('wfs', this)">WFS</a></li>
                    <li><a href="#" onclick="filter('wcs', this)">WCS</a></li>
                    <li><a href="#" onclick="filter('sos', this)">SOS</a></li>
                    <li><a href="#" onclick="filter('wps', this)">WPS</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="row bg-white" id="list-services">
        <div class="col-sm-6 service-item" ng-repeat="service in services.instance">
            <a href="#/webservice/{{service.type.toLocaleLowerCase()}}/{{service.name}}"><h3 class="text-info">{{service.name}} ({{service.type}})</h3></a>
            <div class="well" ng-class="{'started':service.status=='WORKING','stopped':service.status=='ERROR','not-started':service.status=='NOT_STARTED'}" data-state="wms-test">
                <div class="row">
                    <div class="col-sm-4 col-sm-offset-8">
                        <div class="dropdown pull-left">
                            <a data-toggle="dropdown" class="btn btn-default dropdown-toggle">
                                <i class="icon-wrench"></i>
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#/webservice/{{service.type.toLocaleLowerCase()}}/{{service.name}}">Editer</a></li>
                                <li><a ng-click="showLogs(service.type, service.name)">Log du service</a></li>
                                <li><a ng-click="showCapa(service.type, service.name)">Capacité du service</a></li>
                                <li><a ng-click="deleteService(service.type, service.name)">Supprimer le service</a></li>
                                <li><a ng-click="showCapa(service.type, service.name)">GetCapabilities</a></li>
                            </ul>
                        </div>
                        <a class="btn btn-default btn-info" ng-click="reload(service.type, service.name)">
                            <i class="icon-refresh"></i>
                        </a>
                        <a class="btn btn-default" ng-class="{'started':service.status=='WORKING','stopped':service.status=='ERROR'}" ng-click="startOrStop(service.type, service.name, service.status)">
                            <i ng-class="{'icon-play':service.status!='WORKING','icon-stop':service.status=='WORKING'}"></i>
                        </a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-8">
                        <p><strong><span translate="service.abstract.label">Service description</span></strong></p>
                        <p ng-if="service._abstract !==''">{{service._abstract}}</p>
                        <p ng-if="service._abstract ===''"> - </p>
                        <p><strong><span translate="service.data.label">Published data on service</span></strong></p>
                        <p>{{service.layersNumber}}</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<div class="modal hide fade" id="url-modal">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>URL</h3>
    </div>
    <div class="modal-body">
        <pre id="url-modal-pre"></pre>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" aria-hidden="true">Close</a>
    </div>
</div>
<div class="modal hide fade" id="getcapabilities-modal" style="left:40%; width:910px">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>GetCapabilities</h3>
    </div>
    <div class="modal-body">
        <pre id="capabilities-modal-pre" style="background-color: #f8f8ff"><code class="xml"></code></pre>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" aria-hidden="true">Close</a>
    </div>
</div>

<div class="modal hide fade" id="logs-modal" style="left:40%; width:910px">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Log</h3>
    </div>
    <div class="modal-body">
        <pre id="logs-modal-pre" style="background-color: #f8f8ff"><code class="xml"></code></pre>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal" aria-hidden="true">Close</a>
    </div>
</div>
