
<div class="row">
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <div ng-if="!optionsSLD.enableRuleEditor && !optionsSLD.enableAutoIntervalEditor && !optionsSLD.enableAutoUniqueEditor">
            <div style="margin-bottom:0px;">
                <div class="form-group col-xs-12" style="margin: 3px 0; height:35px;padding: 0;">
                    <label class="col-xs-5 col-sm-5 col-md-4 control-label"
                           style="margin-top: 8px;"
                           translate="sldeditor.name">Style name</label>
                    <div class="col-xs-7 col-sm-7 col-md-8">
                        <input ng-if="!isSelectedChooser('edit')"
                               type="text"
                               class="form-control form-control-fix"
                               ng-model="$parent.newStyle.name"/>
                        <label style="font-size: 12px;font-weight: normal;margin-top: 8px;"
                               ng-if="isSelectedChooser('edit')">{{$parent.newStyle.name}}</label>
                    </div>
                </div>
            </div>
            <div class="col-sm-12" ng-if="noName">
                <div class="alert alert-danger"
                     style="padding:3px; padding-bottom:2px; margin-bottom:6px;"
                     translate="alert.style.noname">Please you must fill a style name</div>
            </div>
            <div class="row">
                <div class="panel panel-default" style="margin-bottom: 0;">
                    <div class="panel-heading well-header">
                        <strong translate="edition.style.label.rules">Rules</strong>
                        <div class="dropdown pull-right" style="margin-top: -5px;">
                            <a data-toggle="dropdown" class="btn btn-add dropdown-toggle" style="font-size: 12px;">
                                <span class="icon-plus icon-white" style="margin-right:5px;"></span>
                                <span translate="edition.style.label.new.rules">Add rule(s)</span>
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" style="font-size: 12px;">
                                <li><a ng-click="createRules('manual')"
                                       translate="edition.style.label.new.rules.manual">Manually create rules</a></li>
                                <li ng-if="selectedLayer !== null"><a ng-click="createRules('auto_interval')"
                                       translate="edition.style.label.new.rules.auto_interval">Automatically create by intervals</a></li>
                                <li ng-if="selectedLayer !== null"><a ng-click="createRules('auto_values')"
                                       translate="edition.style.label.new.rules.auto_values">Automatically create by unique values</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel-body" style="padding:0pt;">
                        <div class="list-group" style="height: 350px;overflow-y: auto;margin: 0;">
                            <a class="list-group-item"
                               title="{{rule.title}}"
                               ng-class="{active:rule===optionsSLD.selectedRule}"
                               ng-repeat="rule in newStyle.rules"
                               ng-click="setSelectedRule(rule);">
                                {{rule.name}}
                            </a>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <button class="btn btn-default" type="button" style="font-size: 12px;" ng-click="editSelectedRule();">Edit</button>
                        <button class="btn btn-default" type="button" style="font-size: 12px;" ng-click="moveUpRule();">
                            <span class="glyphicon glyphicon-chevron-up"></span>
                        </button>
                        <button class="btn btn-default" type="button" style="font-size: 12px;" ng-click="moveDownRule();">
                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </button>
                        <button class="btn btn-default" type="button" style="font-size: 12px;" ng-click="deleteSelectedRule();">Delete</button>
                        <button class="btn btn-default" type="button" style="font-size: 12px;" ng-click="deleteAllRules();">Delete all</button>
                    </div>
                </div>
            </div>
        </div>
        <div ng-if="optionsSLD.enableRuleEditor && !optionsSLD.enableAutoIntervalEditor && !optionsSLD.enableAutoUniqueEditor">
            <ol class="breadcrumb col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <li>
                    <a ng-click="goBack()">
                        <span translate="sldeditor.breadcrumb.type">Back to rules list</span>
                    </a>
                </li>
                <li class="active">
                    <span translate="sldeditor.breadcrumb.edition">Rule edition</span>
                </li>
            </ol>
            <ul class="nav nav-tabs" ng-init="chosenTab = 'description'">
                <li ng-class="{active: chosenTab==='description'}">
                    <a ng-click="chosenTab = 'description'" data-toggle="tab">
                        <span translate="edition.style.label.description" >Description</span>
                    </a>
                </li>
                <li ng-class="{active: chosenTab==='symbols'}">
                    <a ng-click="chosenTab = 'symbols'" data-toggle="tab">
                        <span translate="label.symbols" >Symbols</span>
                    </a>
                </li>
                <li ng-class="{active: chosenTab==='filters'}">
                    <a ng-click="chosenTab = 'filters'" data-toggle="tab">
                        <span translate="edition.style.label.filters" >Filters</span>
                    </a>
                </li>
            </ul>
            <div class="tab-content" style="max-height: 415px;overflow-x: hidden;overflow-y: auto;">
                <div class="tab-pane tab-style-edition" ng-class="{active:chosenTab==='description'}">
                    <form class="form-horizontal form-style" role="form">
                        <div class="row">
                            <div class="col-xs-12 col-sm-11 col-md-11 col-lg-11" style="margin-top: 20pt;">
                                <div class="form-group">
                                    <label for="inputrulename"
                                           class="col-xs-4 col-sm-4 col-md-4 col-lg-4 control-label"
                                           translate="label.name">Name</label>
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <input type="text"
                                               class="form-control form-control-fix"
                                               id="inputrulename"
                                               ng-model="optionsSLD.selectedRule.name"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputRuleTitle"
                                           class="col-xs-4 col-sm-4 col-md-4 col-lg-4 control-label"
                                           translate="label.title">Title</label>
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <input type="text"
                                               class="form-control form-control-fix"
                                               id="inputRuleTitle"
                                               ng-model="optionsSLD.selectedRule.title"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputRuleDesc"
                                           class="col-xs-4 col-sm-4 col-md-4 col-lg-4 control-label"
                                           translate="description">Description</label>
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <textarea id="inputRuleDesc"
                                                  class="form-control form-control-fix"
                                                  rows="3"
                                                  ng-model="optionsSLD.selectedRule.description"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="tab-pane tab-style-edition" ng-class="{active:chosenTab==='symbols'}">
                    <form class="form-horizontal form-style" role="form">
                        <div class="row">
                            <div class="col-xs-12 col-sm-11 col-md-11 col-lg-11" style="margin-top: 20pt;">
                                <div class="form-group">
                                    <label for="selectsymbolizer"
                                           class="col-xs-7"
                                           style="margin-left: 40pt;"
                                           translate="edition.style.label.new.symbolizer">Add new symbolizer</label>
                                    <div class="col-xs-10" style="margin-left: 40pt; margin-top: 3pt;">
                                        <select id="selectsymbolizer"
                                                class="col-xs-8"
                                                style="font-size: 14px; height: 30px;"
                                                ng-model="optionsSLD.selectedSymbolizerType">
                                            <option value=""></option>
                                            <option value="point" translate="sldeditor.vector.point">Point</option>
                                            <option value="line" translate="sldeditor.vector.line">Line</option>
                                            <option value="polygon" translate="sldeditor.vector.polygon">Polygon</option>
                                            <option value="text" translate="sldeditor.vector.text">Text</option>
                                        </select>
                                        <button class="col-xs-3 btn btn-default"
                                                type="button"
                                                style="font-size: 12px; margin-left: 7pt;"
                                                ng-click="addSymbolizer();"
                                                translate="label.add">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin: 0pt;">
                            <accordion close-others="false">
                                <accordion-group ng-repeat="symbolizer in optionsSLD.selectedRule.symbolizers"
                                                 is-open="status.open">
                                    <accordion-heading>
                                        <div style="text-transform: uppercase;cursor: pointer;">
                                            <i class="pull-left glyphicon"
                                               ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                            <span style="margin-left: 10pt;font-size: 14px;">{{symbolizer.name}}</span>
                                            <button type="button"
                                                    class="pull-right btn btn-default btn-xs btn-remove"
                                                    ng-click="removeSymbolizer(symbolizer);">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                        </div>
                                    </accordion-heading>
                                    <div ng-if="symbolizer['@symbol'] === 'point'">
                                        <div ng-include="'views/style/point.html'"></div>
                                    </div>
                                    <div ng-if="symbolizer['@symbol'] === 'line'">
                                        <div ng-include="'views/style/line.html'"></div>
                                    </div>
                                    <div ng-if="symbolizer['@symbol'] === 'polygon'">
                                        <div ng-include="'views/style/polygon.html'"></div>
                                    </div>
                                    <div ng-if="symbolizer['@symbol'] === 'text'">
                                        <div ng-include="'views/style/text.html'"></div>
                                    </div>
                                </accordion-group>
                            </accordion>
                        </div>
                    </form>
                </div>
                <div class="tab-pane tab-style-edition" ng-class="{active:chosenTab==='filters'}">
                    <div style="padding: 10pt;">
                        <div class="row">
                            <div class="col-xs-10">
                                <strong translate="edition.style.label.filterScale">Filter based on the zoom level</strong>
                                <i popover-placement="bottom"
                                   popover-trigger="mouseenter"
                                   popover="{{'sldeditor.edition.filter.scale.help' | translate}}"
                                   popover-title="{{'sldeditor.edition.filter.scale.help.title' | translate}}">
                                             <span style="font-size: 18px;cursor:pointer;"
                                                   class="glyphicon glyphicon-question-sign"></span>
                                </i>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 8pt;">
                            <div class="col-sm-12 col-md-12">
                                <form class="form-horizontal form-style" role="form">
                                    <div class="form-group">
                                        <label for="minScale"
                                               class="col-xs-5 col-sm-5 col-md-5 col-lg-4 control-label"
                                               style="font-size: 12px;font-weight: normal;"
                                               translate="edition.style.label.filterScaleMin">Minimal scale</label>
                                        <div class="col-xs-7 col-sm-7 col-md-6 col-lg-6">
                                            <span class="pull-left"
                                                  style="position:absolute"
                                                  ng-if="optionsSLD.selectedRule.minScale != undefined && optionsSLD.selectedRule.minScale !== 0">1/</span>
                                            <div class="input-group">
                                                <input type="number"
                                                       class="form-control"
                                                       style="font-size: 12px;"
                                                       id="minScale"
                                                       ng-model="optionsSLD.selectedRule.minScale"
                                                       min="0"/>
                                                <span class="input-group-btn">
                                                    <button class="btn btn-info"
                                                            type="button"
                                                            ng-click="setMinScale();"
                                                            title="{{'sldeditor.edition.filter.getScale' | translate}}">
                                                        <i class="glyphicon glyphicon-arrow-left"></i>
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="maxScale"
                                               class="col-xs-5 col-sm-5 col-md-5 col-lg-4 control-label"
                                               style="font-size: 12px;font-weight: normal;"
                                               translate="edition.style.label.filterScaleMax">Maximal scale</label>
                                        <div class="col-xs-7 col-sm-7 col-md-6 col-lg-6">
                                            <span class="pull-left"
                                                  style="position:absolute"
                                                  ng-if="optionsSLD.selectedRule.maxScale != undefined && optionsSLD.selectedRule.maxScale !== 0">1/</span>
                                            <div class="input-group">
                                                <input type="number"
                                                       class="form-control"
                                                       style="font-size: 12px;"
                                                       id="maxScale"
                                                       ng-model="optionsSLD.selectedRule.maxScale"
                                                       min="0"/>
                                                <span class="input-group-btn">
                                                    <button class="btn btn-info"
                                                            type="button"
                                                            ng-click="setMaxScale();"
                                                            title="{{'sldeditor.edition.filter.getScale' | translate}}">
                                                        <i class="glyphicon glyphicon-arrow-left"></i>
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-xs-5 col-sm-5 col-md-6 col-lg-6"
                                               style="font-size: 13px;font-weight:normal;margin-bottom:0;padding-left:15px;padding-right:15px;text-align:right;color:#808080;">
                                            <em translate="sldeditor.edition.currentScale">Current scale of the map</em>
                                        </label>
                                        <em style="font-size: 13px;color:#808080;"
                                            class="col-xs-7 col-sm-7 col-md-6 col-lg-6 currentScale"></em>
                                    </div>
                                    <hr style="margin-bottom:10px;"/>
                                    <div class="form-group">
                                        <div class="col-xs-8">
                                            <div>
                                                <label style="cursor: pointer;">
                                                    <strong translate="sldeditor.edition.filterEnabled">Filter by attribute field</strong>
                                                    <input type="checkbox"
                                                           style="margin-left: 5pt;"
                                                           ng-model="optionsSLD.filtersEnabled"
                                                           ng-click="optionsSLD.filtersEnabled = !optionsSLD.filtersEnabled; applyFilter();"/>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" ng-show="optionsSLD.filtersEnabled" style="">
                                        <table ng-init="restoreFilters();">
                                            <tbody>
                                                <tr ng-repeat="filter in optionsSLD.filters">
                                                    <td>
                                                        <select class="form-control form-control-fix"
                                                                ng-init="loadDataProperties();"
                                                                ng-model="filter.attribute"
                                                                ng-change="applyFilter();">
                                                            <option ng-value="dp.name"
                                                                    ng-repeat="dp in $parent.attributesExcludeGeometry">{{dp.name}}</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <select class="form-control form-control-fix"
                                                                ng-model="filter.comparator"
                                                                size="1"
                                                                ng-change="applyFilter();">
                                                            <option value="=">=</option>
                                                            <option value="!=">!=</option>
                                                            <option value=">">&gt;</option>
                                                            <option value=">=">&gt;=</option>
                                                            <option value="<">&lt;</option>
                                                            <option value="<=">&lt;=</option>
                                                            <option value="BETWEEN">BETWEEN</option>
                                                            <option value="LIKE">LIKE</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <input type="text"
                                                               class="form-control form-control-fix"
                                                               ng-model="filter.value"
                                                               ng-change="applyFilter();"/>
                                                    </td>
                                                    <td>
                                                        <select class="form-control form-control-fix"
                                                                ng-model="filter.operator"
                                                                ng-change="addNewFilter(filter.operator,$index);"
                                                                size="1">
                                                            <option value=""></option>
                                                            <option value="AND">AND</option>
                                                            <option value="OR">OR</option>
                                                        </select>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-if="optionsSLD.enableAutoIntervalEditor && !optionsSLD.enableRuleEditor && !optionsSLD.enableAutoUniqueEditor">
            <ol class="breadcrumb col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <li>
                    <a ng-click="goBack()">
                        <span translate="sldeditor.breadcrumb.type">Back to rules list</span>
                    </a>
                </li>
                <li class="active">
                    <span translate="edition.style.label.new.rules.auto_interval">Auto by intervals</span>
                </li>
            </ol>
            <ul class="nav nav-tabs">
                <li class="active">
                    <a data-toggle="tab">
                        <span>Configuration</span>
                    </a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane tab-style-edition active">
                    <form class="form-horizontal form-style" role="form" style="margin-bottom: 20pt;">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top: 10pt;">
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                                       translate="sldeditor.edition.field">Attribute field</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <select class="form-control form-control-fix"
                                            ng-init="loadDataProperties();"
                                            ng-model="optionsSLD.autoIntervalValues.attr">
                                        <option ng-repeat="dp in $parent.attributesTypeNumber" ng-value="dp.name">{{dp.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                                       translate="sldeditor.edition.intervalsCount">Intervals count</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <input type="number"
                                           class="form-control form-control-fix"
                                           ng-model="optionsSLD.autoIntervalValues.nbIntervals"
                                           min="1"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                                       translate="sldeditor.edition.method">Quantization method</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <select class="form-control form-control-fix"
                                            ng-model="optionsSLD.autoIntervalValues.method">
                                        <option value="equidistant" translate="sldeditor.edition.equidistant">equidistant cutting</option>
                                        <option value="mediane" translate="sldeditor.edition.mediane">median cut</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                                       translate="sldeditor.edition.symboltype">Symbol type</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <select class="form-control form-control-fix"
                                            ng-model="optionsSLD.autoIntervalValues.symbol">
                                        <option value="point" translate="edition.style.label.point">Point</option>
                                        <option value="line" translate="edition.style.label.line">Line</option>
                                        <option value="polygon" translate="edition.style.label.polygon">Polygon</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label " translate="sldeditor.edition.palette.label">Palette</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <div class="pull-right btn-group dropup select select-block">
                                        <button class="btn dropdown-toggle btn-default" data-toggle="dropdown" style="padding-right: 25px;">
                                            <span class="filter-option pull-left">
                                                <img class="img_palette img_palette_ajust" ng-src="{{optionsSLD.autoIntervalValues.palette.img_palette}}"/>
                                            </span>&nbsp;
                                            <span class="caret"></span>
                                        </button>
                                        <span class="dropdown-arrow dropdown-arrow-inverse"></span>
                                        <ul class="dropdown-menu dropdown-inverse dropdown-images" role="menu"
                                            style="overflow-y: auto; min-width: 70px; min-height: 108px;">
                                            <li ng-click="$parent.choosePaletteVectorInterval(0)"><a><img class="img_palette img_palette_ajust" src="images/palette0.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorInterval(1)"><a><img class="img_palette img_palette_ajust" src="images/palette1.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorInterval(2)"><a><img class="img_palette img_palette_ajust" src="images/palette2.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorInterval(3)"><a><img class="img_palette img_palette_ajust" src="images/palette3.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorInterval(4)"><a><img class="img_palette img_palette_ajust" src="images/palette4.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorInterval(5)"><a><img class="img_palette img_palette_ajust" src="images/palette5.png"/></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" style="height: 15pt;">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label "
                                       translate="sldeditor.edition.palette.custom">Use custom palette</label>
                                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                                    <input style="margin-top: 6pt;"
                                           type="checkbox"
                                           ng-model="optionsSLD.autoIntervalValues.customPalette.enabled"
                                           ng-change="$parent.affectDefaultPalette();"/>
                                </div>
                                <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5"
                                     style="padding: 0pt;"
                                     ng-show="optionsSLD.autoIntervalValues.customPalette.enabled">
                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                        <input type='text'
                                               name="picker"
                                               class="picker"
                                               spectrum
                                               ng-model="optionsSLD.autoIntervalValues.customPalette.color1"/>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                        <input type='text'
                                               name="picker"
                                               class="picker"
                                               spectrum
                                               ng-model="optionsSLD.autoIntervalValues.customPalette.color2"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label "
                                       translate="sldeditor.edition.reversecolors">Reverse colors</label>
                                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                                    <input style="margin-top: 6pt;"
                                           type="checkbox"
                                           ng-model="optionsSLD.autoIntervalValues.palette.reverseColors"/>
                                </div>
                            </div>
                        </div>
                    </form>
                    <button type="button"
                            class="btn btn-default pull-right"
                            ng-click="generateAutoInterval()">
                        <span translate="sldeditor.edition.autointerval.generate">Generate rules</span>
                    </button>
                </div>
            </div>
        </div>

        <div ng-if="optionsSLD.enableAutoUniqueEditor && !optionsSLD.enableRuleEditor && !optionsSLD.enableAutoIntervalEditor">
            <ol class="breadcrumb col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <li>
                    <a ng-click="goBack()">
                        <span translate="sldeditor.breadcrumb.type">Back to rules list</span>
                    </a>
                </li>
                <li class="active">
                    <span translate="edition.style.label.new.rules.auto_values">Auto by unique values</span>
                </li>
            </ol>
            <ul class="nav nav-tabs">
                <li class="active">
                    <a data-toggle="tab">
                        <span>Configuration</span>
                    </a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane tab-style-edition active">
                    <form class="form-horizontal form-style" role="form" style="margin-bottom: 20pt;">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top: 10pt;">
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                                       translate="sldeditor.edition.field">Attribute field</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <select class="form-control form-control-fix"
                                            ng-init="loadDataProperties();"
                                            ng-model="optionsSLD.autoUniqueValues.attr">
                                        <option ng-repeat="dp in $parent.attributesExcludeGeometry" ng-value="dp.name">{{dp.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                                       translate="sldeditor.edition.symboltype">Symbol type</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <select class="form-control form-control-fix"
                                            ng-model="optionsSLD.autoUniqueValues.symbol">
                                        <option value="point" translate="edition.style.label.point">Point</option>
                                        <option value="line" translate="edition.style.label.line">Line</option>
                                        <option value="polygon" translate="edition.style.label.polygon">Polygon</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label "
                                       translate="sldeditor.edition.palette.label">Palette</label>
                                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                    <div class="pull-right btn-group select select-block">
                                        <button class="btn dropdown-toggle btn-default" data-toggle="dropdown">
                                            <span class="filter-option pull-left">
                                                <img class="img_palette img_palette_ajust" ng-src="{{optionsSLD.autoUniqueValues.palette.img_palette}}"/>
                                            </span>&nbsp;
                                            <span class="caret"></span>
                                        </button>
                                        <span class="dropdown-arrow dropdown-arrow-inverse"></span>
                                        <ul class="dropdown-menu dropdown-inverse dropdown-images" role="menu"
                                            style="overflow-y: auto; min-width: 70px; min-height: 108px;">
                                            <li ng-click="$parent.choosePaletteVectorUnique(0)"><a><img class="img_palette img_palette_ajust" src="images/palette0.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorUnique(1)"><a><img class="img_palette img_palette_ajust" src="images/palette1.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorUnique(2)"><a><img class="img_palette img_palette_ajust" src="images/palette2.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorUnique(3)"><a><img class="img_palette img_palette_ajust" src="images/palette3.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorUnique(4)"><a><img class="img_palette img_palette_ajust" src="images/palette4.png"/></a></li>
                                            <li ng-click="$parent.choosePaletteVectorUnique(5)"><a><img class="img_palette img_palette_ajust" src="images/palette5.png"/></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" style="height: 15pt;">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label "
                                       translate="sldeditor.edition.palette.custom">Use custom palette</label>
                                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                                    <input style="margin-top: 6pt;"
                                           type="checkbox"
                                           ng-model="optionsSLD.autoUniqueValues.customPalette.enabled"
                                           ng-change="$parent.affectDefaultPalette();"/>
                                </div>
                                <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5"
                                     style="padding: 0pt;"
                                     ng-show="optionsSLD.autoUniqueValues.customPalette.enabled">
                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                        <input type='text'
                                               name="picker"
                                               class="picker"
                                               spectrum
                                               ng-model="optionsSLD.autoUniqueValues.customPalette.color1"/>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                        <input type='text'
                                               name="picker"
                                               class="picker"
                                               spectrum
                                               ng-model="optionsSLD.autoUniqueValues.customPalette.color2"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label "
                                       translate="sldeditor.edition.reversecolors">Reverse colors</label>
                                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                                    <input style="margin-top: 6pt;"
                                           type="checkbox"
                                           ng-model="optionsSLD.autoUniqueValues.palette.reverseColors"/>
                                </div>
                            </div>
                        </div>
                    </form>
                    <button type="button"
                            class="btn btn-default pull-right"
                            ng-click="generateAutoUnique()">
                        <span translate="sldeditor.edition.autointerval.generate">Generate rules</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <div class="row" style="margin-top:5px;">
            <div class="col-xs-8">
                <div class="checkbox">
                    <label>
                        <input type="checkbox"
                               ng-model="optionsSLD.autoPreview">
                            <span translate="sldeditor.apercu.autochecked">Automatically preview</span>
                        </input>
                    </label>
                </div>
            </div>
            <div class="col-xs-4">
                <button type="button" class="pull-right btn btn-add"
                        ng-click="displayCurrentStyle('styledMapOL',null);"
                        ng-show="! optionsSLD.autoPreview"
                        style="font-size: 13px;">
                    <span translate="sldeditor.apercu.titre">Data preview</span>
                </button>
            </div>
        </div>
        <div style="position: absolute;z-index: 800;" ng-if="displayViewModePanel()">
            <div class="btn-group-vertical" ng-init="optionsSLD.viewMode='carto'">
                <button type="button"
                        class="btn"
                        ng-class="{'btn-info': optionsSLD.viewMode==='carto','btn-default': optionsSLD.viewMode!=='carto'}"
                        ng-click="optionsSLD.viewMode = 'carto';displayCurrentStyle('styledMapOL',null)"
                        style="border-top-left-radius: 0;">
                    <i class="glyphicon glyphicon-globe"></i>
                </button>
                <button type="button"
                        class="btn"
                        ng-class="{'btn-info': optionsSLD.viewMode==='chart','btn-default': optionsSLD.viewMode !=='chart'}"
                        ng-click="optionsSLD.viewMode = 'chart'"
                        style="border-bottom-left-radius:0;">
                    <i class="glyphicon glyphicon-stats"></i>
                </button>
            </div>
        </div>
        <div id="styledMapOL" ng-show="optionsSLD.viewMode==='carto'" class="bloc_apercu" style="height: 448px;"></div>
        <div class="bloc_apercu vectorChart"
             ng-show="optionsSLD.viewMode==='chart'"
             ng-if="displayViewModePanel()"
             style="height: 448px;">
            <div style="margin-top:5px;height: 40px;position: relative;">
                <div class="form-group col-xs-10 col-sm-10 col-md-10 col-lg-10 pull-right" style="z-index: 800;margin-bottom:0px;">
                    <label class="col-xs-6 col-sm-6 col-md-6 col-lg-6 control-label"
                           style="font-weight: normal;font-size: 12px;margin-top: 5px;"
                           translate="sldeditor.edition.field">Attribute field</label>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <select class="form-control form-control-fix"
                                ng-init="loadDataProperties();"
                                ng-model="optionsSLD.chart.attribute"
                                ng-change="loadPlotForAttribute();">
                            <option value=""></option>
                            <option ng-repeat="dp in $parent.attributesExcludeGeometry" ng-value="dp.name">{{dp.name}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div id="chart" style="height: 410px;" ng-init="initPlot();"></div>
        </div>
    </div>
</div>
