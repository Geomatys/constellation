<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>
  <HEAD>
    <TITLE>PostGrid database installation</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </HEAD>
  <BODY>
    <H1>Installation</H1>
    <H2>Prerequites</H2>
    <P>A <A HREF="http://www.postgresql.org/">PostgreSQL</A> server 8.1 or above is needed.
    The <A HREF="http://postgis.refractions.net/">PostGIS</A> extension must be installed
    on the server. An administration tools like <A HREF="http://www.pgadmin.org/">pgAdmin</A>
    on some client machine is recommanded. The following script files are needed:</P>
    <TABLE BORDER='1'>
      <TR>
        <TH>File</TH>
        <TH>Location</TH>
      </TR><TR>
        <TD><CODE>prepare.sql</CODE></TD>
        <TD>This postgrid installation directory</TD>
      </TR><TR>
        <TD><CODE>lwpostgis.sql</CODE></TD>
        <TD>PostGIS installation directory</TD>
      </TR><TR>
        <TD><CODE>spatial_ref_sys.sql</CODE></TD>
        <TD>PostGIS installation directory</TD>
      </TR><TR>
        <TD><CODE>postgis-update.sql</CODE></TD>
        <TD>This postgrid installation directory</TD>
      </TR><TR>
        <TD><CODE>postgrid.sql</CODE></TD>
        <TD>This postgrid installation directory</TD>
      </TR>
    </TABLE>

    <H2>Steps</H2>
    <OL>
      <LI><P>Create an empty database. Any name can fit.</P></LI>

      <LI><P>Run <CODE><B>prepare.sql</B></CODE> for the database created at step 1. Note that this
      script will creates "<CODE>geoadmin</CODE>" and "<CODE>geouser</CODE>" roles. If those roles
      already exist, remove the "<CODE>CREATE ROLE</CODE>" statements. If different role names are
      wanted, search and replace every occurences of "<CODE>geoadmin</CODE>" and "<CODE>geouser</CODE>"
      in <CODE>prepare.sql</CODE>, <CODE>postgis-update.sql</CODE> and <CODE>postgrid.sql</CODE> scripts.</P></LI>

      <LI><P>Open <CODE><B>lwpostgis.sql</B></CODE> in a SQL editor and add the following line at
      the begining of the script:
      <BLOCKQUOTE><PRE>SET search_path = postgis, pg_catalog;</PRE></BLOCKQUOTE>
      Then run the script. The PostGIS tables and functions should be created in the "<CODE>postgis</CODE>"
      schema instead of the default "<CODE>public</CODE>" one.</P></LI>

      <LI><P>Open <CODE><B>spatial_ref_sys.sql</B></CODE> in a SQL editor and add the same line than
      at the previous step. Then run the script.</P></LI>

      <LI><P>Open <CODE><B>spatial_ref_sys.sql</B></CODE> in a SQL editor and add the same line than
      at the previous step. Then run the script.</P></LI>

      <LI><P>Run <CODE><B>postgis-update.sql</B></CODE>. It will adds some vertical coordinate
      reference systems to the "<CODE>spatial_ref_sys</CODE>" table.</P></LI>

      <LI><P>Run <CODE><B>postgrid.sql</B></CODE>.</P></LI>
    </OL>
  </BODY>
</HTML>
